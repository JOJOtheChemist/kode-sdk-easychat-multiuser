# Kode-SDK + ChatKit-JS é¡¹ç›®æ€»è§ˆ

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
/Users/yeya/FlutterProjects/kode-sdk/
â”‚
â”œâ”€â”€ Kode-sdk/                          # åç«¯ AI Agent æ¡†æ¶
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ core/                      # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ infra/
â”‚   â”‚   â”‚   â”œâ”€â”€ provider.ts            # æ¨¡å‹ Provider æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ glm-provider.ts        # GLM-4.5-air å®ç° âœ¨
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ tools/                     # å†…ç½®å·¥å…·
â”‚   â”œâ”€â”€ examples/
â”‚   â”‚   â”œâ”€â”€ test-glm.ts                # GLM åŸºç¡€æµ‹è¯• âœ¨
â”‚   â”‚   â”œâ”€â”€ test-glm-advanced.ts       # GLM é«˜çº§æµ‹è¯• âœ¨
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ å¿«é€Ÿå¼€å§‹.md                     # Kode-SDK å¿«é€Ÿå¼€å§‹ âœ¨
â”‚   â”œâ”€â”€ GLM-é…ç½®è¯´æ˜.md                 # GLM é…ç½®è¯¦ç»†è¯´æ˜ âœ¨
â”‚   â””â”€â”€ run-glm-test.sh                # å¿«é€Ÿæµ‹è¯•è„šæœ¬ âœ¨
â”‚
â””â”€â”€ frontend/                          # å‰ç«¯ UI æ¡†æ¶
    â”œâ”€â”€ chatkit-js/                    # ChatKit-JS é¡¹ç›® ğŸ†•
    â”‚   â”œâ”€â”€ packages/
    â”‚   â”‚   â”œâ”€â”€ chatkit/               # æ ¸å¿ƒåŒ…
    â”‚   â”‚   â”œâ”€â”€ chatkit-react/         # React ç»‘å®š
    â”‚   â”‚   â””â”€â”€ docs/                  # æ–‡æ¡£
    â”‚   â”œâ”€â”€ package.json
    â”‚   â””â”€â”€ README.md
    â”œâ”€â”€ ChatKit-ä½¿ç”¨è¯´æ˜.md             # ChatKit ä½¿ç”¨æŒ‡å— ğŸ†•
    â””â”€â”€ setup-chatkit.sh               # ChatKit è®¾ç½®è„šæœ¬ ğŸ†•
```

## ğŸ¯ æŠ€æœ¯æ ˆ

### åç«¯ (Kode-SDK)
- **è¯­è¨€**: TypeScript/Node.js
- **AI æ¨¡å‹**: GLM-4.5-air (æ™ºè°± AI)
- **æ¡†æ¶**: Kode-SDK (Event-driven Agent Runtime)
- **åŠŸèƒ½**:
  - âœ… Agent ç®¡ç†
  - âœ… å·¥å…·è°ƒç”¨ (Function Calling)
  - âœ… äº‹ä»¶ç³»ç»Ÿ (Progress/Control/Monitor)
  - âœ… æ–­ç‚¹æ¢å¤
  - âœ… å¤š Agent åä½œ

### å‰ç«¯ (ChatKit-JS)
- **è¯­è¨€**: TypeScript/React
- **æ¡†æ¶**: ChatKit-JS (OpenAI)
- **åŒ…ç®¡ç†**: pnpm (monorepo)
- **åŠŸèƒ½**:
  - âœ… å®Œæ•´çš„èŠå¤© UI
  - âœ… æµå¼å“åº”
  - âœ… æ–‡ä»¶ä¸Šä¼ 
  - âœ… å¯Œæ–‡æœ¬ç»„ä»¶
  - âœ… æ·±åº¦è‡ªå®šä¹‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æµ‹è¯• Kode-SDK (GLM-4.5-air)

```bash
# è¿›å…¥ Kode-SDK ç›®å½•
cd /Users/yeya/FlutterProjects/kode-sdk/Kode-sdk

# è¿è¡Œå¿«é€Ÿæµ‹è¯•
./run-glm-test.sh

# æˆ–æ‰‹åŠ¨è¿è¡Œ
npx ts-node examples/test-glm.ts
```

### 2. è®¾ç½® ChatKit-JS

```bash
# è¿›å…¥ frontend ç›®å½•
cd /Users/yeya/FlutterProjects/kode-sdk/frontend

# è¿è¡Œè®¾ç½®è„šæœ¬
./setup-chatkit.sh

# æˆ–æ‰‹åŠ¨è®¾ç½®
cd chatkit-js
pnpm install
pnpm build
pnpm dev:docs
```

## ğŸ”— é›†æˆæ–¹æ¡ˆ

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å‰ç«¯ (ChatKit-JS)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ChatKit React Component      â”‚  â”‚
â”‚  â”‚  - èŠå¤©ç•Œé¢                    â”‚  â”‚
â”‚  â”‚  - æµå¼æ˜¾ç¤º                    â”‚  â”‚
â”‚  â”‚  - æ–‡ä»¶ä¸Šä¼                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTP/SSE
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        API æ¡¥æ¥å±‚ (å¾…å®ç°)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - ä¼šè¯ç®¡ç†                    â”‚  â”‚
â”‚  â”‚  - æ ¼å¼è½¬æ¢                    â”‚  â”‚
â”‚  â”‚  â”‚  OpenAI â†â†’ Kode-SDK       â”‚  â”‚
â”‚  â”‚  - äº‹ä»¶æµè½¬å‘                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      åç«¯ (Kode-SDK + GLM)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Kode-SDK Agent               â”‚  â”‚
â”‚  â”‚  - GLM-4.5-air æ¨¡å‹           â”‚  â”‚
â”‚  â”‚  - å·¥å…·æ‰§è¡Œ                    â”‚  â”‚
â”‚  â”‚  - äº‹ä»¶ç³»ç»Ÿ                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é›†æˆæ­¥éª¤

1. **åˆ›å»º API æ¡¥æ¥æœåŠ¡**
   ```bash
   cd /Users/yeya/FlutterProjects/kode-sdk/frontend
   mkdir api-bridge
   cd api-bridge
   npm init -y
   npm install express cors openai
   ```

2. **å®ç° ChatKit Session API**
   - åˆ›å»º `/api/chatkit/session` ç«¯ç‚¹
   - ç”Ÿæˆ client_secret
   - ç®¡ç†ä¼šè¯çŠ¶æ€

3. **å®ç°æ¶ˆæ¯è½¬å‘é€»è¾‘**
   - æ¥æ”¶ ChatKit æ¶ˆæ¯
   - è½¬æ¢ä¸º Kode-SDK æ ¼å¼
   - è°ƒç”¨ Agent.send()
   - å°†å“åº”æµå¼è¿”å›

4. **å‰ç«¯é›†æˆ**
   - é…ç½® ChatKit React ç»„ä»¶
   - è¿æ¥åˆ° API æ¡¥æ¥å±‚
   - è‡ªå®šä¹‰ UI ä¸»é¢˜

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | Kode-SDK | ChatKit-JS | é›†æˆçŠ¶æ€ |
|------|----------|------------|----------|
| AI å¯¹è¯ | âœ… GLM-4.5-air | âœ… UI å±•ç¤º | ğŸ”„ å¾…æ¡¥æ¥ |
| æµå¼å“åº” | âœ… SSE | âœ… å®æ—¶æ˜¾ç¤º | ğŸ”„ å¾…æ¡¥æ¥ |
| å·¥å…·è°ƒç”¨ | âœ… Function Calling | âœ… å·¥å…·å¯è§†åŒ– | ğŸ”„ å¾…æ¡¥æ¥ |
| æ–‡ä»¶ä¸Šä¼  | âœ… æ–‡ä»¶å·¥å…· | âœ… ä¸Šä¼ ç»„ä»¶ | ğŸ”„ å¾…æ¡¥æ¥ |
| ä¼šè¯ç®¡ç† | âœ… Agent çŠ¶æ€ | âœ… çº¿ç¨‹ç®¡ç† | ğŸ”„ å¾…æ¡¥æ¥ |
| äº‹ä»¶ç³»ç»Ÿ | âœ… 3é€šé“äº‹ä»¶ | âœ… äº‹ä»¶è®¢é˜… | ğŸ”„ å¾…æ¡¥æ¥ |

## ğŸ“š æ–‡æ¡£ç´¢å¼•

### Kode-SDK æ–‡æ¡£
- [å¿«é€Ÿå¼€å§‹.md](./Kode-sdk/å¿«é€Ÿå¼€å§‹.md) - Kode-SDK å…¥é—¨æŒ‡å—
- [GLM-é…ç½®è¯´æ˜.md](./Kode-sdk/GLM-é…ç½®è¯´æ˜.md) - GLM æ¨¡å‹é…ç½®è¯¦è§£
- [README.md](./Kode-sdk/README.md) - å®˜æ–¹æ–‡æ¡£
- [docs/](./Kode-sdk/docs/) - API æ–‡æ¡£

### ChatKit-JS æ–‡æ¡£
- [ChatKit-ä½¿ç”¨è¯´æ˜.md](./frontend/ChatKit-ä½¿ç”¨è¯´æ˜.md) - ChatKit ä½¿ç”¨æŒ‡å—
- [chatkit-js/README.md](./frontend/chatkit-js/README.md) - å®˜æ–¹ README
- [ChatKit å®˜æ–¹æ–‡æ¡£](https://openai.github.io/chatkit-js/) - åœ¨çº¿æ–‡æ¡£

### ç¤ºä¾‹ä»£ç 
- `Kode-sdk/examples/test-glm.ts` - GLM åŸºç¡€æµ‹è¯•
- `Kode-sdk/examples/test-glm-advanced.ts` - GLM é«˜çº§åŠŸèƒ½
- `Kode-sdk/examples/01-agent-inbox.ts` - äº‹ä»¶é©±åŠ¨ç¤ºä¾‹
- ChatKit Starter App - [GitHub](https://github.com/openai/openai-chatkit-starter-app)

## ğŸ¨ ä½¿ç”¨åœºæ™¯

### 1. ç®€å•å¯¹è¯åº”ç”¨
- ä½¿ç”¨ ChatKit UI
- åç«¯è°ƒç”¨ Kode-SDK GLM
- é€‚åˆå¿«é€ŸåŸå‹

### 2. ä¼ä¸šçº§ Agent ç³»ç»Ÿ
- ChatKit æä¾›ä¸“ä¸šç•Œé¢
- Kode-SDK å¤„ç†å¤æ‚é€»è¾‘
- å·¥å…·è°ƒç”¨å¯è§†åŒ–
- å®¡æ‰¹æµç¨‹é›†æˆ

### 3. å¤š Agent åä½œ
- ChatKit å±•ç¤ºå¤šä¸ªå¯¹è¯
- Kode-SDK ç®¡ç† Agent Pool
- Room åä½œåŠŸèƒ½

## ğŸ”§ å¼€å‘å·¥å…·

### Kode-SDK
```bash
# ç¼–è¯‘
npm run build

# å¼€å‘æ¨¡å¼
npm run dev

# æµ‹è¯•
npm test

# è¿è¡Œç¤ºä¾‹
npm run example:agent-inbox
```

### ChatKit-JS
```bash
# å®‰è£…ä¾èµ–
pnpm install

# æ„å»º
pnpm build

# æ–‡æ¡£æœåŠ¡å™¨
pnpm dev:docs

# ä»£ç æ£€æŸ¥
pnpm lint

# æ ¼å¼åŒ–
pnpm format
```

## ğŸ“ˆ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸ (1-2å¤©)
- [ ] åˆ›å»º API æ¡¥æ¥å±‚
- [ ] å®ç°åŸºç¡€æ¶ˆæ¯è½¬å‘
- [ ] æµ‹è¯•æµå¼å“åº”
- [ ] UI åŸºç¡€é›†æˆ

### ä¸­æœŸ (1å‘¨)
- [ ] å®Œæ•´å·¥å…·è°ƒç”¨æ”¯æŒ
- [ ] æ–‡ä»¶ä¸Šä¼ å¤„ç†
- [ ] ä¼šè¯æŒä¹…åŒ–
- [ ] é”™è¯¯å¤„ç†ä¼˜åŒ–

### é•¿æœŸ (1æœˆ)
- [ ] å¤šç”¨æˆ·æ”¯æŒ
- [ ] æƒé™ç®¡ç†
- [ ] å®¡æ‰¹å·¥ä½œæµ
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

## ğŸ¯ æ ¸å¿ƒä»·å€¼

### ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªç»„åˆï¼Ÿ

1. **Kode-SDK**
   - âœ… æœ¬åœ°æ¨¡å‹æ”¯æŒ (GLM-4.5-air)
   - âœ… ä¼ä¸šçº§åŠŸèƒ½ (å®¡æ‰¹ã€æ²»ç†)
   - âœ… é•¿æ—¶è¿è¡Œæ”¯æŒ
   - âœ… å¤š Agent åä½œ

2. **ChatKit-JS**
   - âœ… ä¸“ä¸šçš„ UI ç»„ä»¶
   - âœ… OpenAI å®˜æ–¹æ”¯æŒ
   - âœ… æ·±åº¦è‡ªå®šä¹‰
   - âœ… å¼€ç®±å³ç”¨

3. **é›†æˆä¼˜åŠ¿**
   - âœ… æœ€ä½³ç”¨æˆ·ä½“éªŒ
   - âœ… å¼ºå¤§åç«¯èƒ½åŠ›
   - âœ… çµæ´»æ‰©å±•
   - âœ… æˆç†ŸæŠ€æœ¯æ ˆ

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æµ‹è¯• Kode-SDKï¼Ÿ
A: è¿è¡Œ `cd Kode-sdk && ./run-glm-test.sh`

### Q: å¦‚ä½•å¯åŠ¨ ChatKit æ–‡æ¡£ï¼Ÿ
A: è¿è¡Œ `cd frontend && ./setup-chatkit.sh` ç„¶å `pnpm dev:docs`

### Q: ä¸¤è€…å¦‚ä½•é›†æˆï¼Ÿ
A: éœ€è¦åˆ›å»º API æ¡¥æ¥å±‚ï¼Œå‚è€ƒ"é›†æˆæ–¹æ¡ˆ"éƒ¨åˆ†

### Q: æ”¯æŒå“ªäº›æ¨¡å‹ï¼Ÿ
A: Kode-SDK å½“å‰é…ç½®äº† GLM-4.5-airï¼Œå¯æ‰©å±•å…¶ä»–æ¨¡å‹

## ğŸ“ èµ„æºé“¾æ¥

- [Kode-SDK GitHub](https://github.com/JOJOtheChemist/Kode-sdk)
- [ChatKit-JS GitHub](https://github.com/openai/chatkit-js)
- [ChatKit æ–‡æ¡£](https://openai.github.io/chatkit-js/)
- [GLM API æ–‡æ¡£](https://open.bigmodel.cn/dev/api)

---

**çŠ¶æ€**: âœ… ä¸¤ä¸ªé¡¹ç›®å·²æˆåŠŸä¸‹è½½å’Œé…ç½®  
**ä¸‹ä¸€æ­¥**: åˆ›å»º API æ¡¥æ¥å±‚è¿›è¡Œé›†æˆ

æœ€åæ›´æ–°: 2025-10-13

