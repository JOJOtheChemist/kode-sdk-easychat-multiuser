const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-ponyfill-Dm4-v16s.js","assets/index-CMJ4-CVj.js"])))=>i.map(i=>d[i]);
import{w as xe}from"./chunk-NISHYRIK-DZZPl_mu.js";import{j as d,R as y}from"./index-CMJ4-CVj.js";import{S as V,u as Ce}from"./switch-skeleton-BupO0QzZ.js";import{u as Pe,D as j}from"./use-settings-BjWPgtSy.js";import{i as Le}from"./i18next-Lgj2Bm8L.js";import{_ as ke}from"./useSingleSelectListState-CgyzBZLj.js";import{s as je,c as Re,u as te}from"./open-hands-axios-ClrcRGkQ.js";import{B as Ue}from"./brand-button-CsKuHua0.js";import{I as Ge,S as P}from"./input-skeleton-CwB6AoQ-.js";import{S as R}from"./settings-input-BtoPbxLp.js";import{I as S}from"./utils-jvfsLBpK.js";import{S as He}from"./settings-dropdown-input-DDVUpASu.js";import{h as De}from"./handle-capture-consent-DZaBHqCI.js";import{a as Me,d as qe}from"./custom-toast-handlers-CUA627bF.js";import{r as $e}from"./retrieve-axios-error-message-CYr77e_f.js";import{u as Be}from"./use-config-Zfd3ADvo.js";import"./module-CWLbpm_7.js";import"./use-is-authed-kuEynX9G.js";import"./index-CzfE55oj.js";import"./index-5lEqFw0d.js";const Ve={type:"3rdParty",init(n){je(n.options.react),Re(n)}};function G(n){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(n)}function ne(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":G(XMLHttpRequest))==="object"}function Xe(n){return!!n&&typeof n.then=="function"}function Fe(n){return Xe(n)?n:Promise.resolve(n)}function X(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),o.push.apply(o,t)}return o}function F(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?X(Object(o),!0).forEach(function(t){Ke(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):X(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Ke(n,e,o){return(e=Ye(e))in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function Ye(n){var e=ze(n,"string");return T(e)=="symbol"?e:e+""}function ze(n,e){if(T(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var t=o.call(n,e);if(T(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function T(n){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(n)}var v=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?v=global.fetch:typeof window<"u"&&window.fetch&&(v=window.fetch);var x;ne()&&(typeof global<"u"&&global.XMLHttpRequest?x=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(x=window.XMLHttpRequest));var L;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?L=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(L=window.ActiveXObject));typeof v!="function"&&(v=void 0);if(!v&&!x&&!L)try{ke(()=>import("./browser-ponyfill-Dm4-v16s.js").then(n=>n.b),__vite__mapDeps([0,1])).then(function(n){v=n.default}).catch(function(){})}catch{}var H=function(e,o){if(o&&T(o)==="object"){var t="";for(var i in o)t+="&"+encodeURIComponent(i)+"="+encodeURIComponent(o[i]);if(!t)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+t.slice(1)}return e},K=function(e,o,t,i){var a=function(u){if(!u.ok)return t(u.statusText||"Error",{status:u.status});u.text().then(function(p){t(null,{status:u.status,data:p})}).catch(t)};if(i){var s=i(e,o);if(s instanceof Promise){s.then(a).catch(t);return}}typeof fetch=="function"?fetch(e,o).then(a).catch(t):v(e,o).then(a).catch(t)},Y=!1,We=function(e,o,t,i){e.queryStringParams&&(o=H(o,e.queryStringParams));var a=F({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),t&&(a["Content-Type"]="application/json");var s=typeof e.requestOptions=="function"?e.requestOptions(t):e.requestOptions,r=F({method:t?"POST":"GET",body:t?e.stringify(t):void 0,headers:a},Y?{}:s),u=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{K(o,r,i,u)}catch(p){if(!s||Object.keys(s).length===0||!p.message||p.message.indexOf("not implemented")<0)return i(p);try{Object.keys(s).forEach(function(c){delete r[c]}),K(o,r,i,u),Y=!0}catch(c){i(c)}}},Qe=function(e,o,t,i){t&&T(t)==="object"&&(t=H("",t).slice(1)),e.queryStringParams&&(o=H(o,e.queryStringParams));try{var a=x?new x:new L("MSXML2.XMLHTTP.3.0");a.open(t?"POST":"GET",o,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,t&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var s=e.customHeaders;if(s=typeof s=="function"?s():s,s)for(var r in s)a.setRequestHeader(r,s[r]);a.onreadystatechange=function(){a.readyState>3&&i(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(t)}catch(u){console&&console.log(u)}},Je=function(e,o,t,i){if(typeof t=="function"&&(i=t,t=void 0),i=i||function(){},v&&o.indexOf("file:")!==0)return We(e,o,t,i);if(ne()||typeof ActiveXObject=="function")return Qe(e,o,t,i);i(new Error("No fetch and no xhr implementation found!"))};function O(n){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(n)}function z(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),o.push.apply(o,t)}return o}function U(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?z(Object(o),!0).forEach(function(t){oe(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):z(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Ze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function et(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,ie(t.key),t)}}function tt(n,e,o){return e&&et(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function oe(n,e,o){return(e=ie(e))in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function ie(n){var e=nt(n,"string");return O(e)=="symbol"?e:e+""}function nt(n,e){if(O(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var t=o.call(n,e);if(O(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var ot=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(o){return JSON.parse(o)},stringify:JSON.stringify,parsePayload:function(o,t,i){return oe({},t,i||"")},parseLoadPayload:function(o,t){},request:Je,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},ae=(function(){function n(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ze(this,n),this.services=e,this.options=o,this.allOptions=t,this.type="backend",this.init(e,o,t)}return tt(n,[{key:"init",value:function(o){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=o,this.options=U(U(U({},ot()),this.options||{}),i),this.allOptions=a,this.services&&this.options.reloadInterval){var s=setInterval(function(){return t.reload()},this.options.reloadInterval);O(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(o,t,i){this._readAny(o,o,t,t,i)}},{key:"read",value:function(o,t,i){this._readAny([o],o,[t],t,i)}},{key:"_readAny",value:function(o,t,i,a,s){var r=this,u=this.options.loadPath;typeof this.options.loadPath=="function"&&(u=this.options.loadPath(o,i)),u=Fe(u),u.then(function(p){if(!p)return s(null,{});var c=r.services.interpolator.interpolate(p,{lng:o.join("+"),ns:i.join("+")});r.loadUrl(c,s,t,a)})}},{key:"loadUrl",value:function(o,t,i,a){var s=this,r=typeof i=="string"?[i]:i,u=typeof a=="string"?[a]:a,p=this.options.parseLoadPayload(r,u);this.options.request(this.options,o,p,function(c,l){if(l&&(l.status>=500&&l.status<600||!l.status))return t("failed loading "+o+"; status code: "+l.status,!0);if(l&&l.status>=400&&l.status<500)return t("failed loading "+o+"; status code: "+l.status,!1);if(!l&&c&&c.message){var m=c.message.toLowerCase(),h=["failed","fetch","network","load"].find(function(E){return m.indexOf(E)>-1});if(h)return t("failed loading "+o+": "+c.message,!0)}if(c)return t(c,!1);var b,w;try{typeof l.data=="string"?b=s.options.parse(l.data,i,a):b=l.data}catch{w="failed parsing "+o+" to json"}if(w)return t(w,!1);t(null,b)})}},{key:"create",value:function(o,t,i,a,s){var r=this;if(this.options.addPath){typeof o=="string"&&(o=[o]);var u=this.options.parsePayload(t,i,a),p=0,c=[],l=[];o.forEach(function(m){var h=r.options.addPath;typeof r.options.addPath=="function"&&(h=r.options.addPath(m,t));var b=r.services.interpolator.interpolate(h,{lng:m,ns:t});r.options.request(r.options,b,u,function(w,E){p+=1,c.push(w),l.push(E),p===o.length&&typeof s=="function"&&s(c,l)})})}}},{key:"reload",value:function(){var o=this,t=this.services,i=t.backendConnector,a=t.languageUtils,s=t.logger,r=i.language;if(!(r&&r.toLowerCase()==="cimode")){var u=[],p=function(l){var m=a.toResolveHierarchy(l);m.forEach(function(h){u.indexOf(h)<0&&u.push(h)})};p(r),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return p(c)}),u.forEach(function(c){o.allOptions.ns.forEach(function(l){i.read(c,l,"read",null,null,function(m,h){m&&s.warn("loading namespace ".concat(l," for language ").concat(c," failed"),m),!m&&h&&s.log("loaded namespace ".concat(l," for language ").concat(c),h),i.loaded("".concat(c,"|").concat(l),m,h)})})})}}}])})();ae.type="backend";const{slice:it,forEach:at}=[];function st(n){return at.call(it.call(arguments,1),e=>{if(e)for(const o in e)n[o]===void 0&&(n[o]=e[o])}),n}function rt(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(o=>o.test(n))}const W=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ut=function(n,e){const t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${n}=${i}`;if(t.maxAge>0){const s=t.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(t.domain){if(!W.test(t.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${t.domain}`}if(t.path){if(!W.test(t.path))throw new TypeError("option path is invalid");a+=`; Path=${t.path}`}if(t.expires){if(typeof t.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${t.expires.toUTCString()}`}if(t.httpOnly&&(a+="; HttpOnly"),t.secure&&(a+="; Secure"),t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return t.partitioned&&(a+="; Partitioned"),a},Q={create(n,e,o,t){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};o&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+o*60*1e3)),t&&(i.domain=t),document.cookie=ut(n,e,i)},read(n){const e=`${n}=`,o=document.cookie.split(";");for(let t=0;t<o.length;t++){let i=o[t];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var lt={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return Q.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:o,cookieMinutes:t,cookieDomain:i,cookieOptions:a}=e;o&&typeof document<"u"&&Q.create(o,n,t,i,a)}},ct={name:"querystring",lookup(n){let{lookupQuerystring:e}=n,o;if(typeof window<"u"){let{search:t}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(t=window.location.hash.substring(window.location.hash.indexOf("?")));const a=t.substring(1).split("&");for(let s=0;s<a.length;s++){const r=a[s].indexOf("=");r>0&&a[s].substring(0,r)===e&&(o=a[s].substring(r+1))}}return o}},ft={name:"hash",lookup(n){let{lookupHash:e,lookupFromHashIndex:o}=n,t;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const s=a.split("&");for(let r=0;r<s.length;r++){const u=s[r].indexOf("=");u>0&&s[r].substring(0,u)===e&&(t=s[r].substring(u+1))}}if(t)return t;if(!t&&o>-1){const s=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof o=="number"?o:0]?.replace("/",""):void 0}}}return t}};let I=null;const J=()=>{if(I!==null)return I;try{if(I=typeof window<"u"&&window.localStorage!==null,!I)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{I=!1}return I};var dt={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&J())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:o}=e;o&&J()&&window.localStorage.setItem(o,n)}};let A=null;const Z=()=>{if(A!==null)return A;try{if(A=typeof window<"u"&&window.sessionStorage!==null,!A)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{A=!1}return A};var pt={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&Z())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:o}=e;o&&Z()&&window.sessionStorage.setItem(o,n)}},gt={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:o,userLanguage:t,language:i}=navigator;if(o)for(let a=0;a<o.length;a++)e.push(o[a]);t&&e.push(t),i&&e.push(i)}return e.length>0?e:void 0}},ht={name:"htmlTag",lookup(n){let{htmlTag:e}=n,o;const t=e||(typeof document<"u"?document.documentElement:null);return t&&typeof t.getAttribute=="function"&&(o=t.getAttribute("lang")),o}},mt={name:"path",lookup(n){let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof e=="number"?e:0]?.replace("/",""):void 0}},St={name:"subdomain",lookup(n){let{lookupFromSubdomainIndex:e}=n;const o=typeof e=="number"?e+1:1,t=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(t)return t[o]}};let se=!1;try{document.cookie,se=!0}catch{}const re=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];se||re.splice(1,1);const yt=()=>({order:re,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class ue{constructor(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,o)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=st(o,this.options||{},yt()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=t,this.addDetector(lt),this.addDetector(ct),this.addDetector(dt),this.addDetector(pt),this.addDetector(gt),this.addDetector(ht),this.addDetector(mt),this.addDetector(St),this.addDetector(ft)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,o=[];return e.forEach(t=>{if(this.detectors[t]){let i=this.detectors[t].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(o=o.concat(i))}}),o=o.filter(t=>t!=null&&!rt(t)).map(t=>this.options.convertDetectedLanguage(t)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}cacheUserLanguage(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;o&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||o.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}ue.type="languageDetector";const N=[{label:"English",value:"en"},{label:"日本語",value:"ja"},{label:"简体中文",value:"zh-CN"},{label:"繁體中文",value:"zh-TW"},{label:"한국어",value:"ko-KR"},{label:"Norsk",value:"no"},{label:"Arabic",value:"ar"},{label:"Deutsch",value:"de"},{label:"Français",value:"fr"},{label:"Italiano",value:"it"},{label:"Português",value:"pt"},{label:"Español",value:"es"},{label:"Türkçe",value:"tr"},{label:"Українська",value:"uk"}];Le.use(ae).use(ue).use(Ve).init({fallbackLng:"en",debug:!1,supportedLngs:N.map(n=>n.value),nonExplicitSupportedLngs:!1});function vt({defaultKey:n,onChange:e,name:o}){const{t}=te();return d.jsx(He,{testId:o,name:o,onInputChange:e,label:t(S.SETTINGS$LANGUAGE),items:N.map(i=>({key:i.value,label:i.label})),defaultSelectedKey:n,isClearable:!1,wrapperClassName:"w-full max-w-[680px]"})}function bt(){return d.jsxs("div",{"data-testid":"app-settings-skeleton",className:"px-11 py-9 flex flex-col gap-6",children:[d.jsx(Ge,{}),d.jsx(V,{}),d.jsx(V,{})]})}const ee=n=>{if(!n)return null;const e=parseFloat(n);return e&&e>=1&&Number.isFinite(e)?e:null};function wt(){const{t:n}=te(),{mutate:e,isPending:o}=Ce(),{data:t,isLoading:i}=Pe(),{data:a}=Be(),[s,r]=y.useState(!1),[u,p]=y.useState(!1),[c,l]=y.useState(!1),[m,h]=y.useState(!1),[b,w]=y.useState(!1),[E,D]=y.useState(!1),[le,M]=y.useState(!1),[ce,q]=y.useState(!1),fe=f=>{const g=f.get("language-input")?.toString(),_=N.find(({label:k})=>k===g)?.value||j.LANGUAGE,B=f.get("enable-analytics-switch")?.toString()==="on",we=f.get("enable-sound-notifications-switch")?.toString()==="on",Te=f.get("enable-proactive-conversations-switch")?.toString()==="on",Ee=f.get("enable-solvability-analysis-switch")?.toString()==="on",Ie=f.get("max-budget-per-task-input")?.toString(),Ae=ee(Ie||""),Oe=f.get("git-user-name-input")?.toString()||j.GIT_USER_NAME,_e=f.get("git-user-email-input")?.toString()||j.GIT_USER_EMAIL;e({LANGUAGE:_,user_consents_to_analytics:B,ENABLE_SOUND_NOTIFICATIONS:we,ENABLE_PROACTIVE_CONVERSATION_STARTERS:Te,ENABLE_SOLVABILITY_ANALYSIS:Ee,MAX_BUDGET_PER_TASK:Ae,GIT_USER_NAME:Oe,GIT_USER_EMAIL:_e},{onSuccess:()=>{De(B),qe(n(S.SETTINGS$SAVED))},onError:k=>{const Ne=$e(k);Me(Ne||n(S.ERROR$GENERIC))},onSettled:()=>{r(!1),p(!1),l(!1),h(!1),D(!1),M(!1),q(!1)}})},de=f=>{const g=N.find(({label:_})=>_===f)?.label,C=N.find(({value:_})=>_===t?.LANGUAGE)?.label;r(g!==C)},pe=f=>{const g=!!t?.USER_CONSENTS_TO_ANALYTICS;p(f!==g)},ge=f=>{const g=!!t?.ENABLE_SOUND_NOTIFICATIONS;l(f!==g)},he=f=>{const g=!!t?.ENABLE_PROACTIVE_CONVERSATION_STARTERS;h(f!==g)},me=f=>{const g=!!t?.ENABLE_SOLVABILITY_ANALYSIS;w(f!==g)},Se=f=>{const g=ee(f),C=t?.MAX_BUDGET_PER_TASK;D(g!==C)},ye=f=>{const g=t?.GIT_USER_NAME;M(f!==g)},ve=f=>{const g=t?.GIT_USER_EMAIL;q(f!==g)},be=!s&&!u&&!c&&!m&&!b&&!E&&!le&&!ce,$=!t||i||o;return d.jsxs("form",{"data-testid":"app-settings-screen",action:fe,className:"flex flex-col h-full justify-between",children:[$&&d.jsx(bt,{}),!$&&d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsx(vt,{name:"language-input",defaultKey:t.LANGUAGE,onChange:de}),d.jsx(P,{testId:"enable-analytics-switch",name:"enable-analytics-switch",defaultIsToggled:!!t.USER_CONSENTS_TO_ANALYTICS,onToggle:pe,children:n(S.ANALYTICS$SEND_ANONYMOUS_DATA)}),d.jsx(P,{testId:"enable-sound-notifications-switch",name:"enable-sound-notifications-switch",defaultIsToggled:!!t.ENABLE_SOUND_NOTIFICATIONS,onToggle:ge,children:n(S.SETTINGS$SOUND_NOTIFICATIONS)}),a?.APP_MODE==="saas"&&d.jsx(P,{testId:"enable-proactive-conversations-switch",name:"enable-proactive-conversations-switch",defaultIsToggled:!!t.ENABLE_PROACTIVE_CONVERSATION_STARTERS,onToggle:he,children:n(S.SETTINGS$PROACTIVE_CONVERSATION_STARTERS)}),a?.APP_MODE==="saas"&&d.jsx(P,{testId:"enable-solvability-analysis-switch",name:"enable-solvability-analysis-switch",defaultIsToggled:!!t.ENABLE_SOLVABILITY_ANALYSIS,onToggle:me,children:n(S.SETTINGS$SOLVABILITY_ANALYSIS)}),d.jsx(R,{testId:"max-budget-per-task-input",name:"max-budget-per-task-input",type:"number",label:n(S.SETTINGS$MAX_BUDGET_PER_CONVERSATION),defaultValue:t.MAX_BUDGET_PER_TASK?.toString()||"",onChange:Se,placeholder:n(S.SETTINGS$MAXIMUM_BUDGET_USD),min:1,step:1,className:"w-full max-w-[680px]"}),d.jsxs("div",{className:"border-t border-t-tertiary pt-6 mt-2",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:n(S.SETTINGS$GIT_SETTINGS)}),d.jsx("p",{className:"text-xs mb-4",children:n(S.SETTINGS$GIT_SETTINGS_DESCRIPTION)}),d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsx(R,{testId:"git-user-name-input",name:"git-user-name-input",type:"text",label:n(S.SETTINGS$GIT_USERNAME),defaultValue:t.GIT_USER_NAME||"",onChange:ye,placeholder:"Username for git commits",className:"w-full max-w-[680px]"}),d.jsx(R,{testId:"git-user-email-input",name:"git-user-email-input",type:"email",label:n(S.SETTINGS$GIT_EMAIL),defaultValue:t.GIT_USER_EMAIL||"",onChange:ve,placeholder:"Email for git commits",className:"w-full max-w-[680px]"})]})]})]}),d.jsx("div",{className:"flex gap-6 p-6 justify-end",children:d.jsxs(Ue,{testId:"submit-button",variant:"primary",type:"submit",isDisabled:o||be,children:[!o&&n("SETTINGS$SAVE_CHANGES"),o&&n("SETTINGS$SAVING")]})})]})}const $t=xe(wt);export{$t as default};
