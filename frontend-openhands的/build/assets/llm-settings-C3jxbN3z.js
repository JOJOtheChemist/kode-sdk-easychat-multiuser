import{R as S,p as e,w as Re,B as be}from"./chunk-NISHYRIK-CKdEls7F.js";import{I as i}from"./declaration-B9eIPmUJ.js";import{c as A}from"./utils-BVnsmU2z.js";import{c as De}from"./typography-dnvkoiv9.js";import{P as ve}from"./constants-DE11vt2u.js";import{u as b}from"./useTranslation-DONB_giz.js";import{a as ae,l as P,S as ie}from"./settings-dropdown-input-CJWg5DfQ.js";import{a as je,u as Pe}from"./use-config-DZPclKuv.js";import{O as F}from"./option-service.api-CTPg1Fmy.js";import{D as I,u as we}from"./use-settings-B2QUSrrJ.js";import{u as ke}from"./use-save-settings-CJKB8nlH.js";import{I as w,S as z}from"./input-skeleton-BMCVBFvZ.js";import{T as Ye}from"./tooltip-button-DdCqtqn-.js";import{S as $e}from"./question-circle-Ch6OR6Oo.js";import{S as g}from"./settings-input-BhOUkEtb.js";import{u as Ke,B as Ue}from"./brand-button-BQs8JWFf.js";import{a as le,d as re}from"./custom-toast-handlers-fYPNAJaC.js";import{r as Ge}from"./retrieve-axios-error-message-CYr77e_f.js";import{S as Fe,K as k}from"./key-status-icon-URtPHs0b.js";import{S as B}from"./switch-skeleton-CauuxplW.js";import{u as ze}from"./use-subscription-access-DU8Lpzd9.js";import{B as Be}from"./billing-service.api-Dq_SF9sA.js";import{u as Ve}from"./use-is-authed-Dg_tgDAm.js";import"./open-hands-axios-BIuoB8bl.js";import"./bundle-mjs-0JNfDbnS.js";import"./optional-tag-SXD2PjYq.js";import"./chunk-TX3FPB7D-DZsJI2yo.js";import"./index-JAudiiL9.js";import"./useSingleSelectListState-Dp1i9X5O.js";import"./index-CX-90vHk.js";import"./preload-helper-BXl3LOEh.js";import"./chunk-MSDKUXDP-Cfu5rKGn.js";import"./module-CWLbpm_7.js";import"./index-DWiKAxKp.js";function pe(t){return null}pe.getCollectionNode=function*(l){let{children:r,title:d,items:u}=l;yield{type:"section",props:l,hasChildNodes:!0,rendered:d,"aria-label":l["aria-label"],*childNodes(){if(typeof r=="function"){if(!u)throw new Error("props.children was a function but props.items is missing");for(let p of u)yield{type:"item",value:p,renderer:r}}else{let p=[];S.Children.forEach(r,n=>{p.push({type:"item",element:n})}),yield*p}}}};let He=pe;var Ze=He,Y=Ze;const Z={openai:"OpenAI",azure:"Azure",azure_ai:"Azure AI Studio",vertex_ai:"VertexAI",palm:"PaLM",gemini:"Gemini",anthropic:"Anthropic",sagemaker:"AWS SageMaker",bedrock:"AWS Bedrock",mistral:"Mistral AI",anyscale:"Anyscale",databricks:"Databricks",ollama:"Ollama",perlexity:"Perplexity AI",friendliai:"FriendliAI",groq:"Groq",fireworks_ai:"Fireworks AI",cloudflare:"Cloudflare Workers AI",deepinfra:"DeepInfra",ai21:"AI21",replicate:"Replicate",voyage:"Voyage AI",openrouter:"OpenRouter",openhands:"OpenHands",lemonade:"Lemonade"},oe=t=>Object.keys(Z).includes(t)?Z[t]:t,We=t=>{const l=Object.entries(Z).find(([,r])=>r===t);return l?l[0]:t},V=["openhands","anthropic","openai","mistral","lemonade"],Xe=["o3-mini-2025-01-31","o3-2025-04-16","o3","o4-mini-2025-04-16","claude-3-5-sonnet-20241022","claude-3-7-sonnet-20250219","claude-sonnet-4-20250514","claude-sonnet-4-5-20250929","claude-opus-4-20250514","claude-opus-4-1-20250805","gemini-2.5-pro","o4-mini","deepseek-chat","devstral-small-2505","devstral-small-2507","devstral-medium-2507","kimi-k2-0711-preview","qwen3-coder-480b","gpt-5-2025-08-07","gpt-5-mini-2025-08-07"],qe=["gpt-5-2025-08-07","gpt-5-mini-2025-08-07","gpt-4o","gpt-4o-mini","gpt-4.1","gpt-4.1-2025-04-14","o3","o3-2025-04-16","o4-mini","o4-mini-2025-04-16","codex-mini-latest"],Qe=["claude-3-5-sonnet-20240620","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022","claude-3-7-sonnet-20250219","claude-sonnet-4-20250514","claude-sonnet-4-5-20250929","claude-opus-4-20250514","claude-opus-4-1-20250805"],Je=["devstral-small-2507","devstral-medium-2507","devstral-small-2505"],ue=["claude-sonnet-4-20250514","claude-sonnet-4-5-20250929","gpt-5-2025-08-07","gpt-5-mini-2025-08-07","claude-opus-4-20250514","claude-opus-4-1-20250805","gemini-2.5-pro","o3","o4-mini","devstral-small-2507","devstral-medium-2507","devstral-small-2505","kimi-k2-0711-preview","qwen3-coder-480b"],H="openhands/claude-sonnet-4-20250514",et=t=>!Number.isNaN(Number(t)),tt=t=>t[1]&&t[1][0]&&et(t[1][0]),W=t=>{let l="/",r=t.split(l);if(r.length===1&&(l=".",r=t.split(l),tt(r)&&(r=[r.join(l)])),r.length===1)return qe.includes(r[0])?{provider:"openai",model:r[0],separator:"/"}:Qe.includes(r[0])?{provider:"anthropic",model:r[0],separator:"/"}:Je.includes(r[0])?{provider:"mistral",model:r[0],separator:"/"}:ue.includes(r[0])?{provider:"openhands",model:r[0],separator:"/"}:{provider:"",model:t,separator:""};const[d,...u]=r;return{provider:d,model:u.join(l),separator:l}},ce=De("",{variants:{size:{default:"text-xs",settings:"text-sm text-[#A3A3A3] font-normal leading-5.5"},linkColor:{default:"",white:"text-white"}},defaultVariants:{size:"default",linkColor:"default"}});function L({testId:t,text:l,linkText:r,href:d,suffix:u,size:p,linkColor:n,className:E,linkTextClassName:h,suffixClassName:_}){return e.jsxs("p",{"data-testid":t,className:A(ce({size:p}),E),children:[l," ",e.jsx("a",{href:d,rel:"noreferrer noopener",target:"_blank",className:A("underline underline-offset-2",ce({size:p,linkColor:n}),h),children:r}),u&&e.jsx("span",{className:_,children:u})]})}function st({isDisabled:t,models:l,currentModel:r,onChange:d,wrapperClassName:u,labelClassName:p}){const[,n]=S.useState(null),[E,h]=S.useState(null),[_,C]=S.useState(null),O=()=>E==="openhands"?ue:Xe;S.useEffect(()=>{if(r){const{provider:a,model:N}=W(r);n(r),h(a),C(N)}},[r]);const $=a=>{h(a),C(null);const N=l[a]?.separator||"";n(a+N)},T=a=>{const N=l[E||""]?.separator||"";let x=E+N+a;E==="openai"&&(x=a),n(x),C(a),d?.(x)},M=()=>{h(null),n(null)},{t:m}=b();return e.jsxs("div",{className:A("flex flex-col md:flex-row w-[full] max-w-[680px] justify-between gap-4 md:gap-[46px]",u),children:[e.jsxs("fieldset",{className:"flex flex-col gap-2.5 w-full",children:[e.jsx("label",{className:A("text-sm",p),children:m(i.LLM$PROVIDER)}),e.jsxs(ae,{"data-testid":"llm-provider-input",isRequired:!0,isVirtualized:!1,name:"llm-provider-input",isDisabled:t,"aria-label":m(i.LLM$PROVIDER),placeholder:m(i.LLM$SELECT_PROVIDER_PLACEHOLDER),isClearable:!1,onSelectionChange:a=>{a?.toString()&&$(a.toString())},onInputChange:a=>!a&&M(),defaultSelectedKey:E??void 0,selectedKey:E,classNames:{popoverContent:"bg-tertiary rounded-xl border border-[#717888]"},inputProps:{classNames:{inputWrapper:"bg-tertiary border border-[#717888] h-10 w-full rounded-sm p-2 placeholder:italic"}},children:[e.jsx(Y,{title:m(i.MODEL_SELECTOR$VERIFIED),children:V.filter(a=>l[a]).map(a=>e.jsx(P,{"data-testid":`provider-item-${a}`,children:oe(a)},a))}),Object.keys(l).some(a=>!V.includes(a))?e.jsx(Y,{title:m(i.MODEL_SELECTOR$OTHERS),children:Object.keys(l).filter(a=>!V.includes(a)).map(a=>e.jsx(P,{children:oe(a)},a))}):null]})]}),E==="openhands"&&e.jsx(L,{testId:"openhands-account-help",text:m(i.SETTINGS$NEED_OPENHANDS_ACCOUNT),linkText:m(i.SETTINGS$CLICK_HERE),href:ve.PRODUCTION,size:"settings",linkColor:"white"}),e.jsxs("fieldset",{className:"flex flex-col gap-2.5 w-full",children:[e.jsx("label",{className:A("text-sm",p),children:m(i.LLM$MODEL)}),e.jsxs(ae,{"data-testid":"llm-model-input",isRequired:!0,isVirtualized:!1,name:"llm-model-input","aria-label":m(i.LLM$MODEL),placeholder:m(i.LLM$SELECT_MODEL_PLACEHOLDER),isClearable:!1,onSelectionChange:a=>{a?.toString()&&T(a.toString())},isDisabled:t||!E,selectedKey:_,defaultSelectedKey:_??void 0,classNames:{popoverContent:"bg-tertiary rounded-xl border border-[#717888]"},inputProps:{classNames:{inputWrapper:"bg-tertiary border border-[#717888] h-10 w-full rounded-sm p-2 placeholder:italic"}},children:[e.jsx(Y,{title:m(i.MODEL_SELECTOR$VERIFIED),children:O().filter(a=>l[E||""]?.models?.includes(a)).map(a=>e.jsx(P,{children:a},a))}),l[E||""]?.models?.some(a=>!O().includes(a))?e.jsx(Y,{title:m(i.MODEL_SELECTOR$OTHERS),children:l[E||""]?.models.filter(a=>!O().includes(a)).map(a=>e.jsx(P,{"data-testid":`model-item-${a}`,children:a},a))}):null]})]})]})}const Ee=t=>{const l={};return t.forEach(r=>{const{separator:d,provider:u,model:p}=W(r);if(u==="anthropic"&&d===".")return;const n=u||"other";l[n]||(l[n]={separator:d,models:[]}),l[n].models.push(p)}),l},nt=async()=>({models:await F.getModels(),agents:await F.getAgents(),securityAnalyzers:await F.getSecurityAnalyzers()}),at=()=>je({queryKey:["ai-config-options"],queryFn:nt,staleTime:1e3*60*5,gcTime:1e3*60*15}),it=t=>Object.keys(t).length>0&&(!!t.LLM_BASE_URL||t.AGENT!==I.AGENT),lt=(t,l)=>{if(!l)return!1;const r=Ee(t),{provider:d,model:u}=W(l);return!(d in r&&r[d].models.includes(u))};function rt(){return e.jsxs("div",{"data-testid":"app-settings-skeleton",className:"px-11 py-9 flex flex-col gap-6",children:[e.jsx(B,{}),e.jsx(w,{}),e.jsx(w,{}),e.jsx(w,{}),e.jsx(Fe,{}),e.jsx(B,{}),e.jsx(B,{}),e.jsx(w,{})]})}function ot({onClick:t,className:l,isDisabled:r}){const{t:d}=b();return e.jsx("button",{type:"button",onClick:t,disabled:r,className:A("bg-neutral-500 text-white text-[9px] font-medium w-16 h-4 rounded-[100px] mix-blend-multiply hover:opacity-80 transition-opacity cursor-pointer",l),children:d("SETTINGS$UPGRADE_BUTTON")})}function ct({message:t,className:l}){return e.jsx("p",{className:A("text-xs font-medium text-black",l),children:t})}function dt({message:t,onUpgradeClick:l,className:r,isDisabled:d}){return e.jsxs("div",{className:A("bg-primary text-base flex items-center justify-center gap-3 p-2 w-full rounded",r),"data-testid":"upgrade-banner",children:[e.jsx(ct,{message:t}),e.jsx(ot,{onClick:l,isDisabled:d})]})}function pt({onUpgradeClick:t,isDisabled:l}){const{t:r}=b();return e.jsxs(e.Fragment,{children:[e.jsx(dt,{message:r("SETTINGS$UPGRADE_BANNER_MESSAGE"),onUpgradeClick:t,className:"sticky top-0 z-30 mb-6",isDisabled:l}),e.jsx("div",{"data-testid":"settings-backdrop",className:"absolute inset-0 z-20 opacity-50 bg-[#26282D]"})]})}const ut=()=>Ke({mutationFn:Be.createSubscriptionCheckoutSession,onSuccess:t=>{t.redirect_url&&(window.location.href=t.redirect_url)}});function de({testId:t}){const{t:l}=b();return e.jsxs(e.Fragment,{children:[e.jsx(L,{testId:t,text:l(i.SETTINGS$OPENHANDS_API_KEY_HELP_TEXT),linkText:l(i.SETTINGS$NAV_API_KEYS),href:"https://app.all-hands.dev/settings/api-keys",suffix:` ${l(i.SETTINGS$OPENHANDS_API_KEY_HELP_SUFFIX)}`}),e.jsxs("p",{className:"text-xs",children:[l(i.SETTINGS$LLM_BILLING_INFO)," ",e.jsx("a",{href:"https://docs.all-hands.dev/usage/llms/openhands-llms",rel:"noreferrer noopener",target:"_blank",className:"underline underline-offset-2",children:l(i.SETTINGS$SEE_PRICING_DETAILS)})]})]})}function Et(){const{t}=b(),[l,r]=be(),{mutate:d,isPending:u}=ke(),{data:p}=at(),{data:n,isLoading:E,isFetching:h}=we(),{data:_}=Pe(),{data:C}=ze(),{data:O}=Ve(),{mutate:$}=ut(),[T,M]=S.useState("basic"),[m,a]=S.useState({model:!1,apiKey:!1,searchApiKey:!1,baseUrl:!1,agent:!1,confirmationMode:!1,enableDefaultCondenser:!1,securityAnalyzer:!1,condenserMaxSize:!1}),[N,x]=S.useState(null),[Se,X]=S.useState(n?.CONFIRMATION_MODE??I.CONFIRMATION_MODE),[K,D]=S.useState(n?.SECURITY_ANALYZER===null?"none":n?.SECURITY_ANALYZER??I.SECURITY_ANALYZER),me=Ee(p?.models||[]);S.useEffect(()=>{const o=p&&n?lt(p.models,n.LLM_MODEL)||it({...n}):!1;M(o?"advanced":"basic")},[n,p]),S.useEffect(()=>{n?.LLM_MODEL&&x(n.LLM_MODEL)},[n?.LLM_MODEL]),S.useEffect(()=>{n?.CONFIRMATION_MODE!==void 0&&X(n.CONFIRMATION_MODE)},[n?.CONFIRMATION_MODE]),S.useEffect(()=>{n?.SECURITY_ANALYZER!==void 0&&D(n.SECURITY_ANALYZER||"none")},[n?.SECURITY_ANALYZER]),S.useEffect(()=>{const s=l.get("checkout");s==="success"?(le(t(i.SUBSCRIPTION$SUCCESS)),r({})):s==="cancel"&&(re(t(i.SUBSCRIPTION$FAILURE)),r({}))},[l,r,t]);const q=()=>{le(t(i.SETTINGS$SAVED_WARNING)),a({model:!1,apiKey:!1,searchApiKey:!1,baseUrl:!1,agent:!1,confirmationMode:!1,enableDefaultCondenser:!1,securityAnalyzer:!1,condenserMaxSize:!1})},Q=s=>{const o=Ge(s);re(o||t(i.ERROR$GENERIC))},Ie=s=>{const o=s.get("llm-provider-input")?.toString(),c=o?We(o):void 0,y=s.get("llm-model-input")?.toString(),R=s.get("llm-api-key-input")?.toString(),U=s.get("search-api-key-input")?.toString(),G=s.get("enable-confirmation-mode-switch")?.toString()==="on",v=s.get("security-analyzer-input")?.toString(),j=c&&y&&`${c}/${y}`;d({LLM_MODEL:j,llm_api_key:R||null,SEARCH_API_KEY:U||"",CONFIRMATION_MODE:G,SECURITY_ANALYZER:v==="none"?null:v||I.SECURITY_ANALYZER,LLM_BASE_URL:I.LLM_BASE_URL,AGENT:I.AGENT,ENABLE_DEFAULT_CONDENSER:I.ENABLE_DEFAULT_CONDENSER},{onSuccess:q,onError:Q})},fe=s=>{const o=s.get("llm-custom-model-input")?.toString(),c=s.get("base-url-input")?.toString(),y=s.get("llm-api-key-input")?.toString(),R=s.get("search-api-key-input")?.toString(),U=s.get("agent-input")?.toString(),G=s.get("enable-confirmation-mode-switch")?.toString()==="on",v=s.get("enable-memory-condenser-switch")?.toString()==="on",j=s.get("condenser-max-size-input")?.toString(),se=j?Number.parseInt(j,10):void 0,Me=se!==void 0?Math.max(20,se):void 0,ne=s.get("security-analyzer-input")?.toString();d({LLM_MODEL:o,LLM_BASE_URL:c,llm_api_key:y||null,SEARCH_API_KEY:R||"",AGENT:U,CONFIRMATION_MODE:G,ENABLE_DEFAULT_CONDENSER:v,CONDENSER_MAX_SIZE:Me??I.CONDENSER_MAX_SIZE,SECURITY_ANALYZER:ne==="none"?null:ne||I.SECURITY_ANALYZER},{onSuccess:q,onError:Q})},Ae=s=>{M(s?"advanced":"basic"),a({model:!1,apiKey:!1,searchApiKey:!1,baseUrl:!1,agent:!1,confirmationMode:!1,enableDefaultCondenser:!1,securityAnalyzer:!1,condenserMaxSize:!1})},_e=s=>{const o=s!==n?.LLM_MODEL.replace("openai/","");a(c=>({...c,model:o})),x(s)},J=s=>{const o=s!=="";a(c=>({...c,apiKey:o}))},ee=s=>{const o=s!==n?.SEARCH_API_KEY;a(c=>({...c,searchApiKey:o}))},he=s=>{const o=s!==n?.LLM_MODEL&&s!=="";a(c=>({...c,model:o})),x(s)},Ne=s=>{const o=s!==n?.LLM_BASE_URL;a(c=>({...c,baseUrl:o}))},Te=s=>{const o=s!==n?.AGENT&&s!=="";a(c=>({...c,agent:o}))},xe=s=>{const o=s!==n?.CONFIRMATION_MODE;a(c=>({...c,confirmationMode:o})),X(s),s&&!K&&(D(I.SECURITY_ANALYZER),a(c=>({...c,securityAnalyzer:!0})))},ge=s=>{const o=s!==n?.ENABLE_DEFAULT_CONDENSER;a(c=>({...c,enableDefaultCondenser:o}))},ye=s=>{const o=s?Number.parseInt(s,10):void 0,y=((o!==void 0?Math.max(20,o):void 0)??I.CONDENSER_MAX_SIZE)!==(n?.CONDENSER_MAX_SIZE??I.CONDENSER_MAX_SIZE);a(R=>({...R,condenserMaxSize:y}))},te=s=>{const o=s!==n?.SECURITY_ANALYZER;a(c=>({...c,securityAnalyzer:o}))},Le=Object.values(m).some(s=>s),Ce=()=>{const s=p?.securityAnalyzers||[],o=[];return s.includes("llm")&&o.push({key:"llm",label:t(i.SETTINGS$SECURITY_ANALYZER_LLM_DEFAULT)}),o.push({key:"none",label:t(i.SETTINGS$SECURITY_ANALYZER_NONE)}),s.includes("invariant")&&o.push({key:"invariant",label:t(i.SETTINGS$SECURITY_ANALYZER_INVARIANT)}),s.forEach(c=>{["llm","invariant","none"].includes(c)||o.push({key:c,label:c})}),o};if(!n||h)return e.jsx(rt,{});const f=_?.APP_MODE==="saas"&&!C,Oe=s=>{f||(T==="basic"?Ie(s):fe(s))};return e.jsxs("div",{"data-testid":"llm-settings-screen",className:A("h-full relative",f&&"overflow-hidden"),children:[f&&e.jsx(pt,{onUpgradeClick:()=>{$()},isDisabled:!O}),e.jsxs("form",{action:Oe,className:A("flex flex-col h-full justify-between",f&&"h-[calc(100%-theme(spacing.12))]"),inert:f,children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(z,{testId:"advanced-settings-switch",defaultIsToggled:T==="advanced",onToggle:Ae,isToggled:T==="advanced",isDisabled:f,children:t(i.SETTINGS$ADVANCED)}),T==="basic"&&e.jsxs("div",{"data-testid":"llm-settings-form-basic",className:"flex flex-col gap-6","aria-disabled":f?"true":void 0,children:[!E&&!h&&e.jsxs(e.Fragment,{children:[e.jsx(st,{models:me,currentModel:n.LLM_MODEL||H,onChange:_e,isDisabled:f,wrapperClassName:"!flex-col !gap-6"}),(n.LLM_MODEL?.startsWith("openhands/")||N?.startsWith("openhands/"))&&e.jsx(de,{testId:"openhands-api-key-help"})]}),e.jsx(g,{testId:"llm-api-key-input",name:"llm-api-key-input",label:t(i.SETTINGS_FORM$API_KEY),type:"password",className:"w-full max-w-[680px]",placeholder:n.LLM_API_KEY_SET?"<hidden>":"",onChange:J,isDisabled:f,startContent:n.LLM_API_KEY_SET&&e.jsx(k,{isSet:n.LLM_API_KEY_SET})}),e.jsx(L,{testId:"llm-api-key-help-anchor",text:t(i.SETTINGS$DONT_KNOW_API_KEY),linkText:t(i.SETTINGS$CLICK_FOR_INSTRUCTIONS),href:"https://docs.all-hands.dev/usage/local-setup#getting-an-api-key"}),_?.APP_MODE!=="saas"&&e.jsx(g,{testId:"search-api-key-input",name:"search-api-key-input",label:t(i.SETTINGS$SEARCH_API_KEY),type:"password",className:"w-full max-w-[680px]",defaultValue:n.SEARCH_API_KEY||"",onChange:ee,placeholder:t(i.API$TAVILY_KEY_EXAMPLE),isDisabled:f,startContent:n.SEARCH_API_KEY_SET&&e.jsx(k,{isSet:n.SEARCH_API_KEY_SET})}),_?.APP_MODE!=="saas"&&e.jsx(L,{testId:"search-api-key-help-anchor",text:t(i.SETTINGS$SEARCH_API_KEY_OPTIONAL),linkText:t(i.SETTINGS$SEARCH_API_KEY_INSTRUCTIONS),href:"https://tavily.com/"})]}),T==="advanced"&&e.jsxs("div",{"data-testid":"llm-settings-form-advanced",className:"flex flex-col gap-6",children:[e.jsx(g,{testId:"llm-custom-model-input",name:"llm-custom-model-input",label:t(i.SETTINGS$CUSTOM_MODEL),defaultValue:n.LLM_MODEL||H,placeholder:H,type:"text",className:"w-full max-w-[680px]",onChange:he}),(n.LLM_MODEL?.startsWith("openhands/")||N?.startsWith("openhands/"))&&e.jsx(de,{testId:"openhands-api-key-help-2"}),e.jsx(g,{testId:"base-url-input",name:"base-url-input",label:t(i.SETTINGS$BASE_URL),defaultValue:n.LLM_BASE_URL,placeholder:"https://api.openai.com",type:"text",className:"w-full max-w-[680px]",onChange:Ne}),e.jsx(g,{testId:"llm-api-key-input",name:"llm-api-key-input",label:t(i.SETTINGS_FORM$API_KEY),type:"password",className:"w-full max-w-[680px]",placeholder:n.LLM_API_KEY_SET?"<hidden>":"",onChange:J,startContent:n.LLM_API_KEY_SET&&e.jsx(k,{isSet:n.LLM_API_KEY_SET})}),e.jsx(L,{testId:"llm-api-key-help-anchor-advanced",text:t(i.SETTINGS$DONT_KNOW_API_KEY),linkText:t(i.SETTINGS$CLICK_FOR_INSTRUCTIONS),href:"https://docs.all-hands.dev/usage/local-setup#getting-an-api-key"}),_?.APP_MODE!=="saas"&&e.jsxs(e.Fragment,{children:[e.jsx(g,{testId:"search-api-key-input",name:"search-api-key-input",label:t(i.SETTINGS$SEARCH_API_KEY),type:"password",className:"w-full max-w-[680px]",defaultValue:n.SEARCH_API_KEY||"",onChange:ee,placeholder:t(i.API$TVLY_KEY_EXAMPLE),isDisabled:f,startContent:n.SEARCH_API_KEY_SET&&e.jsx(k,{isSet:n.SEARCH_API_KEY_SET})}),e.jsx(L,{testId:"search-api-key-help-anchor",text:t(i.SETTINGS$SEARCH_API_KEY_OPTIONAL),linkText:t(i.SETTINGS$SEARCH_API_KEY_INSTRUCTIONS),href:"https://tavily.com/"}),e.jsx(ie,{testId:"agent-input",name:"agent-input",label:t(i.SETTINGS$AGENT),items:p?.agents.map(s=>({key:s,label:s}))||[],defaultSelectedKey:n.AGENT,isClearable:!1,onInputChange:Te,wrapperClassName:"w-full max-w-[680px]"})]}),e.jsxs("div",{className:"w-full max-w-[680px]",children:[e.jsx(g,{testId:"condenser-max-size-input",name:"condenser-max-size-input",type:"number",min:20,step:1,label:t(i.SETTINGS$CONDENSER_MAX_SIZE),defaultValue:(n.CONDENSER_MAX_SIZE??I.CONDENSER_MAX_SIZE)?.toString(),onChange:s=>ye(s),isDisabled:!n.ENABLE_DEFAULT_CONDENSER}),e.jsx("p",{className:"text-xs text-tertiary-alt mt-1",children:t(i.SETTINGS$CONDENSER_MAX_SIZE_TOOLTIP)})]}),e.jsx(z,{testId:"enable-memory-condenser-switch",name:"enable-memory-condenser-switch",defaultIsToggled:n.ENABLE_DEFAULT_CONDENSER,onToggle:ge,children:t(i.SETTINGS$ENABLE_MEMORY_CONDENSATION)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{testId:"enable-confirmation-mode-switch",name:"enable-confirmation-mode-switch",onToggle:xe,defaultIsToggled:n.CONFIRMATION_MODE,isBeta:!0,isDisabled:f,children:t(i.SETTINGS$CONFIRMATION_MODE)}),e.jsx(Ye,{tooltip:t(i.SETTINGS$CONFIRMATION_MODE_TOOLTIP),ariaLabel:t(i.SETTINGS$CONFIRMATION_MODE),className:"text-[#9099AC] hover:text-white cursor-help",children:e.jsx($e,{width:16,height:16})})]}),Se&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full max-w-[680px]",children:[e.jsx(ie,{testId:"security-analyzer-input",name:"security-analyzer-display",label:t(i.SETTINGS$SECURITY_ANALYZER),items:Ce(),placeholder:t(i.SETTINGS$SECURITY_ANALYZER_PLACEHOLDER),selectedKey:K||"none",isClearable:!1,onSelectionChange:s=>{const o=s?.toString()||"";D(o),te(o)},onInputChange:s=>{s||(D(""),te(""))},wrapperClassName:"w-full"}),e.jsx("input",{type:"hidden",name:"security-analyzer-input",value:K||""})]}),e.jsx("p",{className:"text-xs text-tertiary-alt max-w-[680px]",children:t(i.SETTINGS$SECURITY_ANALYZER_DESCRIPTION)})]})]}),e.jsx("div",{className:"flex gap-6 p-6 justify-end",children:e.jsxs(Ue,{testId:"submit-button",type:"submit",variant:"primary",isDisabled:!Le||u,children:[!u&&t("SETTINGS$SAVE_CHANGES"),u&&t("SETTINGS$SAVING")]})})]})]})}const Zt=Re(Et);export{Zt as default};
