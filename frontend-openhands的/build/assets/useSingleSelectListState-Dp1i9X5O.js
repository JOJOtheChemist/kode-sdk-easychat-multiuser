import{aa as ht,N as yt,M as ce,ab as vt,K as le,h as De,i as Se,f as N,e as Qe,j as Je,R as X,ac as pt,ad as _e,ae as gt,af as bt,ag as H,ah as U,ai as $t,aj as mt,$ as J,ak as Kt,al as St,k as et,n as Me,O as Pt,am as xt,an as wt,l as Tt,Q as tt,P as Dt,I as Pe,a8 as Ie,a7 as Et,B as lt}from"./index-JAudiiL9.js";import{r as g,R as j,p as kt}from"./chunk-NISHYRIK-CKdEls7F.js";import{r as Ct}from"./index-CX-90vHk.js";import{t as Ft,f as Mt}from"./chunk-TX3FPB7D-DZsJI2yo.js";var It=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),At=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),Ae=/^(data-.*)$/,Rt=/^(aria-.*)$/,ie=/^(on[A-Z].*)$/;function Lt(i,e={}){let{labelable:t=!0,enabled:l=!0,propNames:n,omitPropNames:r,omitEventNames:s,omitDataProps:c,omitEventProps:d}=e,v={};if(!l)return i;for(const y in i)r?.has(y)||s?.has(y)&&ie.test(y)||ie.test(y)&&!At.has(y)||c&&Ae.test(y)||d&&ie.test(y)||(Object.prototype.hasOwnProperty.call(i,y)&&(It.has(y)||t&&Rt.test(y)||n?.has(y)||Ae.test(y))||ie.test(y))&&(v[y]=i[y]);return v}function Bt(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ot(i,e,t){Bt(i,e),e.set(i,t)}const Ut=g.createContext({isNative:!0,open:Vt,useHref:i=>i});function Ee(){return g.useContext(Ut)}function _(i,e,t=!0){var l,n;let{metaKey:r,ctrlKey:s,altKey:c,shiftKey:d}=e;ht()&&(!((n=window.event)===null||n===void 0||(l=n.type)===null||l===void 0)&&l.startsWith("key"))&&i.target==="_blank"&&(ce()?r=!0:s=!0);let v=yt()&&ce()&&!vt()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:r,ctrlKey:s,altKey:c,shiftKey:d}):new MouseEvent("click",{metaKey:r,ctrlKey:s,altKey:c,shiftKey:d,bubbles:!0,cancelable:!0});_.isOpening=t,le(i),i.dispatchEvent(v),_.isOpening=!1}_.isOpening=!1;function zt(i,e){if(i instanceof HTMLAnchorElement)e(i);else if(i.hasAttribute("data-href")){let t=document.createElement("a");t.href=i.getAttribute("data-href"),i.hasAttribute("data-target")&&(t.target=i.getAttribute("data-target")),i.hasAttribute("data-rel")&&(t.rel=i.getAttribute("data-rel")),i.hasAttribute("data-download")&&(t.download=i.getAttribute("data-download")),i.hasAttribute("data-ping")&&(t.ping=i.getAttribute("data-ping")),i.hasAttribute("data-referrer-policy")&&(t.referrerPolicy=i.getAttribute("data-referrer-policy")),i.appendChild(t),e(t),i.removeChild(t)}}function Vt(i,e){zt(i,t=>_(t,e))}function Cl(i){let e=Ee();var t;const l=e.useHref((t=i?.href)!==null&&t!==void 0?t:"");return{href:i?.href?l:void 0,target:i?.target,rel:i?.rel,download:i?.download,ping:i?.ping,referrerPolicy:i?.referrerPolicy}}function Fl(i,e){let{id:t,"aria-label":l,"aria-labelledby":n}=i;return t=De(t),n&&l?n=[...new Set([t,...n.trim().split(/\s+/)])].join(" "):n&&(n=n.trim().split(/\s+/).join(" ")),!l&&!n&&e&&(l=e),{id:t,"aria-label":l,"aria-labelledby":n}}function Re(i,e){const t=g.useRef(!0),l=g.useRef(null);Se(()=>(t.current=!0,()=>{t.current=!1}),[]),Se(()=>{t.current?t.current=!1:(!l.current||e.some((n,r)=>!Object.is(n,l[r])))&&i(),l.current=e},e)}function xe(i,e){if(!i)return!1;let t=window.getComputedStyle(i),l=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return l&&e&&(l=i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth),l}function Wt(i,e){const t=[];for(;i&&i!==document.documentElement;)xe(i,e)&&t.push(i),i=i.parentElement;return t}let Ht=0;const ge=new Map;function Nt(i){let[e,t]=g.useState();return Se(()=>{if(!i)return;let l=ge.get(i);if(l)t(l.element.id);else{let n=`react-aria-description-${Ht++}`;t(n);let r=document.createElement("div");r.id=n,r.style.display="none",r.textContent=i,document.body.appendChild(r),l={refCount:0,element:r},ge.set(i,l)}return l.refCount++,()=>{l&&--l.refCount===0&&(l.element.remove(),ge.delete(i))}},[i]),{"aria-describedby":i?e:void 0}}function ne(i,e,t,l){let n=N(t),r=t==null;g.useEffect(()=>{if(r||!i.current)return;let s=i.current;return s.addEventListener(e,n,l),()=>{s.removeEventListener(e,n,l)}},[i,e,l,r,n])}function it(i,e){let t=Le(i,e,"left"),l=Le(i,e,"top"),n=e.offsetWidth,r=e.offsetHeight,s=i.scrollLeft,c=i.scrollTop,{borderTopWidth:d,borderLeftWidth:v,scrollPaddingTop:y,scrollPaddingRight:m,scrollPaddingBottom:S,scrollPaddingLeft:D}=getComputedStyle(i),x=s+parseInt(v,10),F=c+parseInt(d,10),P=x+i.clientWidth,K=F+i.clientHeight,T=parseInt(y,10)||0,w=parseInt(S,10)||0,E=parseInt(m,10)||0,M=parseInt(D,10)||0;t<=s+M?s=t-parseInt(v,10)-M:t+n>P-E&&(s+=t+n-P+E),l<=F+T?c=l-parseInt(d,10)-T:l+r>K-w&&(c+=l+r-K+w),i.scrollLeft=s,i.scrollTop=c}function Le(i,e,t){const l=t==="left"?"offsetLeft":"offsetTop";let n=0;for(;e.offsetParent&&(n+=e[l],e.offsetParent!==i);){if(e.offsetParent.contains(i)){n-=i[l];break}e=e.offsetParent}return n}function Be(i,e){if(i&&document.contains(i)){let s=document.scrollingElement||document.documentElement;if(window.getComputedStyle(s).overflow==="hidden"){let d=Wt(i);for(let v of d)it(v,i)}else{var t;let{left:d,top:v}=i.getBoundingClientRect();i==null||(t=i.scrollIntoView)===null||t===void 0||t.call(i,{block:"nearest"});let{left:y,top:m}=i.getBoundingClientRect();if(Math.abs(d-y)>1||Math.abs(v-m)>1){var l,n,r;e==null||(n=e.containingElement)===null||n===void 0||(l=n.scrollIntoView)===null||l===void 0||l.call(n,{block:"center",inline:"center"}),(r=i.scrollIntoView)===null||r===void 0||r.call(i,{block:"nearest"})}}}}const jt="react-aria-clear-focus",Yt="react-aria-focus";function ee(i){return ce()?i.metaKey:i.ctrlKey}let be=new Map;function Gt(i){let{locale:e}=Qe(),t=e+(i?Object.entries(i).sort((n,r)=>n[0]<r[0]?-1:1).join():"");if(be.has(t))return be.get(t);let l=new Intl.Collator(e,i);return be.set(t,l),l}let te="default",we="",oe=new WeakMap;function Xt(i){if(Je()){if(te==="default"){const e=X(i);we=e.documentElement.style.webkitUserSelect,e.documentElement.style.webkitUserSelect="none"}te="disabled"}else if(i instanceof HTMLElement||i instanceof SVGElement){let e="userSelect"in i.style?"userSelect":"webkitUserSelect";oe.set(i,i.style[e]),i.style[e]="none"}}function Oe(i){if(Je()){if(te!=="disabled")return;te="restoring",setTimeout(()=>{pt(()=>{if(te==="restoring"){const e=X(i);e.documentElement.style.webkitUserSelect==="none"&&(e.documentElement.style.webkitUserSelect=we||""),we="",te="default"}})},300)}else if((i instanceof HTMLElement||i instanceof SVGElement)&&i&&oe.has(i)){let e=oe.get(i),t="userSelect"in i.style?"userSelect":"webkitUserSelect";i.style[t]==="none"&&(i.style[t]=e),i.getAttribute("style")===""&&i.removeAttribute("style"),oe.delete(i)}}const nt=j.createContext({register:()=>{}});nt.displayName="PressResponderContext";function qt(i,e){return e.get?e.get.call(i):e.value}function rt(i,e,t){if(!e.has(i))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(i)}function Zt(i,e){var t=rt(i,e,"get");return qt(i,t)}function Qt(i,e,t){if(e.set)e.set.call(i,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function Ue(i,e,t){var l=rt(i,e,"set");return Qt(i,l,t),t}function Jt(i){let e=g.useContext(nt);if(e){let{register:t,...l}=e;i=J(l,i),t()}return Kt(e,i.ref),i}var re=new WeakMap;class se{continuePropagation(){Ue(this,re,!1)}get shouldStopPropagation(){return Zt(this,re)}constructor(e,t,l,n){Ot(this,re,{writable:!0,value:void 0}),Ue(this,re,!0);var r;let s=(r=n?.target)!==null&&r!==void 0?r:l.currentTarget;const c=s?.getBoundingClientRect();let d,v=0,y,m=null;l.clientX!=null&&l.clientY!=null&&(y=l.clientX,m=l.clientY),c&&(y!=null&&m!=null?(d=y-c.left,v=m-c.top):(d=c.width/2,v=c.height/2)),this.type=e,this.pointerType=t,this.target=l.currentTarget,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.x=d,this.y=v}}const ze=Symbol("linkClicked"),Ve="react-aria-pressable-style",We="data-react-aria-pressable";function st(i){let{onPress:e,onPressChange:t,onPressStart:l,onPressEnd:n,onPressUp:r,onClick:s,isDisabled:c,isPressed:d,preventFocusOnPress:v,shouldCancelOnPointerExit:y,allowTextSelectionOnPress:m,ref:S,...D}=Jt(i),[x,F]=g.useState(!1),P=g.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:K,removeAllGlobalListeners:T}=_e(),w=N((o,p)=>{let C=P.current;if(c||C.didFirePressStart)return!1;let f=!0;if(C.isTriggeringEvent=!0,l){let k=new se("pressstart",p,o);l(k),f=k.shouldStopPropagation}return t&&t(!0),C.isTriggeringEvent=!1,C.didFirePressStart=!0,F(!0),f}),E=N((o,p,C=!0)=>{let f=P.current;if(!f.didFirePressStart)return!1;f.didFirePressStart=!1,f.isTriggeringEvent=!0;let k=!0;if(n){let h=new se("pressend",p,o);n(h),k=h.shouldStopPropagation}if(t&&t(!1),F(!1),e&&C&&!c){let h=new se("press",p,o);e(h),k&&(k=h.shouldStopPropagation)}return f.isTriggeringEvent=!1,k}),M=N((o,p)=>{let C=P.current;if(c)return!1;if(r){C.isTriggeringEvent=!0;let f=new se("pressup",p,o);return r(f),C.isTriggeringEvent=!1,f.shouldStopPropagation}return!0}),A=N(o=>{let p=P.current;if(p.isPressed&&p.target){p.didFirePressStart&&p.pointerType!=null&&E(Q(p.target,o),p.pointerType,!1),p.isPressed=!1,p.isOverTarget=!1,p.activePointerId=null,p.pointerType=null,T(),m||Oe(p.target);for(let C of p.disposables)C();p.disposables=[]}}),B=N(o=>{y&&A(o)}),R=N(o=>{s?.(o)}),Y=N((o,p)=>{if(s){let C=new MouseEvent("click",o);gt(C,p),s(bt(C))}}),z=g.useMemo(()=>{let o=P.current,p={onKeyDown(f){if($e(f.nativeEvent,f.currentTarget)&&H(f.currentTarget,U(f.nativeEvent))){var k;He(U(f.nativeEvent),f.key)&&f.preventDefault();let h=!0;if(!o.isPressed&&!f.repeat){o.target=f.currentTarget,o.isPressed=!0,o.pointerType="keyboard",h=w(f,"keyboard");let u=f.currentTarget,b=a=>{$e(a,u)&&!a.repeat&&H(u,U(a))&&o.target&&M(Q(o.target,a),"keyboard")};K(X(f.currentTarget),"keyup",et(b,C),!0)}h&&f.stopPropagation(),f.metaKey&&ce()&&((k=o.metaKeyEvents)===null||k===void 0||k.set(f.key,f.nativeEvent))}else f.key==="Meta"&&(o.metaKeyEvents=new Map)},onClick(f){if(!(f&&!H(f.currentTarget,U(f.nativeEvent)))&&f&&f.button===0&&!o.isTriggeringEvent&&!_.isOpening){let k=!0;if(c&&f.preventDefault(),!o.ignoreEmulatedMouseEvents&&!o.isPressed&&(o.pointerType==="virtual"||St(f.nativeEvent))){let h=w(f,"virtual"),u=M(f,"virtual"),b=E(f,"virtual");R(f),k=h&&u&&b}else if(o.isPressed&&o.pointerType!=="keyboard"){let h=o.pointerType||f.nativeEvent.pointerType||"virtual",u=M(Q(f.currentTarget,f),h),b=E(Q(f.currentTarget,f),h,!0);k=u&&b,o.isOverTarget=!1,R(f),A(f)}o.ignoreEmulatedMouseEvents=!1,k&&f.stopPropagation()}}},C=f=>{var k;if(o.isPressed&&o.target&&$e(f,o.target)){var h;He(U(f),f.key)&&f.preventDefault();let b=U(f),a=H(o.target,U(f));E(Q(o.target,f),"keyboard",a),a&&Y(f,o.target),T(),f.key!=="Enter"&&ke(o.target)&&H(o.target,b)&&!f[ze]&&(f[ze]=!0,_(o.target,f,!1)),o.isPressed=!1,(h=o.metaKeyEvents)===null||h===void 0||h.delete(f.key)}else if(f.key==="Meta"&&(!((k=o.metaKeyEvents)===null||k===void 0)&&k.size)){var u;let b=o.metaKeyEvents;o.metaKeyEvents=void 0;for(let a of b.values())(u=o.target)===null||u===void 0||u.dispatchEvent(new KeyboardEvent("keyup",a))}};if(typeof PointerEvent<"u"){p.onPointerDown=h=>{if(h.button!==0||!H(h.currentTarget,U(h.nativeEvent)))return;if($t(h.nativeEvent)){o.pointerType="virtual";return}o.pointerType=h.pointerType;let u=!0;if(!o.isPressed){o.isPressed=!0,o.isOverTarget=!0,o.activePointerId=h.pointerId,o.target=h.currentTarget,m||Xt(o.target),u=w(h,o.pointerType);let b=U(h.nativeEvent);"releasePointerCapture"in b&&b.releasePointerCapture(h.pointerId),K(X(h.currentTarget),"pointerup",f,!1),K(X(h.currentTarget),"pointercancel",k,!1)}u&&h.stopPropagation()},p.onMouseDown=h=>{if(H(h.currentTarget,U(h.nativeEvent))&&h.button===0){if(v){let u=mt(h.target);u&&o.disposables.push(u)}h.stopPropagation()}},p.onPointerUp=h=>{!H(h.currentTarget,U(h.nativeEvent))||o.pointerType==="virtual"||h.button===0&&!o.isPressed&&M(h,o.pointerType||h.pointerType)},p.onPointerEnter=h=>{h.pointerId===o.activePointerId&&o.target&&!o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!0,w(Q(o.target,h),o.pointerType))},p.onPointerLeave=h=>{h.pointerId===o.activePointerId&&o.target&&o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!1,E(Q(o.target,h),o.pointerType,!1),B(h))};let f=h=>{if(h.pointerId===o.activePointerId&&o.isPressed&&h.button===0&&o.target){if(H(o.target,U(h))&&o.pointerType!=null){let u=!1,b=setTimeout(()=>{o.isPressed&&o.target instanceof HTMLElement&&(u?A(h):(le(o.target),o.target.click()))},80);K(h.currentTarget,"click",()=>u=!0,!0),o.disposables.push(()=>clearTimeout(b))}else A(h);o.isOverTarget=!1}},k=h=>{A(h)};p.onDragStart=h=>{H(h.currentTarget,U(h.nativeEvent))&&A(h)}}return p},[K,c,v,T,m,A,B,E,w,M,R,Y]);return g.useEffect(()=>{if(!S)return;const o=X(S.current);if(!o||!o.head||o.getElementById(Ve))return;const p=o.createElement("style");p.id=Ve,p.textContent=`
@layer {
  [${We}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),o.head.prepend(p)},[S]),g.useEffect(()=>{let o=P.current;return()=>{var p;m||Oe((p=o.target)!==null&&p!==void 0?p:void 0);for(let C of o.disposables)C();o.disposables=[]}},[m]),{isPressed:d||x,pressProps:J(D,z,{[We]:!0})}}function ke(i){return i.tagName==="A"&&i.hasAttribute("href")}function $e(i,e){const{key:t,code:l}=i,n=e,r=n.getAttribute("role");return(t==="Enter"||t===" "||t==="Spacebar"||l==="Space")&&!(n instanceof Me(n).HTMLInputElement&&!ot(n,t)||n instanceof Me(n).HTMLTextAreaElement||n.isContentEditable)&&!((r==="link"||!r&&ke(n))&&t!=="Enter")}function Q(i,e){let t=e.clientX,l=e.clientY;return{currentTarget:i,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,clientX:t,clientY:l}}function _t(i){return i instanceof HTMLInputElement?!1:i instanceof HTMLButtonElement?i.type!=="submit"&&i.type!=="reset":!ke(i)}function He(i,e){return i instanceof HTMLInputElement?!ot(i,e):_t(i)}const el=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ot(i,e){return i.type==="checkbox"||i.type==="radio"?e===" ":el.has(i.type)}const tl=500;function ll(i){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:l,onLongPress:n,threshold:r=tl,accessibilityDescription:s}=i;const c=g.useRef(void 0);let{addGlobalListener:d,removeGlobalListener:v}=_e(),{pressProps:y}=st({isDisabled:e,onPressStart(S){if(S.continuePropagation(),(S.pointerType==="mouse"||S.pointerType==="touch")&&(t&&t({...S,type:"longpressstart"}),c.current=setTimeout(()=>{S.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),X(S.target).activeElement!==S.target&&le(S.target),n&&n({...S,type:"longpress"}),c.current=void 0},r),S.pointerType==="touch")){let D=x=>{x.preventDefault()};d(S.target,"contextmenu",D,{once:!0}),d(window,"pointerup",()=>{setTimeout(()=>{v(S.target,"contextmenu",D)},30)},{once:!0})}},onPressEnd(S){c.current&&clearTimeout(c.current),l&&(S.pointerType==="mouse"||S.pointerType==="touch")&&l({...S,type:"longpressend"})}}),m=Nt(n&&!e?s:void 0);return{longPressProps:J(y,m)}}function Ml(i={}){let{autoFocus:e=!1,isTextInput:t,within:l}=i,n=g.useRef({isFocused:!1,isFocusVisible:e||Pt()}),[r,s]=g.useState(!1),[c,d]=g.useState(()=>n.current.isFocused&&n.current.isFocusVisible),v=g.useCallback(()=>d(n.current.isFocused&&n.current.isFocusVisible),[]),y=g.useCallback(D=>{n.current.isFocused=D,s(D),v()},[v]);xt(D=>{n.current.isFocusVisible=D,v()},[],{isTextInput:t});let{focusProps:m}=wt({isDisabled:l,onFocusChange:y}),{focusWithinProps:S}=Tt({isDisabled:!l,onFocusWithinChange:y});return{isFocused:r,isFocusVisible:c,focusProps:l?S:m}}function at(i){let e=nl(X(i));e!==i&&(e&&il(e,i),i&&ct(i,e))}function il(i,e){i.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function ct(i,e){i.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function nl(i){let e=tt(i),t=e?.getAttribute("aria-activedescendant");return t&&i.getElementById(t)||e}var rl=Ft({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}});function Te(i){return Dt()?i.altKey:i.ctrlKey}function ae(i,e){var t,l;let n=`[data-key="${CSS.escape(String(e))}"]`,r=(t=i.current)===null||t===void 0?void 0:t.dataset.collection;return r&&(n=`[data-collection="${CSS.escape(r)}"]${n}`),(l=i.current)===null||l===void 0?void 0:l.querySelector(n)}const ut=new WeakMap;function sl(i){let e=De();return ut.set(i,e),e}function ol(i){return ut.get(i)}const al=1e3;function cl(i){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:l}=i,n=g.useRef({search:"",timeout:void 0}).current,r=s=>{let c=ul(s.key);if(!(!c||s.ctrlKey||s.metaKey||!s.currentTarget.contains(s.target)||n.search.length===0&&c===" ")){if(c===" "&&n.search.trim().length>0&&(s.preventDefault(),"continuePropagation"in s||s.stopPropagation()),n.search+=c,e.getKeyForSearch!=null){let d=e.getKeyForSearch(n.search,t.focusedKey);d==null&&(d=e.getKeyForSearch(n.search)),d!=null&&(t.setFocusedKey(d),l&&l(d))}clearTimeout(n.timeout),n.timeout=setTimeout(()=>{n.search=""},al)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?r:void 0}}}function ul(i){return i.length===1||!/^[A-Z]/i.test(i)?i:""}function dl(i){let{selectionManager:e,keyboardDelegate:t,ref:l,autoFocus:n=!1,shouldFocusWrap:r=!1,disallowEmptySelection:s=!1,disallowSelectAll:c=!1,escapeKeyBehavior:d="clearSelection",selectOnFocus:v=e.selectionBehavior==="replace",disallowTypeAhead:y=!1,shouldUseVirtualFocus:m,allowsTabNavigation:S=!1,isVirtualized:D,scrollRef:x=l,linkBehavior:F="action"}=i,{direction:P}=Qe(),K=Ee(),T=u=>{var b;if(u.altKey&&u.key==="Tab"&&u.preventDefault(),!(!((b=l.current)===null||b===void 0)&&b.contains(u.target)))return;const a=($,q)=>{if($!=null){if(e.isLink($)&&F==="selection"&&v&&!Te(u)){Ct.flushSync(()=>{e.setFocusedKey($,q)});let Z=ae(l,$),Fe=e.getItemProps($);Z&&K.open(Z,u,Fe.href,Fe.routerOptions);return}if(e.setFocusedKey($,q),e.isLink($)&&F==="override")return;u.shiftKey&&e.selectionMode==="multiple"?e.extendSelection($):v&&!Te(u)&&e.replaceSelection($)}};switch(u.key){case"ArrowDown":if(t.getKeyBelow){var I,O,L;let $=e.focusedKey!=null?(I=t.getKeyBelow)===null||I===void 0?void 0:I.call(t,e.focusedKey):(O=t.getFirstKey)===null||O===void 0?void 0:O.call(t);$==null&&r&&($=(L=t.getFirstKey)===null||L===void 0?void 0:L.call(t,e.focusedKey)),$!=null&&(u.preventDefault(),a($))}break;case"ArrowUp":if(t.getKeyAbove){var W,G,ue;let $=e.focusedKey!=null?(W=t.getKeyAbove)===null||W===void 0?void 0:W.call(t,e.focusedKey):(G=t.getLastKey)===null||G===void 0?void 0:G.call(t);$==null&&r&&($=(ue=t.getLastKey)===null||ue===void 0?void 0:ue.call(t,e.focusedKey)),$!=null&&(u.preventDefault(),a($))}break;case"ArrowLeft":if(t.getKeyLeftOf){var de,fe,he;let $=e.focusedKey!=null?(de=t.getKeyLeftOf)===null||de===void 0?void 0:de.call(t,e.focusedKey):null;$==null&&r&&($=P==="rtl"?(fe=t.getFirstKey)===null||fe===void 0?void 0:fe.call(t,e.focusedKey):(he=t.getLastKey)===null||he===void 0?void 0:he.call(t,e.focusedKey)),$!=null&&(u.preventDefault(),a($,P==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var ye,ve,pe;let $=e.focusedKey!=null?(ye=t.getKeyRightOf)===null||ye===void 0?void 0:ye.call(t,e.focusedKey):null;$==null&&r&&($=P==="rtl"?(ve=t.getLastKey)===null||ve===void 0?void 0:ve.call(t,e.focusedKey):(pe=t.getFirstKey)===null||pe===void 0?void 0:pe.call(t,e.focusedKey)),$!=null&&(u.preventDefault(),a($,P==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&u.shiftKey)return;u.preventDefault();let $=t.getFirstKey(e.focusedKey,ee(u));e.setFocusedKey($),$!=null&&(ee(u)&&u.shiftKey&&e.selectionMode==="multiple"?e.extendSelection($):v&&e.replaceSelection($))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&u.shiftKey)return;u.preventDefault();let $=t.getLastKey(e.focusedKey,ee(u));e.setFocusedKey($),$!=null&&(ee(u)&&u.shiftKey&&e.selectionMode==="multiple"?e.extendSelection($):v&&e.replaceSelection($))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let $=t.getKeyPageBelow(e.focusedKey);$!=null&&(u.preventDefault(),a($))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let $=t.getKeyPageAbove(e.focusedKey);$!=null&&(u.preventDefault(),a($))}break;case"a":ee(u)&&e.selectionMode==="multiple"&&c!==!0&&(u.preventDefault(),e.selectAll());break;case"Escape":d==="clearSelection"&&!s&&e.selectedKeys.size!==0&&(u.stopPropagation(),u.preventDefault(),e.clearSelection());break;case"Tab":if(!S){if(u.shiftKey)l.current.focus();else{let $=Et(l.current,{tabbable:!0}),q,Z;do Z=$.lastChild(),Z&&(q=Z);while(Z);q&&!q.contains(document.activeElement)&&le(q)}break}}},w=g.useRef({top:0,left:0});ne(x,"scroll",D?void 0:()=>{var u,b,a,I;w.current={top:(a=(u=x.current)===null||u===void 0?void 0:u.scrollTop)!==null&&a!==void 0?a:0,left:(I=(b=x.current)===null||b===void 0?void 0:b.scrollLeft)!==null&&I!==void 0?I:0}});let E=u=>{if(e.isFocused){u.currentTarget.contains(u.target)||e.setFocused(!1);return}if(u.currentTarget.contains(u.target)){if(e.setFocused(!0),e.focusedKey==null){var b,a;let L=G=>{G!=null&&(e.setFocusedKey(G),v&&!e.isSelected(G)&&e.replaceSelection(G))},W=u.relatedTarget;var I,O;W&&u.currentTarget.compareDocumentPosition(W)&Node.DOCUMENT_POSITION_FOLLOWING?L((I=e.lastSelectedKey)!==null&&I!==void 0?I:(b=t.getLastKey)===null||b===void 0?void 0:b.call(t)):L((O=e.firstSelectedKey)!==null&&O!==void 0?O:(a=t.getFirstKey)===null||a===void 0?void 0:a.call(t))}else!D&&x.current&&(x.current.scrollTop=w.current.top,x.current.scrollLeft=w.current.left);if(e.focusedKey!=null&&x.current){let L=ae(l,e.focusedKey);L instanceof HTMLElement&&(!L.contains(document.activeElement)&&!m&&le(L),Ie()==="keyboard"&&Be(L,{containingElement:l.current}))}}},M=u=>{u.currentTarget.contains(u.relatedTarget)||e.setFocused(!1)},A=g.useRef(!1);ne(l,Yt,m?u=>{let{detail:b}=u;u.stopPropagation(),e.setFocused(!0),b?.focusStrategy==="first"&&(A.current=!0)}:void 0);let B=N(()=>{var u,b;let a=(b=(u=t.getFirstKey)===null||u===void 0?void 0:u.call(t))!==null&&b!==void 0?b:null;if(a==null){let I=tt();at(l.current),ct(I,null),e.collection.size>0&&(A.current=!1)}else e.setFocusedKey(a),A.current=!1});Re(()=>{A.current&&B()},[e.collection,B]);let R=N(()=>{e.collection.size>0&&(A.current=!1)});Re(()=>{R()},[e.focusedKey,R]),ne(l,jt,m?u=>{var b;u.stopPropagation(),e.setFocused(!1),!((b=u.detail)===null||b===void 0)&&b.clearFocusKey&&e.setFocusedKey(null)}:void 0);const Y=g.useRef(n),z=g.useRef(!1);g.useEffect(()=>{if(Y.current){var u,b;let O=null;var a;n==="first"&&(O=(a=(u=t.getFirstKey)===null||u===void 0?void 0:u.call(t))!==null&&a!==void 0?a:null);var I;n==="last"&&(O=(I=(b=t.getLastKey)===null||b===void 0?void 0:b.call(t))!==null&&I!==void 0?I:null);let L=e.selectedKeys;if(L.size){for(let W of L)if(e.canSelectItem(W)){O=W;break}}e.setFocused(!0),e.setFocusedKey(O),O==null&&!m&&l.current&&Pe(l.current),e.collection.size>0&&(Y.current=!1,z.current=!0)}});let o=g.useRef(e.focusedKey),p=g.useRef(null);g.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==o.current||z.current)&&x.current&&l.current){let u=Ie(),b=ae(l,e.focusedKey);if(!(b instanceof HTMLElement))return;(u==="keyboard"||z.current)&&(p.current&&cancelAnimationFrame(p.current),p.current=requestAnimationFrame(()=>{x.current&&(it(x.current,b),u!=="virtual"&&Be(b,{containingElement:l.current}))}))}!m&&e.isFocused&&e.focusedKey==null&&o.current!=null&&l.current&&Pe(l.current),o.current=e.focusedKey,z.current=!1}),g.useEffect(()=>()=>{p.current&&cancelAnimationFrame(p.current)},[]),ne(l,"react-aria-focus-scope-restore",u=>{u.preventDefault(),e.setFocused(!0)});let C={onKeyDown:T,onFocus:E,onBlur:M,onMouseDown(u){x.current===u.target&&u.preventDefault()}},{typeSelectProps:f}=cl({keyboardDelegate:t,selectionManager:e});y||(C=J(f,C));let k;m||(k=e.focusedKey==null?0:-1);let h=sl(e.collection);return{collectionProps:J(C,{tabIndex:k,"data-collection":h})}}function Il(i){let{id:e,selectionManager:t,key:l,ref:n,shouldSelectOnPressUp:r,shouldUseVirtualFocus:s,focus:c,isDisabled:d,onAction:v,allowsDifferentPressOrigin:y,linkBehavior:m="action"}=i,S=Ee();e=De(e);let D=a=>{if(a.pointerType==="keyboard"&&Te(a))t.toggleSelection(l);else{if(t.selectionMode==="none")return;if(t.isLink(l)){if(m==="selection"&&n.current){let I=t.getItemProps(l);S.open(n.current,a,I.href,I.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(m==="override"||m==="none")return}t.selectionMode==="single"?t.isSelected(l)&&!t.disallowEmptySelection?t.toggleSelection(l):t.replaceSelection(l):a&&a.shiftKey?t.extendSelection(l):t.selectionBehavior==="toggle"||a&&(ee(a)||a.pointerType==="touch"||a.pointerType==="virtual")?t.toggleSelection(l):t.replaceSelection(l)}};g.useEffect(()=>{l===t.focusedKey&&t.isFocused&&(s?at(n.current):c?c():document.activeElement!==n.current&&n.current&&Pe(n.current))},[n,l,t.focusedKey,t.childFocusStrategy,t.isFocused,s]),d=d||t.isDisabled(l);let x={};!s&&!d?x={tabIndex:l===t.focusedKey?0:-1,onFocus(a){a.target===n.current&&t.setFocusedKey(l)}}:d&&(x.onMouseDown=a=>{a.preventDefault()});let F=t.isLink(l)&&m==="override",P=t.isLink(l)&&m!=="selection"&&m!=="none",K=!d&&t.canSelectItem(l)&&!F,T=(v||P)&&!d,w=T&&(t.selectionBehavior==="replace"?!K:!K||t.isEmpty),E=T&&K&&t.selectionBehavior==="replace",M=w||E,A=g.useRef(null),B=M&&K,R=g.useRef(!1),Y=g.useRef(!1),z=t.getItemProps(l),o=a=>{v&&v(),P&&n.current&&S.open(n.current,a,z.href,z.routerOptions)},p={ref:n};if(r?(p.onPressStart=a=>{A.current=a.pointerType,R.current=B,a.pointerType==="keyboard"&&(!M||je())&&D(a)},y?(p.onPressUp=w?void 0:a=>{a.pointerType==="mouse"&&K&&D(a)},p.onPress=w?o:a=>{a.pointerType!=="keyboard"&&a.pointerType!=="mouse"&&K&&D(a)}):p.onPress=a=>{if(w||E&&a.pointerType!=="mouse"){if(a.pointerType==="keyboard"&&!Ne())return;o(a)}else a.pointerType!=="keyboard"&&K&&D(a)}):(p.onPressStart=a=>{A.current=a.pointerType,R.current=B,Y.current=w,K&&(a.pointerType==="mouse"&&!w||a.pointerType==="keyboard"&&(!T||je()))&&D(a)},p.onPress=a=>{(a.pointerType==="touch"||a.pointerType==="pen"||a.pointerType==="virtual"||a.pointerType==="keyboard"&&M&&Ne()||a.pointerType==="mouse"&&Y.current)&&(M?o(a):K&&D(a))}),x["data-collection"]=ol(t.collection),x["data-key"]=l,p.preventFocusOnPress=s,s&&(p=J(p,{onPressStart(a){a.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(l))},onPress(a){a.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(l))}})),z)for(let a of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])z[a]&&(p[a]=et(p[a],z[a]));let{pressProps:C,isPressed:f}=st(p),k=E?a=>{A.current==="mouse"&&(a.stopPropagation(),a.preventDefault(),o(a))}:void 0,{longPressProps:h}=ll({isDisabled:!B,onLongPress(a){a.pointerType==="touch"&&(D(a),t.setSelectionBehavior("toggle"))}}),u=a=>{A.current==="touch"&&R.current&&a.preventDefault()},b=m!=="none"&&t.isLink(l)?a=>{_.isOpening||a.preventDefault()}:void 0;return{itemProps:J(x,K||w||s&&!d?C:{},B?h:{},{onDoubleClick:k,onDragStartCapture:u,onClick:b,id:e},s?{onMouseDown:a=>a.preventDefault()}:void 0),isPressed:f,isSelected:t.isSelected(l),isFocused:t.isFocused&&t.focusedKey===l,isDisabled:d,allowsSelection:K,hasAction:M}}function Ne(){let i=window.event;return i?.key==="Enter"}function je(){let i=window.event;return i?.key===" "||i?.code==="Space"}class Ye{getItemRect(e){let t=this.ref.current;if(!t)return null;let l=e!=null?ae(this.ref,e):null;if(!l)return null;let n=t.getBoundingClientRect(),r=l.getBoundingClientRect();return{x:r.left-n.left+t.scrollLeft,y:r.top-n.top+t.scrollTop,width:r.width,height:r.height}}getContentSize(){let e=this.ref.current;var t,l;return{width:(t=e?.scrollWidth)!==null&&t!==void 0?t:0,height:(l=e?.scrollHeight)!==null&&l!==void 0?l:0}}getVisibleRect(){let e=this.ref.current;var t,l,n,r;return{x:(t=e?.scrollLeft)!==null&&t!==void 0?t:0,y:(l=e?.scrollTop)!==null&&l!==void 0?l:0,width:(n=e?.offsetWidth)!==null&&n!==void 0?n:0,height:(r=e?.offsetHeight)!==null&&r!==void 0?r:0}}constructor(e){this.ref=e}}class fl{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let l=e;for(;l!=null;){let n=this.collection.getItem(l);if(n?.type==="item"&&!this.isDisabled(n))return l;l=t(l)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,l=>this.collection.getKeyAfter(l))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,l=>this.collection.getKeyBefore(l))}findKey(e,t,l){let n=e,r=this.layoutDelegate.getItemRect(n);if(!r||n==null)return null;let s=r;do{if(n=t(n),n==null)break;r=this.layoutDelegate.getItemRect(n)}while(r&&l(s,r)&&n!=null);return n}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!xe(t))return this.getFirstKey();let n=e;if(this.orientation==="horizontal"){let r=Math.max(0,l.x+l.width-this.layoutDelegate.getVisibleRect().width);for(;l&&l.x>r&&n!=null;)n=this.getKeyAbove(n),l=n==null?null:this.layoutDelegate.getItemRect(n)}else{let r=Math.max(0,l.y+l.height-this.layoutDelegate.getVisibleRect().height);for(;l&&l.y>r&&n!=null;)n=this.getKeyAbove(n),l=n==null?null:this.layoutDelegate.getItemRect(n)}return n??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!xe(t))return this.getLastKey();let n=e;if(this.orientation==="horizontal"){let r=Math.min(this.layoutDelegate.getContentSize().width,l.y-l.width+this.layoutDelegate.getVisibleRect().width);for(;l&&l.x<r&&n!=null;)n=this.getKeyBelow(n),l=n==null?null:this.layoutDelegate.getItemRect(n)}else{let r=Math.min(this.layoutDelegate.getContentSize().height,l.y-l.height+this.layoutDelegate.getVisibleRect().height);for(;l&&l.y<r&&n!=null;)n=this.getKeyBelow(n),l=n==null?null:this.layoutDelegate.getItemRect(n)}return n??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let l=this.collection,n=t||this.getFirstKey();for(;n!=null;){let r=l.getItem(n);if(!r)return null;let s=r.textValue.slice(0,e.length);if(r.textValue&&this.collator.compare(s,e)===0)return n;n=this.getNextKey(n)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Ye(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Ye(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Al(i){let{selectionManager:e,collection:t,disabledKeys:l,ref:n,keyboardDelegate:r,layoutDelegate:s}=i,c=Gt({usage:"search",sensitivity:"base"}),d=e.disabledBehavior,v=g.useMemo(()=>r||new fl({collection:t,disabledKeys:l,disabledBehavior:d,ref:n,collator:c,layoutDelegate:s}),[r,s,t,l,n,c,d]),{collectionProps:y}=dl({...i,ref:n,selectionManager:e,keyboardDelegate:v});return{listProps:y}}class V extends Set{constructor(e,t,l){super(e),e instanceof V?(this.anchorKey=t??e.anchorKey,this.currentKey=l??e.currentKey):(this.anchorKey=t??null,this.currentKey=l??null)}}function hl(i,e){if(i.size!==e.size)return!1;for(let t of i)if(!e.has(t))return!1;return!0}function yl(i){let{selectionMode:e="none",disallowEmptySelection:t=!1,allowDuplicateSelectionEvents:l,selectionBehavior:n="toggle",disabledBehavior:r="all"}=i,s=g.useRef(!1),[,c]=g.useState(!1),d=g.useRef(null),v=g.useRef(null),[,y]=g.useState(null),m=g.useMemo(()=>Ge(i.selectedKeys),[i.selectedKeys]),S=g.useMemo(()=>Ge(i.defaultSelectedKeys,new V),[i.defaultSelectedKeys]),[D,x]=lt(m,S,i.onSelectionChange),F=g.useMemo(()=>i.disabledKeys?new Set(i.disabledKeys):new Set,[i.disabledKeys]),[P,K]=g.useState(n);n==="replace"&&P==="toggle"&&typeof D=="object"&&D.size===0&&K("replace");let T=g.useRef(n);return g.useEffect(()=>{n!==T.current&&(K(n),T.current=n)},[n]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:P,setSelectionBehavior:K,get isFocused(){return s.current},setFocused(w){s.current=w,c(w)},get focusedKey(){return d.current},get childFocusStrategy(){return v.current},setFocusedKey(w,E="first"){d.current=w,v.current=E,y(w)},selectedKeys:D,setSelectedKeys(w){(l||!hl(w,D))&&x(w)},disabledKeys:F,disabledBehavior:r}}function Ge(i,e){return i?i==="all"?"all":new V(i):e}function dt(i){return null}dt.getCollectionNode=function*(e,t){let{childItems:l,title:n,children:r}=e,s=e.title||e.children,c=e.textValue||(typeof s=="string"?s:"")||e["aria-label"]||"";!c&&t?.suppressTextValueWarning,yield{type:"item",props:e,rendered:s,textValue:c,"aria-label":e["aria-label"],hasChildNodes:vl(e),*childNodes(){if(l)for(let d of l)yield{type:"item",value:d};else if(n){let d=[];j.Children.forEach(r,v=>{d.push({type:"item",element:v})}),yield*d}}}};function vl(i){return i.hasChildItems!=null?i.hasChildItems:!!(i.childItems||i.title&&j.Children.count(i.children)>0)}let Rl=dt;class pl{build(e,t){return this.context=t,Xe(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:l}=e;if(j.isValidElement(t)&&t.type===j.Fragment)yield*this.iterateCollection({children:t.props.children,items:l});else if(typeof t=="function"){if(!l)throw new Error("props.children was a function but props.items is missing");let n=0;for(let r of l)yield*this.getFullNode({value:r,index:n},{renderer:t}),n++}else{let n=[];j.Children.forEach(t,s=>{s&&n.push(s)});let r=0;for(let s of n){let c=this.getFullNode({element:s,index:r},{});for(let d of c)r++,yield d}}}getKey(e,t,l,n){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${n}${t.key}`;let r=t.value;if(r!=null){var s;let c=(s=r.key)!==null&&s!==void 0?s:r.id;if(c==null)throw new Error("No key found for item");return c}return n?`${n}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,l,n){if(j.isValidElement(e.element)&&e.element.type===j.Fragment){let P=[];j.Children.forEach(e.element.props.children,T=>{P.push(T)});var r;let K=(r=e.index)!==null&&r!==void 0?r:0;for(const T of P)yield*this.getFullNode({element:T,index:K++},t,l,n);return}let s=e.element;if(!s&&e.value&&t&&t.renderer){let P=this.cache.get(e.value);if(P&&(!P.shouldInvalidate||!P.shouldInvalidate(this.context))){P.index=e.index,P.parentKey=n?n.key:null,yield P;return}s=t.renderer(e.value)}if(j.isValidElement(s)){let P=s.type;if(typeof P!="function"&&typeof P.getCollectionNode!="function"){let E=s.type;throw new Error(`Unknown element <${E}> in collection.`)}let K=P.getCollectionNode(s.props,this.context);var c;let T=(c=e.index)!==null&&c!==void 0?c:0,w=K.next();for(;!w.done&&w.value;){let E=w.value;e.index=T;var d;let M=(d=E.key)!==null&&d!==void 0?d:null;M==null&&(M=E.element?null:this.getKey(s,e,t,l));let B=[...this.getFullNode({...E,key:M,index:T,wrapper:gl(e.wrapper,E.wrapper)},this.getChildState(t,E),l?`${l}${s.key}`:s.key,n)];for(let R of B){var v,y;R.value=(y=(v=E.value)!==null&&v!==void 0?v:e.value)!==null&&y!==void 0?y:null,R.value&&this.cache.set(R.value,R);var m;if(e.type&&R.type!==e.type)throw new Error(`Unsupported type <${me(R.type)}> in <${me((m=n?.type)!==null&&m!==void 0?m:"unknown parent type")}>. Only <${me(e.type)}> is supported.`);T++,yield R}w=K.next(B)}return}if(e.key==null||e.type==null)return;let S=this;var D,x;let F={type:e.type,props:e.props,key:e.key,parentKey:n?n.key:null,value:(D=e.value)!==null&&D!==void 0?D:null,level:n?n.level+1:0,index:e.index,rendered:e.rendered,textValue:(x=e.textValue)!==null&&x!==void 0?x:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:Xe(function*(){if(!e.hasChildNodes||!e.childNodes)return;let P=0;for(let K of e.childNodes()){K.key!=null&&(K.key=`${F.key}${K.key}`);let T=S.getFullNode({...K,index:P},S.getChildState(t,K),F.key,F);for(let w of T)P++,yield w}})};yield F}constructor(){this.cache=new WeakMap}}function Xe(i){let e=[],t=null;return{*[Symbol.iterator](){for(let l of e)yield l;t||(t=i());for(let l of t)e.push(l),yield l}}}function gl(i,e){if(i&&e)return t=>i(e(t));if(i)return i;if(e)return e}function me(i){return i[0].toUpperCase()+i.slice(1)}function bl(i,e,t){let l=g.useMemo(()=>new pl,[]),{children:n,items:r,collection:s}=i;return g.useMemo(()=>{if(s)return s;let d=l.build({children:n,items:r},t);return e(d)},[l,n,r,s,t,e])}function $l(i,e){return typeof e.getChildren=="function"?e.getChildren(i.key):i.childNodes}function ml(i){return Kl(i)}function Kl(i,e){for(let t of i)return t}function Ke(i,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let l=[...qe(i,e),e],n=[...qe(i,t),t],r=l.slice(0,n.length).findIndex((s,c)=>s!==n[c]);return r!==-1?(e=l[r],t=n[r],e.index-t.index):l.findIndex(s=>s===t)>=0?1:(n.findIndex(s=>s===e)>=0,-1)}function qe(i,e){let t=[],l=e;for(;l?.parentKey!=null;)l=i.getItem(l.parentKey),l&&t.unshift(l);return t}class Ce{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let t=this.getKey(e);return t==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(l=>t.has(l)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let n=this.collection.getItem(l);(!e||n&&Ke(this.collection,n,e)<0)&&(e=n)}var t;return(t=e?.key)!==null&&t!==void 0?t:null}get lastSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let n=this.collection.getItem(l);(!e||n&&Ke(this.collection,n,e)>0)&&(e=n)}var t;return(t=e?.key)!==null&&t!==void 0?t:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l;if(this.state.selectedKeys==="all")l=new V([t],t,t);else{let s=this.state.selectedKeys;var n;let c=(n=s.anchorKey)!==null&&n!==void 0?n:t;l=new V(s,c,t);var r;for(let d of this.getKeyRange(c,(r=s.currentKey)!==null&&r!==void 0?r:t))l.delete(d);for(let d of this.getKeyRange(t,c))this.canSelectItem(d)&&l.add(d)}this.state.setSelectedKeys(l)}getKeyRange(e,t){let l=this.collection.getItem(e),n=this.collection.getItem(t);return l&&n?Ke(this.collection,l,n)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var l;if(!((l=this.layoutDelegate)===null||l===void 0)&&l.getKeyRange)return this.layoutDelegate.getKeyRange(e,t);let n=[],r=e;for(;r!=null;){let s=this.collection.getItem(r);if(s&&(s.type==="item"||s.type==="cell"&&this.allowsCellSelection)&&n.push(r),r===t)return n;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t&&t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l=new V(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);l.has(t)?l.delete(t):this.canSelectItem(t)&&(l.add(t),l.anchorKey=t,l.currentKey=t),!(this.disallowEmptySelection&&l.size===0)&&this.state.setSelectedKeys(l)}replaceSelection(e){if(this.selectionMode==="none")return;let t=this.getKey(e);if(t==null)return;let l=this.canSelectItem(t)?new V([t],t,t):new V;this.state.setSelectedKeys(l)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new V;for(let l of e){let n=this.getKey(l);if(n!=null&&(t.add(n),this.selectionMode==="single"))break}this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=l=>{for(;l!=null;){if(this.canSelectItem(l)){var n;let s=this.collection.getItem(l);s?.type==="item"&&e.push(l);var r;s?.hasChildNodes&&(this.allowsCellSelection||s.type!=="item")&&t((r=(n=ml($l(s,this.collection)))===null||n===void 0?void 0:n.key)!==null&&r!==void 0?r:null)}l=this.collection.getKeyAfter(l)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new V)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let l of e)if(!t.has(l))return!1;for(let l of t)if(!e.has(l))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let l=this.collection.getItem(e);return!(!l||!(l==null||(t=l.props)===null||t===void 0)&&t.isDisabled||l.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,l;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,l;return!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}withCollection(e){return new Ce(e,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(e,t,l){this.collection=e,this.state=t;var n;this.allowsCellSelection=(n=l?.allowsCellSelection)!==null&&n!==void 0?n:!1,this._isSelectAll=null,this.layoutDelegate=l?.layoutDelegate||null}}function Sl(i){let e=Lt(i,{enabled:typeof i.elementType=="string"}),t;return i.orientation==="vertical"&&(t="vertical"),i.elementType!=="hr"?{separatorProps:{...e,role:"separator","aria-orientation":t}}:{separatorProps:e}}function Pl(i){const{as:e,className:t,orientation:l,...n}=i;let r=e||"hr";r==="hr"&&l==="vertical"&&(r="div");const{separatorProps:s}=Sl({elementType:typeof r=="string"?r:"hr",orientation:l}),c=g.useMemo(()=>rl({orientation:l,className:t}),[l,t]),d=g.useCallback((v={})=>({className:c,role:"separator","data-orientation":l,...s,...n,...v}),[c,l,s,n]);return{Component:r,getDividerProps:d}}var ft=Mt((i,e)=>{const{Component:t,getDividerProps:l}=Pl({...i});return kt.jsx(t,{ref:e,...l()})});ft.displayName="HeroUI.Divider";var Ll=ft;class Ze{*[Symbol.iterator](){yield*this.iterable}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var l;return t&&(l=t.prevKey)!==null&&l!==void 0?l:null}getKeyAfter(e){let t=this.keyMap.get(e);var l;return t&&(l=t.nextKey)!==null&&l!==void 0?l:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return t?.childNodes||[]}constructor(e){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e;let t=c=>{if(this.keyMap.set(c.key,c),c.childNodes&&c.type==="section")for(let d of c.childNodes)t(d)};for(let c of e)t(c);let l=null,n=0,r=0;for(let[c,d]of this.keyMap)l?(l.nextKey=c,d.prevKey=l.key):(this.firstKey=c,d.prevKey=void 0),d.type==="item"&&(d.index=n++),(d.type==="section"||d.type==="item")&&r++,l=d,l.nextKey=void 0;this._size=r;var s;this.lastKey=(s=l?.key)!==null&&s!==void 0?s:null}}function xl(i){let{filter:e,layoutDelegate:t}=i,l=yl(i),n=g.useMemo(()=>i.disabledKeys?new Set(i.disabledKeys):new Set,[i.disabledKeys]),r=g.useCallback(v=>e?new Ze(e(v)):new Ze(v),[e]),s=g.useMemo(()=>({suppressTextValueWarning:i.suppressTextValueWarning}),[i.suppressTextValueWarning]),c=bl(i,r,s),d=g.useMemo(()=>new Ce(c,l,{layoutDelegate:t}),[c,l,t]);return wl(c,d),{collection:c,disabledKeys:n,selectionManager:d}}function wl(i,e){const t=g.useRef(null);g.useEffect(()=>{if(e.focusedKey!=null&&!i.getItem(e.focusedKey)&&t.current){const y=t.current.getItem(e.focusedKey),m=[...t.current.getKeys()].map(K=>{const T=t.current.getItem(K);return T?.type==="item"?T:null}).filter(K=>K!==null),S=[...i.getKeys()].map(K=>{const T=i.getItem(K);return T?.type==="item"?T:null}).filter(K=>K!==null);var l,n;const D=((l=m?.length)!==null&&l!==void 0?l:0)-((n=S?.length)!==null&&n!==void 0?n:0);var r,s,c;let x=Math.min(D>1?Math.max(((r=y?.index)!==null&&r!==void 0?r:0)-D+1,0):(s=y?.index)!==null&&s!==void 0?s:0,((c=S?.length)!==null&&c!==void 0?c:0)-1),F=null,P=!1;for(;x>=0;){if(!e.isDisabled(S[x].key)){F=S[x];break}if(x<S.length-1&&!P)x++;else{P=!0;var d,v;x>((d=y?.index)!==null&&d!==void 0?d:0)&&(x=(v=y?.index)!==null&&v!==void 0?v:0),x--}}e.setFocusedKey(F?F.key:null)}t.current=i},[i,e])}function Bl(i){var e;let[t,l]=lt(i.selectedKey,(e=i.defaultSelectedKey)!==null&&e!==void 0?e:null,i.onSelectionChange),n=g.useMemo(()=>t!=null?[t]:[],[t]),{collection:r,disabledKeys:s,selectionManager:c}=xl({...i,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:n,onSelectionChange:v=>{if(v==="all")return;var y;let m=(y=v.values().next().value)!==null&&y!==void 0?y:null;m===t&&i.onSelectionChange&&i.onSelectionChange(m),l(m)}}),d=t!=null?r.getItem(t):null;return{collection:r,disabledKeys:s,selectionManager:c,selectedKey:t,setSelectedKey:l,selectedItem:d}}export{Ml as $,xe as a,Gt as b,nt as c,Fl as d,$l as e,st as f,Lt as g,ll as h,Rl as i,Al as j,Il as k,Cl as l,xl as m,Ll as n,Bl as o,Ze as p,fl as q,dl as r,Ee as s,ct as t,yl as u,bl as v,Ce as w};
