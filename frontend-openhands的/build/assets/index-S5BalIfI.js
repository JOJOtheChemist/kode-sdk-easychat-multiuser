import{r}from"./chunk-NISHYRIK-CKdEls7F.js";function w(e,t){window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:t}))}const i=(e,t)=>{const o=JSON.stringify(t);window.localStorage.setItem(e,o),w(e,o)},d=e=>{window.localStorage.removeItem(e),w(e,null)},c=e=>window.localStorage.getItem(e),u=e=>(window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)),g=()=>{throw Error("useLocalStorage is a client-only hook")};function f(e,t){const o=()=>c(e),s=r.useSyncExternalStore(u,o,g),S=r.useCallback(a=>{try{const n=typeof a=="function"?a(JSON.parse(s)):a;n==null?d(e):i(e,n)}catch(n){console.warn(n)}},[e,s]);return r.useEffect(()=>{c(e)===null&&typeof t<"u"&&i(e,t)},[e,t]),[s?JSON.parse(s):t,S]}function h(){const[e,t]=r.useState({width:null,height:null});return r.useLayoutEffect(()=>{const o=()=>{t({width:window.innerWidth,height:window.innerHeight})};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),e}export{h as a,f as u};
