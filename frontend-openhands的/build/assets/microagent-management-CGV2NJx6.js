const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-wCUGscoc.js","assets/features-animation-DqH_zrht.js","assets/index-JAudiiL9.js","assets/chunk-NISHYRIK-CKdEls7F.js","assets/utils-BVnsmU2z.js","assets/bundle-mjs-0JNfDbnS.js","assets/chunk-TX3FPB7D-DZsJI2yo.js"])))=>i.map(i=>d[i]);
import{r as p,p as c,R as Ee,I as Fi,w as Gi}from"./chunk-NISHYRIK-CKdEls7F.js";import{q as ht}from"./query-client-config-Dd99l1aU.js";import{O as Ui}from"./option-service.api-CTPg1Fmy.js";import{I as P}from"./declaration-B9eIPmUJ.js";import{S as Hi}from"./question-circle-Ch6OR6Oo.js";import{D as ut}from"./constants-DE11vt2u.js";import{u as ne}from"./useTranslation-DONB_giz.js";import{c as Wi,G as Ps}from"./git-provider-icon-Db_Bl_5f.js";import{c as oe,q as Cs,r as mn,t as zi,u as qi,v as pn,w as Yi,x as yt,y as Xi,z as Rs,A as gn,B as Qi,C as Zi}from"./utils-BVnsmU2z.js";import{a as Qe,u as Ns}from"./use-config-DZPclKuv.js";import{G as $e}from"./git-service.api-C5gvVLyJ.js";import{o as Ji}from"./open-hands-axios-BIuoB8bl.js";import{s as Le}from"./chunk-MSDKUXDP-Cfu5rKGn.js";import{i as mt}from"./index-BDUzCKOA.js";import{m as er,T as tr}from"./tooltip-button-DdCqtqn-.js";import{_ as nr}from"./preload-helper-BXl3LOEh.js";import{t as Ht,u as Wt,o as Ss,a as we,m as Ne,e as U,l as vn,b as As,f as Ze,n as sr,d as ir}from"./chunk-TX3FPB7D-DZsJI2yo.js";import{f as ws,j as rr,$ as zt,g as bt,u as or,v as ar,w as lr,n as cr,i as js,k as ur,l as dr,d as Ds,r as fr,o as hr}from"./useSingleSelectListState-Dp1i9X5O.js";import{S as mr,U as pr,V as _t,W as Os,X as tt,Y as pt,Z as Ls,_ as gr,a0 as vr,a1 as xr,a2 as yr,a3 as It,a4 as xn,a5 as br,a6 as Ir,i as Tr,a7 as Mr,s as Be,d as $t,v as _s,$ as qe,w as $s,I as Er,u as Je,x as ks,L as kt,m as Vt,a as yn,A as Pr,B as Cr,e as Rr,h as Nr}from"./index-JAudiiL9.js";import{i as Te,f as de,a as qt,b as Sr,m as te,c as fe,d as Ar,e as Vs,p as wr,g as Ye,s as jr,h as Dr,j as Bt,k as Z,l as Or,n as Lr,o as _r,q as bn,r as Bs,F as Ks,t as _e,u as In,v as Fs,w as Gs,x as Us,y as Hs,z as Ws,A as $r,B as Tn,S as kr,C as Vr,D as Tt,E as De,G as nt,H as st,I as Mn,J as Br,K as Kr,L as Fr,M as Oe,N as Gr,O as Ur,P as Hr}from"./features-animation-DqH_zrht.js";import{u as Wr}from"./useInfiniteQuery-D7tvzYjd.js";import{u as Yt}from"./use-user-providers-P0hmd5MI.js";import{u as zr}from"./use-is-authed-Dg_tgDAm.js";import{a1 as X,a2 as it,M as qr,r as Yr,k as Xr,p as Qr,q as Zr,o as Jr,l as eo,m as to,a3 as zs,I as no,J as so,L as Xe,N as Xt,c as qs,B as Ys,O as io,$ as ro,a0 as oo}from"./parse-pr-url-DDbpIt54.js";import{B as ve}from"./brand-button-BQs8JWFf.js";import{M as Xs}from"./modal-backdrop-cp3dlfku.js";import{M as Qs}from"./modal-body-BthUSAn0.js";import{a as En,d as ao}from"./custom-toast-handlers-fYPNAJaC.js";import"./i18next-Lgj2Bm8L.js";import"./retrieve-axios-error-message-CYr77e_f.js";import"./infiniteQueryBehavior-D7Qz1qlw.js";import"./module-CWLbpm_7.js";import"./bundle-mjs-0JNfDbnS.js";import"./index-CX-90vHk.js";import"./use-settings-B2QUSrrJ.js";import"./index-DWiKAxKp.js";import"./close-bbjPMB7Q.js";var ke=function(){return ke=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},ke.apply(this,arguments)};const lo=new Set(["opacity","clipPath","filter","transform"]);function co(e){return e==="x"||e==="y"?Te[e]?null:(Te[e]=!0,()=>{Te[e]=!1}):Te.x||Te.y?null:(Te.x=Te.y=!0,()=>{Te.x=Te.y=!1})}function Zs(e){return mr(e)&&"ownerSVGElement"in e}function uo(e){return Zs(e)&&e.tagName==="svg"}const fo=p.createContext(null);function ho(){const e=p.useRef(!1);return pr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function mo(){const e=ho(),[t,n]=p.useState(0),s=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>de.postRender(s),[s]),t]}const po=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Pn(){const e=new Set,t=new WeakMap,n=()=>e.forEach(po);return{add:s=>{e.add(s),t.set(s,s.addEventListener("willUpdate",n))},remove:s=>{e.delete(s);const i=t.get(s);i&&(i(),t.delete(s)),n()},dirty:n}}const Js=e=>e===!0,go=e=>Js(e===!0)||e==="id",ei=({children:e,id:t,inherit:n=!0})=>{const s=p.useContext(_t),i=p.useContext(fo),[l,r]=mo(),o=p.useRef(null),a=s.id||i;o.current===null&&(go(n)&&a&&(t=t?a+"-"+t:a),o.current={id:t,group:Js(n)&&s.group||Pn()});const u=p.useMemo(()=>({...o.current,forceRender:l}),[r]);return c.jsx(_t.Provider,{value:u,children:e})};function Fe(e,t,n,s){return qt(e,t,Sr(n),s)}const ti=1e-4,vo=1-ti,xo=1+ti,ni=.01,yo=0-ni,bo=0+ni;function ce(e){return e.max-e.min}function Io(e,t,n){return Math.abs(e-t)<=n}function Cn(e,t,n,s=.5){e.origin=s,e.originPoint=te(t.min,t.max,e.origin),e.scale=ce(n)/ce(t),e.translate=te(n.min,n.max,e.origin)-e.originPoint,(e.scale>=vo&&e.scale<=xo||isNaN(e.scale))&&(e.scale=1),(e.translate>=yo&&e.translate<=bo||isNaN(e.translate))&&(e.translate=0)}function Ge(e,t,n,s){Cn(e.x,t.x,n.x,s?s.originX:void 0),Cn(e.y,t.y,n.y,s?s.originY:void 0)}function Rn(e,t,n){e.min=n.min+t.min,e.max=e.min+ce(t)}function To(e,t,n){Rn(e.x,t.x,n.x),Rn(e.y,t.y,n.y)}function Nn(e,t,n){e.min=t.min-n.min,e.max=e.min+ce(t)}function Ue(e,t,n){Nn(e.x,t.x,n.x),Nn(e.y,t.y,n.y)}function pe(e){return[e("x"),e("y")]}const si=({current:e})=>e?e.ownerDocument.defaultView:null,Sn=(e,t)=>Math.abs(e-t);function Mo(e,t){const n=Sn(e.x,t.x),s=Sn(e.y,t.y);return Math.sqrt(n**2+s**2)}class ii{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:l=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Et(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=Mo(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:g}=h,{timestamp:m}=fe;this.history.push({...g,timestamp:m});const{onStart:b,onMove:x}=this.handlers;y||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,y)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Mt(y,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(h,y)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Et(h.type==="pointercancel"?this.lastMoveEventInfo:Mt(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,b),g&&g(h,b)},!Ar(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=i||window;const o=Vs(t),a=Mt(o,this.transformPagePoint),{point:u}=a,{timestamp:d}=fe;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Et(a,this.history)),this.removeListeners=wr(Fe(this.contextWindow,"pointermove",this.handlePointerMove),Fe(this.contextWindow,"pointerup",this.handlePointerUp),Fe(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ye(this.updatePoint)}}function Mt(e,t){return t?{point:t(e.point)}:e}function An(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Et({point:e},t){return{point:e,delta:An(e,ri(t)),offset:An(e,Eo(t)),velocity:Po(t,.1)}}function Eo(e){return e[0]}function ri(e){return e[e.length-1]}function Po(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=ri(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>jr(t)));)n--;if(!s)return{x:0,y:0};const l=Dr(i.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const r={x:(i.x-s.x)/l,y:(i.y-s.y)/l};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function Co(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?te(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?te(n,e,s.max):Math.min(e,n)),e}function wn(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Ro(e,{top:t,left:n,bottom:s,right:i}){return{x:wn(e.x,n,i),y:wn(e.y,t,s)}}function jn(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function No(e,t){return{x:jn(e.x,t.x),y:jn(e.y,t.y)}}function So(e,t){let n=.5;const s=ce(e),i=ce(t);return i>s?n=Bt(t.min,t.max-s,e.min):s>i&&(n=Bt(e.min,e.max-i,t.min)),Os(0,1,n)}function Ao(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Kt=.35;function wo(e=Kt){return e===!1?e=0:e===!0&&(e=Kt),{x:Dn(e,"left","right"),y:Dn(e,"top","bottom")}}function Dn(e,t,n){return{min:On(e,t),max:On(e,n)}}function On(e,t){return typeof e=="number"?e:e[t]||0}const jo=new WeakMap;class Do{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Z(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vs(f).point)},r=(f,h)=>{const{drag:y,dragPropagation:v,onDragStart:g}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=co(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pe(b=>{let x=this.getAxisMotionValue(b).get()||0;if(pt.test(x)){const{projection:T}=this.visualElement;if(T&&T.layout){const I=T.layout.layoutBox[b];I&&(x=ce(I)*(parseFloat(x)/100))}}this.originPoint[b]=x}),g&&de.postRender(()=>g(f,h)),bn(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:g,onDrag:m}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:b}=h;if(v&&this.currentDirection===null){this.currentDirection=Oo(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),m&&m(f,h)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>pe(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new ii(t,{onSessionStart:l,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:si(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!i||!s)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&de.postRender(()=>o(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!rt(t,i,this.currentDirection))return;const l=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=Co(r,this.constraints[t],this.elastic[t])),l.set(r)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&tt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Ro(s.layoutBox,t):this.constraints=!1,this.elastic=wo(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pe(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Ao(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!tt(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=Or(s,i.root,this.visualElement.getTransformPagePoint());let r=No(i.layout.layoutBox,l);if(n){const o=n(Lr(r));this.hasMutatedConstraints=!!o,o&&(r=_r(o))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:l,dragSnapToOrigin:r,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},u=pe(d=>{if(!rt(d,n,this.currentDirection))return;let f=a&&a[d]||{};r&&(f={min:0,max:0});const h=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:s?t[d]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return bn(this.visualElement,t),s.start(Bs(t,s,0,n,this.visualElement,!1))}stopAnimation(){pe(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pe(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){pe(n=>{const{drag:s}=this.getProps();if(!rt(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:o}=i.layout.layoutBox[n];l.set(t[n]-te(r,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!tt(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pe(r=>{const o=this.getAxisMotionValue(r);if(o&&this.constraints!==!1){const a=o.get();i[r]=So({min:a,max:a},this.constraints[r])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),pe(r=>{if(!rt(r,t,null))return;const o=this.getAxisMotionValue(r),{min:a,max:u}=this.constraints[r];o.set(te(a,u,i[r]))})}addListeners(){if(!this.visualElement.current)return;jo.set(this.visualElement,this);const t=this.visualElement.current,n=Fe(t,"pointerdown",a=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(a)}),s=()=>{const{dragConstraints:a}=this.getProps();tt(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),de.read(s);const r=qt(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(pe(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=a[d].translate,f.set(f.get()+a[d].translate))}),this.visualElement.render())}));return()=>{r(),n(),l(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:r=Kt,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:l,dragElastic:r,dragMomentum:o}}}function rt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Oo(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Lo extends Ks{constructor(t){super(t),this.removeGroupControls=_e,this.removeListeners=_e,this.controls=new Do(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_e}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ln=e=>(t,n)=>{e&&de.postRender(()=>e(t,n))};class _o extends Ks{constructor(){super(...arguments),this.removePointerDownListener=_e}onPointerDown(t){this.session=new ii(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:si(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ln(t),onStart:Ln(n),onMove:s,onEnd:(l,r)=>{delete this.session,i&&de.postRender(()=>i(l,r))}}}mount(){this.removePointerDownListener=Fe(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _n(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ke={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ls.test(e))e=parseFloat(e);else return e;const n=_n(e,t.target.x),s=_n(e,t.target.y);return`${n}% ${s}%`}},$o={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=In.parse(e);if(i.length>5)return s;const l=In.createTransformer(e),r=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,a=n.y.scale*t.y;i[0+r]/=o,i[1+r]/=a;const u=te(o,a,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),l(i)}};let Pt=!1;class ko extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:l}=t;xr(Vo),l&&(n.group&&n.group.add(l),s&&s.register&&i&&s.register(l),Pt&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),dt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:l}=this.props,{projection:r}=s;return r&&(r.isPresent=l,Pt=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==l?r.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?r.promote():r.relegate()||de.postRender(()=>{const o=r.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;Pt=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oi(e){const[t,n]=gr(),s=p.useContext(_t);return c.jsx(ko,{...e,layoutGroup:s,switchLayoutGroup:p.useContext(vr),isPresent:t,safeToRemove:n})}const Vo={borderRadius:{...Ke,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomLeftRadius:Ke,borderBottomRightRadius:Ke,boxShadow:$o};function Bo(e,t,n){const s=yr(e)?e:Gs(e);return s.start(Bs("",s,t,n)),s.animation}const Ko=(e,t)=>e.depth-t.depth;class Fo{constructor(){this.children=[],this.isDirty=!1}add(t){Us(this.children,t),this.isDirty=!0}remove(t){Hs(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ko),this.isDirty=!1,this.children.forEach(t)}}function Go(e,t){const n=Ws.now(),s=({timestamp:i})=>{const l=i-n;l>=t&&(Ye(s),e(l-t))};return de.setup(s,!0),()=>Ye(s)}const ai=["TopLeft","TopRight","BottomLeft","BottomRight"],Uo=ai.length,$n=e=>typeof e=="string"?parseFloat(e):e,kn=e=>typeof e=="number"||Ls.test(e);function Ho(e,t,n,s,i,l){i?(e.opacity=te(0,n.opacity??1,Wo(s)),e.opacityExit=te(t.opacity??1,0,zo(s))):l&&(e.opacity=te(t.opacity??1,n.opacity??1,s));for(let r=0;r<Uo;r++){const o=`border${ai[r]}Radius`;let a=Vn(t,o),u=Vn(n,o);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||kn(a)===kn(u)?(e[o]=Math.max(te($n(a),$n(u),s),0),(pt.test(u)||pt.test(a))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=te(t.rotate||0,n.rotate||0,s))}function Vn(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Wo=li(0,.5,$r),zo=li(.5,.95,_e);function li(e,t,n){return s=>s<e?0:s>t?1:n(Bt(e,t,s))}function Bn(e,t){e.min=t.min,e.max=t.max}function me(e,t){Bn(e.x,t.x),Bn(e.y,t.y)}function Kn(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Fn(e,t,n,s,i){return e-=t,e=Tn(e,1/n,s),i!==void 0&&(e=Tn(e,1/i,s)),e}function qo(e,t=0,n=1,s=.5,i,l=e,r=e){if(pt.test(t)&&(t=parseFloat(t),t=te(r.min,r.max,t/100)-r.min),typeof t!="number")return;let o=te(l.min,l.max,s);e===l&&(o-=t),e.min=Fn(e.min,t,n,o,i),e.max=Fn(e.max,t,n,o,i)}function Gn(e,t,[n,s,i],l,r){qo(e,t[n],t[s],t[i],t.scale,l,r)}const Yo=["x","scaleX","originX"],Xo=["y","scaleY","originY"];function Un(e,t,n,s){Gn(e.x,t,Yo,n?n.x:void 0,s?s.x:void 0),Gn(e.y,t,Xo,n?n.y:void 0,s?s.y:void 0)}function Hn(e){return e.translate===0&&e.scale===1}function ci(e){return Hn(e.x)&&Hn(e.y)}function Wn(e,t){return e.min===t.min&&e.max===t.max}function Qo(e,t){return Wn(e.x,t.x)&&Wn(e.y,t.y)}function zn(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ui(e,t){return zn(e.x,t.x)&&zn(e.y,t.y)}function qn(e){return ce(e.x)/ce(e.y)}function Yn(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Zo{constructor(){this.members=[]}add(t){Us(this.members,t),t.scheduleRender()}remove(t){if(Hs(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Jo(e,t,n){let s="";const i=e.x.translate/t.x,l=e.y.translate/t.y,r=n?.z||0;if((i||l||r)&&(s=`translate3d(${i}px, ${l}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:y,skewY:v}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),f&&(s+=`rotateX(${f}deg) `),h&&(s+=`rotateY(${h}deg) `),y&&(s+=`skewX(${y}deg) `),v&&(s+=`skewY(${v}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(s+=`scale(${o}, ${a})`),s||"none"}const Ct=["","X","Y","Z"],ea=1e3;let ta=0;function Rt(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function di(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Gr(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",de,!(i||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&di(s)}function fi({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},o=t?.()){this.id=ta++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ia),this.nodes.forEach(la),this.nodes.forEach(ca),this.nodes.forEach(ra)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fo)}addEventListener(r,o){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new kr),this.eventHandlers.get(r).add(o)}notifyListeners(r,...o){const a=this.eventHandlers.get(r);a&&a.notify(...o)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Zs(r)&&!uo(r),this.instance=r;const{layoutId:o,layout:a,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||o)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;de.read(()=>{f=window.innerWidth}),e(r,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,d&&d(),d=Go(h,250),dt.hasAnimatedSinceResize&&(dt.hasAnimatedSinceResize=!1,this.nodes.forEach(Zn)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||a)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||ma,{onLayoutAnimationStart:g,onLayoutAnimationComplete:m}=u.getProps(),b=!this.targetLayout||!ui(this.targetLayout,y),x=!f&&h;if(this.options.layoutRoot||this.resumeFrom||x||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Vr(v,"layout"),onPlay:g,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(d,x)}else f||Zn(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ye(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ua),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&di(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:a}=this.options;if(o===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xn);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qn);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(aa),this.nodes.forEach(na),this.nodes.forEach(sa)):this.nodes.forEach(Qn),this.clearAllSnapshots();const o=Ws.now();fe.delta=Os(0,1e3/60,o-fe.timestamp),fe.timestamp=o,fe.isProcessing=!0,Tt.update.process(fe),Tt.preRender.process(fe),Tt.render.process(fe),fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oa),this.sharedNodes.forEach(da)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ce(this.snapshot.measuredBox.x)&&!ce(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Z(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(o=!1),o&&this.instance){const a=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:a,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:a}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!ci(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;r&&this.instance&&(o||De(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const o=this.measurePageBox();let a=this.removeElementScroll(o);return r&&(a=this.removeTransform(a)),pa(a),{animationId:this.root.animationId,measuredBox:o,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:r}=this.options;if(!r)return Z();const o=r.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ga))){const{scroll:u}=this.root;u&&(nt(o.x,u.offset.x),nt(o.y,u.offset.y))}return o}removeElementScroll(r){const o=Z();if(me(o,r),this.scroll?.wasRoot)return o;for(let a=0;a<this.path.length;a++){const u=this.path[a],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&me(o,r),nt(o.x,d.offset.x),nt(o.y,d.offset.y))}return o}applyTransform(r,o=!1){const a=Z();me(a,r);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&st(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),De(d.latestValues)&&st(a,d.latestValues)}return De(this.latestValues)&&st(a,this.latestValues),a}removeTransform(r){const o=Z();me(o,r);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!De(u.latestValues))continue;Mn(u.latestValues)&&u.updateSnapshot();const d=Z(),f=u.measurePageBox();me(d,f),Un(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return De(this.latestValues)&&Un(o,this.latestValues),o}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const a=!!this.resumingFrom||this!==o;if(!(r||a&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=fe.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Z(),this.relativeTargetOrigin=Z(),Ue(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),me(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Z(),this.targetWithTransforms=Z()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),To(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):me(this.target,this.layout.layoutBox),Br(this.target,this.targetDelta)):me(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Z(),this.relativeTargetOrigin=Z(),Ue(this.relativeTargetOrigin,this.target,h.target),me(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Mn(this.parent.latestValues)||Kr(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const r=this.getLead(),o=!!this.resumingFrom||this!==r;let a=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(a=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(a=!1),this.resolvedRelativeTargetAt===fe.timestamp&&(a=!1),a)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;me(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Fr(this.layoutCorrected,this.treeScale,this.path,o),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=Z());const{target:y}=r;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kn(this.prevProjectionDelta.x,this.projectionDelta.x),Kn(this.prevProjectionDelta.y,this.projectionDelta.y)),Ge(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Yn(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yn(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){if(this.options.visualElement?.scheduleRender(),r){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oe(),this.projectionDelta=Oe(),this.projectionDeltaWithTransform=Oe()}setAnimationOrigin(r,o=!1){const a=this.snapshot,u=a?a.latestValues:{},d={...this.latestValues},f=Oe();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Z(),y=a?a.source:void 0,v=this.layout?this.layout.source:void 0,g=y!==v,m=this.getStack(),b=!m||m.members.length<=1,x=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(ha));this.animationProgress=0;let T;this.mixTargetDelta=I=>{const S=I/1e3;Jn(f.x,r.x,S),Jn(f.y,r.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ue(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fa(this.relativeTarget,this.relativeTargetOrigin,h,S),T&&Qo(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Z()),me(T,this.relativeTarget)),g&&(this.animationValues=d,Ho(d,u,this.latestValues,S,x,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ye(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{dt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gs(0)),this.currentAnimation=Bo(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),r.onUpdate&&r.onUpdate(o)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ea),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:o,target:a,layout:u,latestValues:d}=r;if(!(!o||!a||!u)){if(this!==r&&this.layout&&u&&hi(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||Z();const f=ce(this.layout.layoutBox.x);a.x.min=r.target.x.min,a.x.max=a.x.min+f;const h=ce(this.layout.layoutBox.y);a.y.min=r.target.y.min,a.y.max=a.y.min+h}me(o,a),st(o,d),Ge(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(r,o){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Zo),this.sharedNodes.get(r).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){const{layoutId:r}=this.options;return r?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:r}=this.options;return r?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:o,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),r&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let o=!1;const{latestValues:a}=r;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(o=!0),!o)return;const u={};a.z&&Rt("z",r,u,this.animationValues);for(let d=0;d<Ct.length;d++)Rt(`rotate${Ct[d]}`,r,u,this.animationValues),Rt(`skew${Ct[d]}`,r,u,this.animationValues);r.render();for(const d in u)r.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);r.scheduleRender()}applyProjectionStyles(r,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const a=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=It(o?.pointerEvents)||"",r.transform=a?a(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=It(o?.pointerEvents)||""),this.hasProjected&&!De(this.latestValues)&&(r.transform=a?a({},""):"none",this.hasProjected=!1);return}r.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Jo(this.projectionDeltaWithTransform,this.treeScale,d);a&&(f=a(d,f)),r.transform=f;const{x:h,y}=this.projectionDelta;r.transformOrigin=`${h.origin*100}% ${y.origin*100}% 0`,u.animationValues?r.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:r.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in xn){if(d[v]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:b}=xn[v],x=f==="none"?d[v]:g(d[v],u);if(m){const T=m.length;for(let I=0;I<T;I++)r[m[I]]=x}else b?this.options.visualElement.renderState.vars[v]=x:r[v]=x}this.options.layoutId&&(r.pointerEvents=u===this?It(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>r.currentAnimation?.stop()),this.root.nodes.forEach(Xn),this.root.sharedNodes.clear()}}}function na(e){e.updateLayout()}function sa(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,l=t.source!==e.layout.source;i==="size"?pe(d=>{const f=l?t.measuredBox[d]:t.layoutBox[d],h=ce(f);f.min=n[d].min,f.max=f.min+h}):hi(i,t.layoutBox,n)&&pe(d=>{const f=l?t.measuredBox[d]:t.layoutBox[d],h=ce(n[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const r=Oe();Ge(r,n,t.layoutBox);const o=Oe();l?Ge(o,e.applyTransform(s,!0),t.measuredBox):Ge(o,n,t.layoutBox);const a=!ci(r);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const y=Z();Ue(y,t.layoutBox,f.layoutBox);const v=Z();Ue(v,n,h.layoutBox),ui(y,v)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:r,hasLayoutChanged:a,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function ia(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ra(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oa(e){e.clearSnapshot()}function Xn(e){e.clearMeasurements()}function Qn(e){e.isLayoutDirty=!1}function aa(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Zn(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function la(e){e.resolveTargetDelta()}function ca(e){e.calcProjection()}function ua(e){e.resetSkewAndRotation()}function da(e){e.removeLeadSnapshot()}function Jn(e,t,n){e.translate=te(t.translate,0,n),e.scale=te(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function es(e,t,n,s){e.min=te(t.min,n.min,s),e.max=te(t.max,n.max,s)}function fa(e,t,n,s){es(e.x,t.x,n.x,s),es(e.y,t.y,n.y,s)}function ha(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ma={duration:.45,ease:[.4,0,.1,1]},ts=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ns=ts("applewebkit/")&&!ts("chrome/")?Math.round:_e;function ss(e){e.min=ns(e.min),e.max=ns(e.max)}function pa(e){ss(e.x),ss(e.y)}function hi(e,t,n){return e==="position"||e==="preserve-aspect"&&!Io(qn(t),qn(n),.2)}function ga(e){return e!==e.root&&e.scroll?.wasRoot}const va=fi({attachResizeListener:(e,t)=>qt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nt={current:void 0},mi=fi({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Nt.current){const e=new va({});e.mount(window),e.setOptions({layoutScroll:!0}),Nt.current=e}return Nt.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xa={pan:{Feature:_o},drag:{Feature:Lo,ProjectionNode:mi,MeasureLayout:oi}},ya={layout:{ProjectionNode:mi,MeasureLayout:oi}},ba={...Ur,...xa,...ya};class Ia extends Hr{constructor(){super(...arguments),this.isEnabled=!1}add(t){(br.has(t)||lo.has(t))&&(this.isEnabled=!0,this.update())}update(){this.set(this.isEnabled?"transform":"auto")}}function Ta(){return Ir(()=>new Ia("auto"))}function Ma(e,t){let n=t?.isDisabled,[s,i]=p.useState(!1);return Tr(()=>{if(e?.current&&!n){let l=()=>{if(e.current){let o=Mr(e.current,{tabbable:!0});i(!!o.nextNode())}};l();let r=new MutationObserver(l);return r.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{r.disconnect()}}}),n?!1:s}var is=Ht({slots:{base:"inline-flex",tabList:["flex","p-1","h-fit","gap-2","items-center","flex-nowrap","overflow-x-scroll","scrollbar-hide","bg-default-100"],tab:["z-0","w-full","px-3","py-1","flex","group","relative","justify-center","items-center","outline-solid outline-transparent","cursor-pointer","transition-opacity","tap-highlight-transparent","data-[disabled=true]:cursor-not-allowed","data-[disabled=true]:opacity-30","data-[hover-unselected=true]:opacity-disabled",...$t],tabContent:["relative","z-10","text-inherit","whitespace-nowrap","transition-colors","text-default-500","group-data-[selected=true]:text-foreground"],cursor:["absolute","z-0","bg-white"],panel:["py-3","px-1","outline-solid outline-transparent","data-[inert=true]:hidden",...$t],tabWrapper:[]},variants:{variant:{solid:{cursor:"inset-0"},light:{tabList:"bg-transparent dark:bg-transparent",cursor:"inset-0"},underlined:{tabList:"bg-transparent dark:bg-transparent",cursor:"h-[2px] w-[80%] bottom-0 shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]"},bordered:{tabList:"bg-transparent dark:bg-transparent border-medium border-default-200 shadow-xs",cursor:"inset-0"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{tabList:"rounded-medium",tab:"h-7 text-tiny rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"h-8 text-small rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"h-9 text-medium rounded-medium",cursor:"rounded-medium"}},radius:{none:{tabList:"rounded-none",tab:"rounded-none",cursor:"rounded-none"},sm:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"rounded-medium",cursor:"rounded-medium"},full:{tabList:"rounded-full",tab:"rounded-full",cursor:"rounded-full"}},fullWidth:{true:{base:"w-full",tabList:"w-full"}},isDisabled:{true:{tabList:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{tab:"transition-none",tabContent:"transition-none"}},placement:{top:{},start:{tabList:"flex-col",panel:"py-0 px-3",tabWrapper:"flex"},end:{tabList:"flex-col",panel:"py-0 px-3",tabWrapper:"flex flex-row-reverse"},bottom:{tabWrapper:"flex flex-col-reverse"}}},defaultVariants:{color:"default",variant:"solid",size:"md",fullWidth:!1,isDisabled:!1},compoundVariants:[{variant:["solid","bordered","light"],color:"default",class:{cursor:["bg-background","dark:bg-default","shadow-small"],tabContent:"group-data-[selected=true]:text-default-foreground"}},{variant:["solid","bordered","light"],color:"primary",class:{cursor:Be.solid.primary,tabContent:"group-data-[selected=true]:text-primary-foreground"}},{variant:["solid","bordered","light"],color:"secondary",class:{cursor:Be.solid.secondary,tabContent:"group-data-[selected=true]:text-secondary-foreground"}},{variant:["solid","bordered","light"],color:"success",class:{cursor:Be.solid.success,tabContent:"group-data-[selected=true]:text-success-foreground"}},{variant:["solid","bordered","light"],color:"warning",class:{cursor:Be.solid.warning,tabContent:"group-data-[selected=true]:text-warning-foreground"}},{variant:["solid","bordered","light"],color:"danger",class:{cursor:Be.solid.danger,tabContent:"group-data-[selected=true]:text-danger-foreground"}},{variant:"underlined",color:"default",class:{cursor:"bg-foreground",tabContent:"group-data-[selected=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{cursor:"bg-primary",tabContent:"group-data-[selected=true]:text-primary"}},{variant:"underlined",color:"secondary",class:{cursor:"bg-secondary",tabContent:"group-data-[selected=true]:text-secondary"}},{variant:"underlined",color:"success",class:{cursor:"bg-success",tabContent:"group-data-[selected=true]:text-success"}},{variant:"underlined",color:"warning",class:{cursor:"bg-warning",tabContent:"group-data-[selected=true]:text-warning"}},{variant:"underlined",color:"danger",class:{cursor:"bg-danger",tabContent:"group-data-[selected=true]:text-danger"}},{disableAnimation:!0,variant:"underlined",class:{tab:["after:content-['']","after:absolute","after:bottom-0","after:h-[2px]","after:w-[80%]","after:opacity-0","after:shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","data-[selected=true]:after:opacity-100"]}},{disableAnimation:!0,color:"default",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-default data-[selected=true]:text-default-foreground"}},{disableAnimation:!0,color:"primary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-primary data-[selected=true]:text-primary-foreground"}},{disableAnimation:!0,color:"secondary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-secondary data-[selected=true]:text-secondary-foreground"}},{disableAnimation:!0,color:"success",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-success data-[selected=true]:text-success-foreground"}},{disableAnimation:!0,color:"warning",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-warning data-[selected=true]:text-warning-foreground"}},{disableAnimation:!0,color:"danger",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-danger data-[selected=true]:text-danger-foreground"}},{disableAnimation:!0,color:"default",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-foreground"}},{disableAnimation:!0,color:"primary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-primary"}},{disableAnimation:!0,color:"secondary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-secondary"}},{disableAnimation:!0,color:"success",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-success"}},{disableAnimation:!0,color:"warning",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-warning"}},{disableAnimation:!0,color:"danger",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-danger"}}],compoundSlots:[{variant:"underlined",slots:["tab","tabList","cursor"],class:["rounded-none"]}]}),Ea=Ht({base:"px-2",variants:{variant:{light:"",shadow:"px-4 shadow-medium rounded-medium bg-content1",bordered:"px-4 border-medium border-divider rounded-medium",splitted:"flex flex-col gap-2"},fullWidth:{true:"w-full"}},defaultVariants:{variant:"light",fullWidth:!0}}),Pa=Ht({slots:{base:"",heading:"",trigger:["flex py-4 w-full h-full gap-3 outline-solid outline-transparent items-center tap-highlight-transparent",...$t],startContent:"shrink-0",indicator:"text-default-400",titleWrapper:"flex-1 flex flex-col text-start",title:"text-foreground text-medium",subtitle:"text-small text-foreground-500 font-normal",content:"py-2"},variants:{variant:{splitted:{base:"px-4 bg-content1 shadow-medium rounded-medium"}},isCompact:{true:{trigger:"py-2",title:"text-medium",subtitle:"text-small",indicator:"text-medium",content:"py-1"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},hideIndicator:{true:{indicator:"hidden"}},disableAnimation:{true:{content:"hidden data-[open=true]:block"},false:{indicator:"transition-transform",trigger:"transition-opacity"}},disableIndicatorAnimation:{true:{indicator:"transition-none"},false:{indicator:"rotate-0 data-[open=true]:-rotate-90 rtl:-rotate-180 rtl:data-[open=true]:-rotate-90"}}},defaultVariants:{size:"md",radius:"lg",isDisabled:!1,hideIndicator:!1,disableIndicatorAnimation:!1}});function Ca(e,t){let{elementType:n="button",isDisabled:s,onPress:i,onPressStart:l,onPressEnd:r,onPressUp:o,onPressChange:a,preventFocusOnPress:u,allowFocusWhenDisabled:d,onClick:f,href:h,target:y,rel:v,type:g="button"}=e,m;n==="button"?m={type:g,disabled:s,form:e.form,formAction:e.formAction,formEncType:e.formEncType,formMethod:e.formMethod,formNoValidate:e.formNoValidate,formTarget:e.formTarget,name:e.name,value:e.value}:m={role:"button",href:n==="a"&&!s?h:void 0,target:n==="a"?y:void 0,type:n==="input"?g:void 0,disabled:n==="input"?s:void 0,"aria-disabled":!s||n==="input"?void 0:s,rel:n==="a"?v:void 0};let{pressProps:b,isPressed:x}=ws({onPressStart:l,onPressEnd:r,onPressChange:a,onPress:i,onPressUp:o,onClick:f,isDisabled:s,preventFocusOnPress:u,ref:t}),{focusableProps:T}=_s(e,t);d&&(T.tabIndex=s?-1:T.tabIndex);let I=qe(T,b,$s(e,{labelable:!0}));return{isPressed:x,buttonProps:qe(m,I,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"],"aria-disabled":e["aria-disabled"]})}}function Ra(e,t,n){let{item:s,isDisabled:i}=e,l=s.key,r=t.selectionManager,o=p.useId(),a=p.useId(),u=t.disabledKeys.has(s.key)||i;p.useEffect(()=>{l===t.focusedKey&&document.activeElement!==n.current&&n.current&&Er(n.current)},[n,l,t.focusedKey]);let d=p.useCallback(g=>{r.canSelectItem(l)&&(r.select(l,g),t.toggleKey(l))},[l,r]);const f=p.useCallback(g=>{r.selectionBehavior==="replace"&&r.extendSelection(g),r.setFocusedKey(g)},[r]),h=p.useCallback(g=>{const b={ArrowDown:()=>{const x=t.collection.getKeyAfter(l);if(x&&t.disabledKeys.has(x)){const T=t.collection.getKeyAfter(x);T&&f(T)}else x&&f(x)},ArrowUp:()=>{const x=t.collection.getKeyBefore(l);if(x&&t.disabledKeys.has(x)){const T=t.collection.getKeyBefore(x);T&&f(T)}else x&&f(x)},Home:()=>{const x=t.collection.getFirstKey();x&&f(x)},End:()=>{const x=t.collection.getLastKey();x&&f(x)}}[g.key];b&&(g.preventDefault(),r.canSelectItem(l)&&b(g))},[l,r]);let{buttonProps:y}=Ca({id:o,elementType:"button",isDisabled:u,onKeyDown:h,onPress:d},n),v=t.selectionManager.isSelected(s.key);return{buttonProps:{...y,"aria-expanded":v,"aria-controls":v?a:void 0},regionProps:{id:a,role:"region","aria-labelledby":o}}}function Na(e,t,n){let{listProps:s}=rr({...e,...t,allowsTabNavigation:!0,disallowSelectAll:!0,ref:n});return delete s.onKeyDownCapture,{accordionProps:{...s,tabIndex:void 0}}}function Sa(e){var t,n;const s=Wt(),{ref:i,as:l,item:r,onFocusChange:o}=e,{state:a,className:u,indicator:d,children:f,title:h,subtitle:y,startContent:v,motionProps:g,focusedKey:m,variant:b,isCompact:x=!1,classNames:T={},isDisabled:I=!1,hideIndicator:S=!1,disableAnimation:M=(t=s?.disableAnimation)!=null?t:!1,keepContentMounted:j=!1,disableIndicatorAnimation:C=!1,HeadingComponent:O=l||"h2",onPress:E,onPressStart:H,onPressEnd:W,onPressChange:$,onPressUp:B,onClick:K,...z}=e,L=l||"div",ue=typeof L=="string",le=Je(i),F=a.disabledKeys.has(r.key)||I,q=a.selectionManager.isSelected(r.key),{buttonProps:D,regionProps:A}=Ra({item:r,isDisabled:F},{...a,focusedKey:m},le),{onFocus:R,onBlur:_,...se}=D,{isFocused:ie,isFocusVisible:re,focusProps:k}=zt({autoFocus:(n=r.props)==null?void 0:n.autoFocus}),{isHovered:G,hoverProps:J}=ks({isDisabled:F}),{pressProps:ee,isPressed:be}=ws({ref:le,isDisabled:F,onPress:E,onPressStart:H,onPressEnd:W,onPressChange:$,onPressUp:B}),he=p.useCallback(()=>{o?.(!0,r.key)},[]),Pe=p.useCallback(()=>{o?.(!1,r.key)},[]),w=p.useMemo(()=>({...T}),[Ss(T)]),Q=p.useMemo(()=>Pa({isCompact:x,isDisabled:F,hideIndicator:S,disableAnimation:M,disableIndicatorAnimation:C,variant:b}),[x,F,S,M,C,b]),Ae=we(w?.base,u),je=p.useCallback((Y={})=>({"data-open":U(q),"data-disabled":U(F),"data-slot":"base",className:Q.base({class:Ae}),...Ne(bt(z,{enabled:ue}),Y)}),[Ae,ue,z,Q,r.props,q,F]),Ve=(Y={})=>{var et,Re;return{ref:le,"data-open":U(q),"data-focus":U(ie),"data-focus-visible":U(re),"data-disabled":U(F),"data-hover":U(G),"data-pressed":U(be),"data-slot":"trigger",className:Q.trigger({class:w?.trigger}),onFocus:vn(he,R,k.onFocus,z.onFocus,(et=r.props)==null?void 0:et.onFocus),onBlur:vn(Pe,_,k.onBlur,z.onBlur,(Re=r.props)==null?void 0:Re.onBlur),...Ne(se,J,ee,Y,{onClick:As(ee.onClick,K)})}},ge=p.useCallback((Y={})=>({"data-open":U(q),"data-disabled":U(F),"data-slot":"content",className:Q.content({class:w?.content}),...Ne(A,Y)}),[Q,w,A,q,F,w?.content]),Ce=p.useCallback((Y={})=>({"aria-hidden":U(!0),"data-open":U(q),"data-disabled":U(F),"data-slot":"indicator",className:Q.indicator({class:w?.indicator}),...Y}),[Q,w?.indicator,q,F,w?.indicator]),xe=p.useCallback((Y={})=>({"data-open":U(q),"data-disabled":U(F),"data-slot":"heading",className:Q.heading({class:w?.heading}),...Y}),[Q,w?.heading,q,F,w?.heading]),Ie=p.useCallback((Y={})=>({"data-open":U(q),"data-disabled":U(F),"data-slot":"title",className:Q.title({class:w?.title}),...Y}),[Q,w?.title,q,F,w?.title]),ye=p.useCallback((Y={})=>({"data-open":U(q),"data-disabled":U(F),"data-slot":"subtitle",className:Q.subtitle({class:w?.subtitle}),...Y}),[Q,w,q,F,w?.subtitle]);return{Component:L,HeadingComponent:O,item:r,slots:Q,classNames:w,domRef:le,indicator:d,children:f,title:h,subtitle:y,startContent:v,isOpen:q,isDisabled:F,hideIndicator:S,keepContentMounted:j,disableAnimation:M,motionProps:g,getBaseProps:je,getHeadingProps:xe,getButtonProps:Ve,getContentProps:ge,getIndicatorProps:Ce,getTitleProps:Ie,getSubtitleProps:ye}}var rs=e=>c.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:c.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),os=()=>nr(()=>import("./index-wCUGscoc.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(e=>e.default),pi=Ze((e,t)=>{const{Component:n,HeadingComponent:s,classNames:i,slots:l,indicator:r,children:o,title:a,subtitle:u,startContent:d,isOpen:f,isDisabled:h,hideIndicator:y,keepContentMounted:v,disableAnimation:g,motionProps:m,getBaseProps:b,getHeadingProps:x,getButtonProps:T,getTitleProps:I,getSubtitleProps:S,getContentProps:M,getIndicatorProps:j}=Sa({...e,ref:t}),C=Ta(),E=p.useMemo(()=>typeof r=="function"?r({indicator:c.jsx(rs,{}),isOpen:f,isDisabled:h}):r||null,[r,f,h])||c.jsx(rs,{}),H=p.useMemo(()=>{if(g)return v?c.jsx("div",{...M(),children:o}):f&&c.jsx("div",{...M(),children:o});const W={exit:{...yn.collapse.exit,overflowY:"hidden"},enter:{...yn.collapse.enter,overflowY:"unset"}};return v?c.jsx(kt,{features:os,children:c.jsx(Vt.section,{animate:f?"enter":"exit",exit:"exit",initial:"exit",style:{willChange:C},variants:W,onKeyDown:$=>{$.stopPropagation()},...m,children:c.jsx("div",{...M(),children:o})},"accordion-content")}):c.jsx(Pr,{initial:!1,children:f&&c.jsx(kt,{features:os,children:c.jsx(Vt.section,{animate:"enter",exit:"exit",initial:"exit",style:{willChange:C},variants:W,onKeyDown:$=>{$.stopPropagation()},...m,children:c.jsx("div",{...M(),children:o})},"accordion-content")})})},[f,g,v,o,m]);return c.jsxs(n,{...b(),children:[c.jsx(s,{...x(),children:c.jsxs("button",{...T(),children:[d&&c.jsx("div",{className:l.startContent({class:i?.startContent}),children:d}),c.jsxs("div",{className:l.titleWrapper({class:i?.titleWrapper}),children:[a&&c.jsx("span",{...I(),children:a}),u&&c.jsx("span",{...S(),children:u})]}),!y&&E&&c.jsx("span",{...j(),children:E})]})}),H]})});pi.displayName="HeroUI.AccordionItem";var Aa=pi;class wa{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let n=this.keyMap.get(t);var s;return n&&(s=n.prevKey)!==null&&s!==void 0?s:null}getKeyAfter(t){let n=this.keyMap.get(t);var s;return n&&(s=n.nextKey)!==null&&s!==void 0?s:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){var n;return(n=this.keyMap.get(t))!==null&&n!==void 0?n:null}at(t){const n=[...this.getKeys()];return this.getItem(n[t])}constructor(t,{expandedKeys:n}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t,n=n||new Set;let s=o=>{if(this.keyMap.set(o.key,o),o.childNodes&&(o.type==="section"||n.has(o.key)))for(let a of o.childNodes)s(a)};for(let o of t)s(o);let i=null,l=0;for(let[o,a]of this.keyMap)i?(i.nextKey=o,a.prevKey=i.key):(this.firstKey=o,a.prevKey=void 0),a.type==="item"&&(a.index=l++),i=a,i.nextKey=void 0;var r;this.lastKey=(r=i?.key)!==null&&r!==void 0?r:null}}function ja(e){let{onExpandedChange:t}=e,[n,s]=Cr(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,t),i=or(e),l=p.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),r=ar(e,p.useCallback(a=>new wa(a,{expandedKeys:n}),[n]),null);return p.useEffect(()=>{i.focusedKey!=null&&!r.getItem(i.focusedKey)&&i.setFocusedKey(null)},[r,i.focusedKey]),{collection:r,expandedKeys:n,disabledKeys:l,toggleKey:a=>{s(Da(n,a))},setExpandedKeys:s,selectionManager:new lr(r,i)}}function Da(e,t){let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}function Oa(e){var t;const n=Wt(),{ref:s,as:i,className:l,items:r,variant:o,motionProps:a,expandedKeys:u,disabledKeys:d,selectedKeys:f,children:h,defaultExpandedKeys:y,selectionMode:v="single",selectionBehavior:g="toggle",keepContentMounted:m=!1,disallowEmptySelection:b,defaultSelectedKeys:x,onExpandedChange:T,onSelectionChange:I,dividerProps:S={},isCompact:M=!1,isDisabled:j=!1,showDivider:C=!0,hideIndicator:O=!1,disableAnimation:E=(t=n?.disableAnimation)!=null?t:!1,disableIndicatorAnimation:H=!1,itemClasses:W,...$}=e,[B,K]=p.useState(null),z=i||"div",L=typeof z=="string",ue=Je(s),le=p.useMemo(()=>Ea({variant:o,className:l}),[o,l]),q={children:p.useMemo(()=>{let k=[];return Ee.Children.map(h,G=>{var J;if(Ee.isValidElement(G)&&typeof((J=G.props)==null?void 0:J.children)!="string"){const ee=Ee.cloneElement(G,{hasChildItems:!1});k.push(ee)}else k.push(G)}),k},[h]),items:r},D={expandedKeys:u,defaultExpandedKeys:y,onExpandedChange:T},A={disabledKeys:d,selectedKeys:f,selectionMode:v,selectionBehavior:g,disallowEmptySelection:b,defaultSelectedKeys:x??y,onSelectionChange:I,...q,...D},R=ja(A);R.selectionManager.setFocusedKey=k=>{K(k)};const{accordionProps:_}=Na({...q,...D},R,ue),se=p.useMemo(()=>({state:R,focusedKey:B,motionProps:a,isCompact:M,isDisabled:j,hideIndicator:O,disableAnimation:E,keepContentMounted:m,disableIndicatorAnimation:H}),[B,M,j,O,f,E,m,R?.expandedKeys.values,H,R.expandedKeys.size,R.disabledKeys.size,a]),ie=p.useCallback((k={})=>({ref:ue,className:le,"data-orientation":"vertical",...Ne(_,bt($,{enabled:L}),k)}),[]),re=p.useCallback((k,G)=>{k&&K(G)},[]);return{Component:z,values:se,state:R,focusedKey:B,getBaseProps:ie,isSplitted:o==="splitted",classNames:le,showDivider:C,dividerProps:S,disableAnimation:E,handleFocusChanged:re,itemClasses:W}}var gi=Ze((e,t)=>{const{Component:n,values:s,state:i,isSplitted:l,showDivider:r,getBaseProps:o,disableAnimation:a,handleFocusChanged:u,itemClasses:d,dividerProps:f}=Oa({...e,ref:t}),h=p.useCallback((v,g)=>u(v,g),[u]),y=p.useMemo(()=>[...i.collection].map((v,g)=>{const m={...d,...v.props.classNames||{}};return c.jsxs(p.Fragment,{children:[c.jsx(Aa,{item:v,variant:e.variant,onFocusChange:h,...s,...v.props,classNames:m}),!v.props.hidden&&!l&&r&&g<i.collection.size-1&&c.jsx(cr,{...f})]},v.key)}),[s,d,h,l,r,i.collection]);return c.jsx(n,{...o(),children:a?y:c.jsx(ei,{children:y})})});gi.displayName="HeroUI.Accordion";var La=gi,_a=js,$a=_a;const as=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ls=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",ot=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return ls(n.overflowY,t)||ls(n.overflowX,t)||(s=>{const i=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(s);return!!i&&(i.clientHeight<s.scrollHeight||i.clientWidth<s.scrollWidth)})(e)}return!1},at=(e,t,n,s,i,l,r,o)=>l<e&&r>t||l>e&&r<t?0:l<=e&&o<=n||r>=t&&o>=n?l-e-s:r>t&&o<n||l<e&&o>n?r-t+i:0,ka=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Ft=(e,t)=>{var n,s,i,l;if(typeof document>"u")return[];const{scrollMode:r,block:o,inline:a,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:z=>z!==u;if(!as(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,y=[];let v=e;for(;as(v)&&f(v);){if(v=ka(v),v===h){y.push(v);break}v!=null&&v===document.body&&ot(v)&&!ot(document.documentElement)||v!=null&&ot(v,d)&&y.push(v)}const g=(s=(n=window.visualViewport)==null?void 0:n.width)!=null?s:innerWidth,m=(l=(i=window.visualViewport)==null?void 0:i.height)!=null?l:innerHeight,{scrollX:b,scrollY:x}=window,{height:T,width:I,top:S,right:M,bottom:j,left:C}=e.getBoundingClientRect(),{top:O,right:E,bottom:H,left:W}=(z=>{const L=window.getComputedStyle(z);return{top:parseFloat(L.scrollMarginTop)||0,right:parseFloat(L.scrollMarginRight)||0,bottom:parseFloat(L.scrollMarginBottom)||0,left:parseFloat(L.scrollMarginLeft)||0}})(e);let $=o==="start"||o==="nearest"?S-O:o==="end"?j+H:S+T/2-O+H,B=a==="center"?C+I/2-W+E:a==="end"?M+E:C-W;const K=[];for(let z=0;z<y.length;z++){const L=y[z],{height:ue,width:le,top:F,right:q,bottom:D,left:A}=L.getBoundingClientRect();if(r==="if-needed"&&S>=0&&C>=0&&j<=m&&M<=g&&(L===h&&!ot(L)||S>=F&&j<=D&&C>=A&&M<=q))return K;const R=getComputedStyle(L),_=parseInt(R.borderLeftWidth,10),se=parseInt(R.borderTopWidth,10),ie=parseInt(R.borderRightWidth,10),re=parseInt(R.borderBottomWidth,10);let k=0,G=0;const J="offsetWidth"in L?L.offsetWidth-L.clientWidth-_-ie:0,ee="offsetHeight"in L?L.offsetHeight-L.clientHeight-se-re:0,be="offsetWidth"in L?L.offsetWidth===0?0:le/L.offsetWidth:0,he="offsetHeight"in L?L.offsetHeight===0?0:ue/L.offsetHeight:0;if(h===L)k=o==="start"?$:o==="end"?$-m:o==="nearest"?at(x,x+m,m,se,re,x+$,x+$+T,T):$-m/2,G=a==="start"?B:a==="center"?B-g/2:a==="end"?B-g:at(b,b+g,g,_,ie,b+B,b+B+I,I),k=Math.max(0,k+x),G=Math.max(0,G+b);else{k=o==="start"?$-F-se:o==="end"?$-D+re+ee:o==="nearest"?at(F,D,ue,se,re+ee,$,$+T,T):$-(F+ue/2)+ee/2,G=a==="start"?B-A-_:a==="center"?B-(A+le/2)+J/2:a==="end"?B-q+ie+J:at(A,q,le,_,ie+J,B,B+I,I);const{scrollLeft:Pe,scrollTop:w}=L;k=he===0?0:Math.max(0,Math.min(w+k/he,L.scrollHeight-ue/he+ee)),G=be===0?0:Math.max(0,Math.min(Pe+G/be,L.scrollWidth-le/be+J)),$+=w-k,B+=Pe-G}K.push({el:L,top:k,left:G})}return K},Va=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function Ba(e,t){if(!e.isConnected||!(s=>{let i=s;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;if((s=>typeof s=="object"&&typeof s.behavior=="function")(t))return t.behavior(Ft(e,t));const n=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:s,top:i,left:l}of Ft(e,Va(t)))s.scroll({top:i,left:l,behavior:n})}function Ka(e={}){const{rerender:t=!1,delay:n=0}=e,s=p.useRef(!1),[i,l]=p.useState(!1);return p.useEffect(()=>{s.current=!0;let r=null;return t&&(n>0?r=setTimeout(()=>{l(!0)},n):l(!0)),()=>{s.current=!1,t&&l(!1),r&&clearTimeout(r)}},[t]),[p.useCallback(()=>s.current,[]),i]}const vi=new WeakMap;function gt(e,t,n){return e?(typeof t=="string"&&(t=t.replace(/\s+/g,"")),`${vi.get(e)}-${n}-${t}`):""}function Fa(e,t,n){let{key:s,isDisabled:i,shouldSelectOnPressUp:l}=e,{selectionManager:r,selectedKey:o}=t,a=s===o,u=i||t.isDisabled||t.selectionManager.isDisabled(s),{itemProps:d,isPressed:f}=ur({selectionManager:r,key:s,ref:n,isDisabled:u,shouldSelectOnPressUp:l,linkBehavior:"selection"}),h=gt(t,s,"tab"),y=gt(t,s,"tabpanel"),{tabIndex:v}=d,g=t.collection.getItem(s),m=$s(g?.props,{labelable:!0});delete m.id;let b=dr(g?.props),{focusableProps:x}=_s({isDisabled:u},n);return{tabProps:qe(m,x,b,d,{id:h,"aria-selected":a,"aria-disabled":u||void 0,"aria-controls":a?y:void 0,tabIndex:u?void 0:v,role:"tab"}),isSelected:a,isDisabled:u,isPressed:f}}function Ga(e,t,n){let s=Ma(n)?void 0:0;var i;const l=gt(t,(i=e.id)!==null&&i!==void 0?i:t?.selectedKey,"tabpanel"),r=Ds({...e,id:l,"aria-labelledby":gt(t,t?.selectedKey,"tab")});return{tabPanelProps:qe(r,{tabIndex:s,role:"tabpanel","aria-describedby":e["aria-describedby"],"aria-details":e["aria-details"]})}}class Ua{getKeyLeftOf(t){return this.flipDirection?this.getNextKey(t):this.getPreviousKey(t)}getKeyRightOf(t){return this.flipDirection?this.getPreviousKey(t):this.getNextKey(t)}isDisabled(t){var n,s;return this.disabledKeys.has(t)||!!(!((s=this.collection.getItem(t))===null||s===void 0||(n=s.props)===null||n===void 0)&&n.isDisabled)}getFirstKey(){let t=this.collection.getFirstKey();return t!=null&&this.isDisabled(t)&&(t=this.getNextKey(t)),t}getLastKey(){let t=this.collection.getLastKey();return t!=null&&this.isDisabled(t)&&(t=this.getPreviousKey(t)),t}getKeyAbove(t){return this.tabDirection?null:this.getPreviousKey(t)}getKeyBelow(t){return this.tabDirection?null:this.getNextKey(t)}getNextKey(t){let n=t;do n=this.collection.getKeyAfter(n),n==null&&(n=this.collection.getFirstKey());while(n!=null&&this.isDisabled(n));return n}getPreviousKey(t){let n=t;do n=this.collection.getKeyBefore(n),n==null&&(n=this.collection.getLastKey());while(n!=null&&this.isDisabled(n));return n}constructor(t,n,s,i=new Set){this.collection=t,this.flipDirection=n==="rtl"&&s==="horizontal",this.disabledKeys=i,this.tabDirection=s==="horizontal"}}function Ha(e,t,n){let{orientation:s="horizontal",keyboardActivation:i="automatic"}=e,{collection:l,selectionManager:r,disabledKeys:o}=t,{direction:a}=Rr(),u=p.useMemo(()=>new Ua(l,a,s,o),[l,o,s,a]),{collectionProps:d}=fr({ref:n,selectionManager:r,keyboardDelegate:u,selectOnFocus:i==="automatic",disallowEmptySelection:!0,scrollRef:n,linkBehavior:"selection"}),f=Nr();vi.set(t,f);let h=Ds({...e,id:f});return{tabListProps:{...qe(d,h),role:"tablist","aria-orientation":s,tabIndex:void 0}}}var xi=Ze((e,t)=>{var n,s;const{as:i,tabKey:l,destroyInactiveTabPanel:r,state:o,className:a,slots:u,classNames:d,...f}=e,h=i||"div",y=Je(t),{tabPanelProps:v}=Ga({...e,id:String(l)},o,y),{focusProps:g,isFocused:m,isFocusVisible:b}=zt(),x=o.selectedItem,T=o.collection.getItem(l).props.children,I=we(d?.panel,a,(n=x?.props)==null?void 0:n.className),S=l===x?.key;return!T||!S&&r?null:c.jsx(h,{ref:y,"data-focus":m,"data-focus-visible":b,"data-inert":S?void 0:"true",inert:sr(!S),...S&&Ne(v,g,f),className:(s=u.panel)==null?void 0:s.call(u,{class:I}),"data-slot":"panel",children:T})});xi.displayName="HeroUI.TabPanel";var Wa=xi,yi=Ze((e,t)=>{var n,s;const{className:i,as:l,item:r,state:o,classNames:a,isDisabled:u,listRef:d,slots:f,motionProps:h,disableAnimation:y,disableCursorAnimation:v,shouldSelectOnPressUp:g,tabRef:m,...b}=e,{key:x}=r,T=Je(t),I=l||(e.href?"a":"button"),S=typeof I=="string",{tabProps:M,isSelected:j,isDisabled:C,isPressed:O}=Fa({key:x,isDisabled:u,shouldSelectOnPressUp:g},o,T);e.children==null&&delete M["aria-controls"];const E=u||C,{focusProps:H,isFocused:W,isFocusVisible:$}=zt(),{hoverProps:B,isHovered:K}=ks({isDisabled:E}),z=we(a?.tab,i),[,L]=Ka({rerender:!0}),ue=((n=T?.current)==null?void 0:n.closest('[aria-modal="true"]'))!==null,le=()=>{!T?.current||!d?.current||Ba(T.current,{scrollMode:"if-needed",behavior:"smooth",block:"end",inline:"end",boundary:d?.current})};return c.jsxs(I,{ref:er(T,m),"data-disabled":U(C),"data-focus":U(W),"data-focus-visible":U($),"data-hover":U(K),"data-hover-unselected":U((K||O)&&!j),"data-pressed":U(O),"data-selected":U(j),"data-slot":"tab",...Ne(M,E?{}:{...H,...B},bt(b,{enabled:S,omitPropNames:new Set(["title"]),omitEventNames:new Set(["onClick"])}),{onClick:As(le,M.onClick)}),className:(s=f.tab)==null?void 0:s.call(f,{class:z}),title:b?.titleValue,type:I==="button"?"button":void 0,children:[j&&!y&&!v&&L&&!ue?c.jsx(kt,{features:ba,children:c.jsx(Vt.span,{className:f.cursor({class:a?.cursor}),"data-slot":"cursor",layoutDependency:!1,layoutId:"cursor",transition:{type:"spring",bounce:.15,duration:.5},...h})}):null,c.jsx("div",{className:f.tabContent({class:a?.tabContent}),"data-slot":"tabContent",children:r.rendered})]})});yi.displayName="HeroUI.Tab";var za=yi;function qa(e){var t,n;let s=hr({...e,onSelectionChange:e.onSelectionChange?a=>{var u;a!=null&&((u=e.onSelectionChange)===null||u===void 0||u.call(e,a))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(n=(t=e.defaultSelectedKey)!==null&&t!==void 0?t:cs(e.collection,e.disabledKeys?new Set(e.disabledKeys):new Set))!==null&&n!==void 0?n:void 0}),{selectionManager:i,collection:l,selectedKey:r}=s,o=p.useRef(r);return p.useEffect(()=>{let a=r;e.selectedKey==null&&(i.isEmpty||a==null||!l.getItem(a))&&(a=cs(l,s.disabledKeys),a!=null&&i.setSelectedKeys([a])),(a!=null&&i.focusedKey==null||!i.isFocused&&a!==o.current)&&i.setFocusedKey(a),o.current=a}),{...s,isDisabled:e.isDisabled||!1}}function cs(e,t){let n=null;if(e){var s,i,l,r;for(n=e.getFirstKey();n!=null&&(t.has(n)||!((i=e.getItem(n))===null||i===void 0||(s=i.props)===null||s===void 0)&&s.isDisabled)&&n!==e.getLastKey();)n=e.getKeyAfter(n);n!=null&&(t.has(n)||!((r=e.getItem(n))===null||r===void 0||(l=r.props)===null||l===void 0)&&l.isDisabled)&&n===e.getLastKey()&&(n=e.getFirstKey())}return n}function Ya(e){var t,n,s;const i=Wt(),[l,r]=ir(e,is.variantKeys),{ref:o,as:a,className:u,classNames:d,children:f,disableCursorAnimation:h,motionProps:y,isVertical:v=!1,shouldSelectOnPressUp:g=!0,destroyInactiveTabPanel:m=!0,...b}=l,x=a||"div",T=typeof x=="string",I=Je(o),S=(n=(t=e?.disableAnimation)!=null?t:i?.disableAnimation)!=null?n:!1,M=qa({children:f,...b}),{tabListProps:j}=Ha(b,M,I),C=p.useMemo(()=>is({...r,disableAnimation:S,...v?{placement:"start"}:{}}),[Ss(r),S,v]),O=we(d?.base,u),E=p.useMemo(()=>({state:M,slots:C,classNames:d,motionProps:y,disableAnimation:S,listRef:I,shouldSelectOnPressUp:g,disableCursorAnimation:h,isDisabled:e?.isDisabled}),[M,C,I,y,S,h,g,e?.isDisabled,d]),H=p.useCallback(K=>({"data-slot":"base",className:C.base({class:we(O,K?.className)}),...Ne(bt(b,{enabled:T}),K)}),[O,b,C]),W=(s=r.placement)!=null?s:v?"start":"top",$=p.useCallback(K=>({"data-slot":"tabWrapper",className:C.tabWrapper({class:we(d?.tabWrapper,K?.className)}),"data-placement":W,"data-vertical":v||W==="start"||W==="end"?"vertical":"horizontal"}),[d,C,W,v]),B=p.useCallback(K=>({ref:I,"data-slot":"tabList",className:C.tabList({class:we(d?.tabList,K?.className)}),...Ne(j,K)}),[I,j,d,C]);return{Component:x,domRef:I,state:M,values:E,destroyInactiveTabPanel:m,getBaseProps:H,getTabListProps:B,getWrapperProps:$}}var Xa=Ze(function(t,n){var s;const{Component:i,values:l,state:r,domRef:o,destroyInactiveTabPanel:a,getBaseProps:u,getTabListProps:d,getWrapperProps:f}=Ya({...t,ref:n}),h=p.useId(),y=((s=o?.current)==null?void 0:s.closest('[aria-modal="true"]'))!==null,v=!t.disableAnimation&&!t.disableCursorAnimation&&!y,g={state:r,listRef:l.listRef,slots:l.slots,classNames:l.classNames,isDisabled:l.isDisabled,motionProps:l.motionProps,disableAnimation:l.disableAnimation,shouldSelectOnPressUp:l.shouldSelectOnPressUp,disableCursorAnimation:l.disableCursorAnimation},m=[...r.collection].map(x=>c.jsx(za,{item:x,...g,...x.props},x.key)),b=c.jsxs(c.Fragment,{children:[c.jsx("div",{...u(),children:c.jsx(i,{...d(),children:v?c.jsx(ei,{id:h,children:m}):m})}),[...r.collection].map(x=>c.jsx(Wa,{classNames:l.classNames,destroyInactiveTabPanel:a,slots:l.slots,state:l.state,tabKey:x.key},x.key))]});return"placement"in t||"isVertical"in t?c.jsx("div",{...f(),children:b}):b}),Qa=Xa,Za=js,St=Za;function Ja(){const{t:e}=ne();return c.jsxs("div",{children:[c.jsx("h1",{className:"text-white text-[28px] font-bold",children:e(P.MICROAGENT_MANAGEMENT$DESCRIPTION)}),c.jsxs("p",{className:"text-white text-sm font-normal leading-[20px] pt-2",children:[e(P.MICROAGENT_MANAGEMENT$USE_MICROAGENTS),c.jsx("a",{href:ut.MICROAGENTS.MICROAGENTS_OVERVIEW,target:"_blank",rel:"noopener noreferrer",children:c.jsx(Hi,{className:"inline-block ml-1"})})]})]})}const ae=Wi(e=>({addMicroagentModalVisible:!1,updateMicroagentModalVisible:!1,learnThisRepoModalVisible:!1,selectedRepository:null,personalRepositories:[],organizationRepositories:[],repositories:[],selectedMicroagentItem:null,setAddMicroagentModalVisible:t=>e({addMicroagentModalVisible:t}),setUpdateMicroagentModalVisible:t=>e({updateMicroagentModalVisible:t}),setLearnThisRepoModalVisible:t=>e({learnThisRepoModalVisible:t}),setSelectedRepository:t=>e({selectedRepository:t}),setPersonalRepositories:t=>e({personalRepositories:t}),setOrganizationRepositories:t=>e({organizationRepositories:t}),setRepositories:t=>e({repositories:t}),setSelectedMicroagentItem:t=>e({selectedMicroagentItem:t})}));function us({microagent:e,conversation:t,repository:n}){const{t:s}=ne(),{selectedMicroagentItem:i,setSelectedMicroagentItem:l,setSelectedRepository:r}=ae(),{status:o,runtime_status:a,pr_number:u}=t??{},d=!!(u&&u.length>0),f=p.useMemo(()=>d?s(P.COMMON$READY_FOR_REVIEW):o==="STARTING"||a==="STATUS$STARTING_RUNTIME"?s(P.COMMON$STARTING):o==="STOPPED"||a==="STATUS$STOPPED"?s(P.COMMON$STOPPED):a==="STATUS$ERROR"?s(P.MICROAGENT$STATUS_ERROR):o==="RUNNING"?s(a==="STATUS$READY"?P.MICROAGENT$STATUS_OPENING_PR:P.COMMON$STARTING):"",[o,a,s,d]),h=e?.name??t?.title,y=p.useMemo(()=>e&&i?.microagent?i.microagent.name===e.name:t&&i?.conversation?i.conversation.conversation_id===t.conversation_id:!1,[e,t,i]),v=()=>{l(e?{microagent:e,conversation:void 0}:{microagent:void 0,conversation:t}),r(n)};return c.jsx("div",{className:oe("rounded-lg bg-[#ffffff0d] border border-[#ffffff33] p-4 cursor-pointer hover:bg-[#ffffff33] hover:border-[#C9B974] transition-all duration-300",y&&"bg-[#ffffff33] border-[#C9B974]"),onClick:v,children:c.jsxs("div",{className:"flex flex-col items-start gap-2",children:[f&&c.jsx("div",{className:"px-[6px] py-[2px] text-[11px] font-medium bg-[#C9B97433] text-white rounded-2xl",children:f}),c.jsx("div",{className:"text-white text-[16px] font-semibold",children:h}),!!e&&c.jsx("div",{className:"text-white text-sm font-normal",children:e.path})]})})}function ds({repository:e}){const{setLearnThisRepoModalVisible:t,setSelectedRepository:n}=ae(),{t:s}=ne(),i=()=>{t(!0),n(e)};return c.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[#ffffff0d] border border-dashed border-[#ffffff4d] p-4 hover:bg-[#ffffff33] hover:border-[#C9B974] transition-all duration-300 cursor-pointer",onClick:i,"data-testid":"learn-this-repo-trigger",children:c.jsx("span",{className:"text-[16px] font-normal text-[#8480FF]",children:s(P.MICROAGENT_MANAGEMENT$LEARN_THIS_REPO)})})}const el=(e,t,n=!1)=>Qe({queryKey:["repository","microagents",e,t],queryFn:()=>$e.getRepositoryMicroagents(e,t),enabled:!!e&&!!t,staleTime:n?0:1e3*60*5,gcTime:n?0:1e3*60*15});class tl{static async getMicroagentManagementConversations(t,n,s=100){const i={limit:s,selected_repository:t};n&&(i.page_id=n);const{data:l}=await Ji.get("/api/microagent-management/conversations",{params:i});return l.results}}const nl=(e,t,n=100,s=!1)=>Qe({queryKey:["conversations","microagent-management",t,n,e],queryFn:()=>tl.getMicroagentManagementConversations(e,t,n),enabled:!!e,staleTime:s?0:1e3*60*5,gcTime:s?0:1e3*60*15});function sl({repository:e}){const{selectedMicroagentItem:t,setSelectedMicroagentItem:n}=ae(),{t:s}=ne(),{full_name:i}=e,[l,r]=i.split("/"),{data:o,isLoading:a,isError:u}=el(l,r,!0),{data:d,isLoading:f,isError:h}=nl(i,void 0,1e3,!0);p.useEffect(()=>{const I=d&&d.length>0,S=t?.conversation;if(I&&S){const M=d.find(j=>j.conversation_id===S.conversation_id);M&&n({microagent:void 0,conversation:M})}},[d]),p.useEffect(()=>()=>{n({microagent:void 0,conversation:void 0})},[n]);const y=a||f,v=u||h;if(y)return c.jsx("div",{className:"pb-4 flex justify-center",children:c.jsx(Le,{size:"sm","data-testid":"loading-spinner"})});if(v)return c.jsx("div",{children:c.jsx(ds,{repository:e})});const g=o?.length||0,m=d?.length||0,b=g+m,x=g>0,T=m>0;return c.jsxs("div",{children:[b===0&&c.jsx(ds,{repository:e}),x&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-md text-white font-medium leading-5 mb-4",children:s(P.MICROAGENT_MANAGEMENT$EXISTING_MICROAGENTS)}),o?.map(I=>c.jsx("div",{className:"pb-4 last:pb-0",children:c.jsx(us,{microagent:I,repository:e})},I.name))]}),T&&c.jsxs("div",{className:oe("flex flex-col",x&&"mt-4"),children:[c.jsx("span",{className:"text-md text-white font-medium leading-5 mb-4",children:s(P.COMMON$IN_PROGRESS)}),d?.map(I=>c.jsx("div",{className:"pb-4 last:pb-0",children:c.jsx(us,{conversation:I,repository:e})},I.conversation_id))]})]})}function At({title:e,documentationUrl:t}){return c.jsx("div",{className:"flex items-center justify-center pt-10",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-white text-sm font-medium",children:e}),c.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:c.jsx(mt,{className:"text-primary"})})]})})}function il({repository:e}){const{t}=ne(),{addMicroagentModalVisible:n,setAddMicroagentModalVisible:s,setSelectedRepository:i}=ae(),l=r=>{r.stopPropagation(),s(!n),i(e)};return c.jsx("button",{type:"button",onClick:l,className:"translate-y-[-1px]","data-testid":"add-microagent-button",children:c.jsx("span",{className:"text-sm font-normal leading-5 text-[#8480FF] cursor-pointer hover:text-[#6C63FF] transition-colors duration-200",children:t(P.COMMON$ADD_MICROAGENT)})})}function rl({repository:e}){return c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ps,{gitProvider:e.git_provider}),c.jsx(tr,{tooltip:e.full_name,ariaLabel:e.full_name,className:"text-white text-base font-normal bg-transparent p-0 min-w-0 h-auto cursor-pointer truncate max-w-[194px] translate-y-[-1px]",testId:"repository-name-tooltip",placement:"bottom",children:c.jsx("span",{children:e.full_name})})]}),c.jsx(il,{repository:e})]})}function wt({repositories:e,tabType:t,isSearchLoading:n=!1}){const{t:s}=ne(),i=e.length;if(n)return c.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[c.jsx(Le,{size:"sm"}),c.jsx("span",{className:"text-sm text-white",children:s("HOME$SEARCHING_REPOSITORIES")})]});if(i===0){if(t==="personal")return c.jsx(At,{title:s(P.MICROAGENT_MANAGEMENT$YOU_DO_NOT_HAVE_USER_LEVEL_MICROAGENTS),documentationUrl:ut.MICROAGENTS.MICROAGENTS_OVERVIEW});if(t==="repositories")return c.jsx(At,{title:s(P.MICROAGENT_MANAGEMENT$YOU_DO_NOT_HAVE_MICROAGENTS),documentationUrl:ut.MICROAGENTS.MICROAGENTS_OVERVIEW});if(t==="organizations")return c.jsx(At,{title:s(P.MICROAGENT_MANAGEMENT$YOU_DO_NOT_HAVE_ORGANIZATION_LEVEL_MICROAGENTS),documentationUrl:ut.MICROAGENTS.ORGANIZATION_AND_USER_MICROAGENTS})}return c.jsx("div",{className:"flex flex-col gap-4 w-full",children:c.jsx(La,{variant:"splitted",className:"w-full px-0 gap-3",itemClasses:{base:"shadow-none bg-transparent cursor-pointer px-0",trigger:"cursor-pointer gap-2 py-3",indicator:"flex items-center justify-center p-0.5 pr-[3px] text-white hover:bg-[#454545] rounded transition-colors duration-200 rotate-180"},selectionMode:"multiple",children:e.map(l=>c.jsx($a,{"aria-label":l.full_name,title:c.jsx(rl,{repository:l}),children:c.jsx(sl,{repository:l})},l.id))})})}function ol({isSearchLoading:e=!1}){const{t}=ne(),{repositories:n,personalRepositories:s,organizationRepositories:i}=ae();return c.jsx("div",{className:"flex w-full flex-col",children:c.jsxs(Qa,{"aria-label":"Options",classNames:{base:"py-6",tabList:"w-full bg-transparent border border-[#ffffff40] rounded-[6px]",tab:"px-2 h-[22px]",tabContent:"text-white text-[12px] font-normal",panel:"p-0",cursor:"bg-[#C9B97480] rounded-sm"},children:[c.jsx(St,{title:t(P.COMMON$PERSONAL),children:c.jsx(wt,{repositories:s,tabType:"personal",isSearchLoading:e})},"personal"),c.jsx(St,{title:t(P.COMMON$REPOSITORIES),children:c.jsx(wt,{repositories:n,tabType:"repositories",isSearchLoading:e})},"repositories"),c.jsx(St,{title:t(P.COMMON$ORGANIZATIONS),children:c.jsx(wt,{repositories:i,tabType:"organizations",isSearchLoading:e})},"organizations")]})})}const al=e=>{const{data:t}=Ns(),{data:n}=zr(),{providers:s}=Yt();return Qe({queryKey:["installations",s||[],e],queryFn:()=>$e.getUserInstallationIds(e),enabled:n&&!!e&&Cs(e,t?.APP_MODE),staleTime:1e3*60*5,gcTime:1e3*60*15})};function ll(e){const{provider:t,pageSize:n=30,enabled:s=!0}=e,{providers:i}=Yt(),{data:l}=Ns(),{data:r}=al(t),o=t?Cs(t,l?.APP_MODE):!1,a=Wr({queryKey:["repositories",i||[],t,o,n,...o?[r||[]]:[]],queryFn:async({pageParam:d})=>{if(!t)throw new Error("Provider is required");if(o){const{repoPage:f,installationIndex:h}=d;if(!r)throw new Error("Missing installation list");return $e.retrieveInstallationRepositories(t,h||0,r,f||1,n)}return $e.retrieveUserGitRepositories(t,d,n)},getNextPageParam:d=>{if(o){const h=d;return h.nextPage?{installationIndex:h.installationIndex,repoPage:h.nextPage}:h.installationIndex!==null?{installationIndex:h.installationIndex,repoPage:1}:null}return d.nextPage},initialPageParam:o?{installationIndex:0,repoPage:1}:1,enabled:s&&(i||[]).length>0&&!!t&&(!o||Array.isArray(r)&&r.length>0),staleTime:1e3*60*5,gcTime:1e3*60*15,refetchOnWindowFocus:!1}),u=()=>{a.hasNextPage&&!a.isFetchingNextPage&&a.fetchNextPage()};return{data:a.data,isLoading:a.isLoading,isError:a.isError,hasNextPage:a.hasNextPage,isFetchingNextPage:a.isFetchingNextPage,fetchNextPage:a.fetchNextPage,onLoadMore:u}}function fs(e,t,n,s=100){return Qe({queryKey:["repositories","search",e,t,s],queryFn:()=>$e.searchGitRepositories(e,s,t||void 0),enabled:!!e&&!!t&&!0,staleTime:1e3*60*5,gcTime:1e3*60*15})}var jt={exports:{}},Dt,hs;function cl(){if(hs)return Dt;hs=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dt=e,Dt}var Ot,ms;function ul(){if(ms)return Ot;ms=1;var e=cl();function t(){}function n(){}return n.resetWarningCache=t,Ot=function(){function s(r,o,a,u,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}s.isRequired=s;function i(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},Ot}var ps;function dl(){return ps||(ps=1,jt.exports=ul()()),jt.exports}var fl=dl();const N=Fi(fl);var Lt={exports:{}},V={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs;function hl(){if(gs)return V;gs=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),r=Symbol.for("react.context"),o=Symbol.for("react.server_context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function g(m){if(typeof m=="object"&&m!==null){var b=m.$$typeof;switch(b){case e:switch(m=m.type,m){case n:case i:case s:case u:case d:return m;default:switch(m=m&&m.$$typeof,m){case o:case r:case a:case h:case f:case l:return m;default:return b}}case t:return b}}}return V.ContextConsumer=r,V.ContextProvider=l,V.Element=e,V.ForwardRef=a,V.Fragment=n,V.Lazy=h,V.Memo=f,V.Portal=t,V.Profiler=i,V.StrictMode=s,V.Suspense=u,V.SuspenseList=d,V.isAsyncMode=function(){return!1},V.isConcurrentMode=function(){return!1},V.isContextConsumer=function(m){return g(m)===r},V.isContextProvider=function(m){return g(m)===l},V.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===e},V.isForwardRef=function(m){return g(m)===a},V.isFragment=function(m){return g(m)===n},V.isLazy=function(m){return g(m)===h},V.isMemo=function(m){return g(m)===f},V.isPortal=function(m){return g(m)===t},V.isProfiler=function(m){return g(m)===i},V.isStrictMode=function(m){return g(m)===s},V.isSuspense=function(m){return g(m)===u},V.isSuspenseList=function(m){return g(m)===d},V.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===n||m===i||m===s||m===u||m===d||m===y||typeof m=="object"&&m!==null&&(m.$$typeof===h||m.$$typeof===f||m.$$typeof===l||m.$$typeof===r||m.$$typeof===a||m.$$typeof===v||m.getModuleId!==void 0)},V.typeOf=g,V}var vs;function ml(){return vs||(vs=1,Lt.exports=hl()),Lt.exports}ml();var pl=0;function bi(){}function gl(e,t){if(e){var n=Ft(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(s){var i=s.el,l=s.top,r=s.left;i.scrollTop=l,i.scrollLeft=r})}}function xs(e,t,n){var s=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return s}function Ii(e,t){var n;function s(){n&&clearTimeout(n)}function i(){for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];s(),n=setTimeout(function(){n=null,e.apply(void 0,r)},t)}return i.cancel=s,i}function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){for(var i=arguments.length,l=new Array(i>1?i-1:0),r=1;r<i;r++)l[r-1]=arguments[r];return t.some(function(o){return o&&o.apply(void 0,[s].concat(l)),s.preventDownshiftDefault||s.hasOwnProperty("nativeEvent")&&s.nativeEvent.preventDownshiftDefault})}}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){t.forEach(function(i){typeof i=="function"?i(s):i&&(i.current=s)})}}function vl(){return String(pl++)}function Gt(e,t){return!e||!t?e:Object.keys(e).reduce(function(n,s){return n[s]=Ti(t,s)?t[s]:e[s],n},{})}function Ti(e,t){return e[t]!==void 0}function xl(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function ct(e,t,n,s,i){var l=n.length;if(l===0)return-1;var r=l-1;(typeof e!="number"||e<0||e>r)&&(e=t>0?-1:r+1);var o=e+t;o<0?o=r:o>r&&(o=0);var a=vt(o,t<0,n,s,i);return a===-1?e>=l?-1:e:a}function vt(e,t,n,s,i){i===void 0&&(i=!1);var l=n.length;if(t){for(var r=e;r>=0;r--)if(!s(n[r],r))return r}else for(var o=e;o<l;o++)if(!s(n[o],o))return o;return i?vt(t?l-1:0,t,n,s):-1}function ys(e,t,n,s){return s===void 0&&(s=!0),n&&t.some(function(i){return i&&(xs(i,e,n)||s&&xs(i,n.document.activeElement,n))})}var yl=Ii(function(e){Mi(e).textContent=""},500);function Mi(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function bl(e,t){if(!(!e||!t)){var n=Mi(t);n.textContent=e,yl(t)}}function Il(e){var t=e?.getElementById("a11y-status-message");t&&t.remove()}var Ei={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Tl(e,t,n){var s=e.props,i=e.type,l={};Object.keys(t).forEach(function(r){Ml(r,e,t,n),n[r]!==t[r]&&(l[r]=n[r])}),s.onStateChange&&Object.keys(l).length&&s.onStateChange(X({type:i},l))}function Ml(e,t,n,s){var i=t.props,l=t.type,r="on"+Qt(e)+"Change";i[r]&&s[e]!==void 0&&s[e]!==n[e]&&i[r](X({type:l},s))}function El(e,t){return t.changes}var bs=Ii(function(e,t){bl(e,t)},200),Pl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect,Cl="useId"in Ee?function(t){var n=t.id,s=t.labelId,i=t.menuId,l=t.getItemId,r=t.toggleButtonId,o=t.inputId,a="downshift-"+Ee.useId();n||(n=a);var u=p.useRef({labelId:s||n+"-label",menuId:i||n+"-menu",getItemId:l||function(d){return n+"-item-"+d},toggleButtonId:r||n+"-toggle-button",inputId:o||n+"-input"});return u.current}:function(t){var n=t.id,s=n===void 0?"downshift-"+vl():n,i=t.labelId,l=t.menuId,r=t.getItemId,o=t.toggleButtonId,a=t.inputId,u=p.useRef({labelId:i||s+"-label",menuId:l||s+"-menu",getItemId:r||function(d){return s+"-item-"+d},toggleButtonId:o||s+"-toggle-button",inputId:a||s+"-input"});return u.current};function Rl(e,t,n,s){var i,l;if(e===void 0){if(t===void 0)throw new Error(s);i=n[t],l=t}else l=t===void 0?n.indexOf(e):t,i=e;return[i,l]}function Qt(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Pi(e){var t=p.useRef(e);return t.current=e,t}function Nl(e,t,n,s){var i=p.useRef(),l=p.useRef(),r=p.useCallback(function(y,v){l.current=v,y=Gt(y,v.props);var g=e(y,v),m=v.props.stateReducer(y,X({},v,{changes:g}));return m},[e]),o=p.useReducer(r,t,n),a=o[0],u=o[1],d=Pi(t),f=p.useCallback(function(y){return u(X({props:d.current},y))},[d]),h=l.current;return p.useEffect(function(){var y=Gt(i.current,h?.props),v=h&&i.current&&!s(y,a);v&&Tl(h,y,a),i.current=a},[a,h,s]),[a,f]}var He={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:El,scrollIntoView:gl,environment:typeof window>"u"?void 0:window};function Se(e,t,n){n===void 0&&(n=Ei);var s=e["default"+Qt(t)];return s!==void 0?s:n[t]}function We(e,t,n){n===void 0&&(n=Ei);var s=e[t];if(s!==void 0)return s;var i=e["initial"+Qt(t)];return i!==void 0?i:Se(e,t,n)}function Sl(e){var t=We(e,"selectedItem"),n=We(e,"isOpen"),s=Ll(e),i=We(e,"inputValue");return{highlightedIndex:s<0&&t&&n?e.items.findIndex(function(l){return e.itemToKey(l)===e.itemToKey(t)}):s,isOpen:n,selectedItem:t,inputValue:i}}function ze(e,t,n){var s=e.items,i=e.initialHighlightedIndex,l=e.defaultHighlightedIndex,r=e.isItemDisabled,o=e.itemToKey,a=t.selectedItem,u=t.highlightedIndex;return s.length===0?-1:i!==void 0&&u===i&&!r(s[i],i)?i:l!==void 0&&!r(s[l],l)?l:a?s.findIndex(function(d){return o(a)===o(d)}):n<0&&!r(s[s.length-1],s.length-1)?s.length-1:n>0&&!r(s[0],0)?0:-1}function Al(e,t,n){var s=p.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return p.useEffect(function(){if(!e)return bi;var i=n.map(function(d){return d.current});function l(){s.current.isTouchEnd=!1,s.current.isMouseDown=!0}function r(d){s.current.isMouseDown=!1,ys(d.target,i,e)||t()}function o(){s.current.isTouchEnd=!1,s.current.isTouchMove=!1}function a(){s.current.isTouchMove=!0}function u(d){s.current.isTouchEnd=!0,!s.current.isTouchMove&&!ys(d.target,i,e,!1)&&t()}return e.addEventListener("mousedown",l),e.addEventListener("mouseup",r),e.addEventListener("touchstart",o),e.addEventListener("touchmove",a),e.addEventListener("touchend",u),function(){e.removeEventListener("mousedown",l),e.removeEventListener("mouseup",r),e.removeEventListener("touchstart",o),e.removeEventListener("touchmove",a),e.removeEventListener("touchend",u)}},[n,e,t]),s.current}var wl=function(){return bi};function jl(e,t,n,s){s===void 0&&(s={});var i=s.document,l=Zt();p.useEffect(function(){if(!(!e||l||!i)){var r=e(t);bs(r,i)}},n),p.useEffect(function(){return function(){bs.cancel(),Il(i)}},[i])}function Dl(e){var t=e.highlightedIndex,n=e.isOpen,s=e.itemRefs,i=e.getItemNodeFromIndex,l=e.menuElement,r=e.scrollIntoView,o=p.useRef(!0);return Pl(function(){t<0||!n||!Object.keys(s.current).length||(o.current===!1?o.current=!0:r(i(t),l))},[t]),o}function Is(e,t,n){var s;n===void 0&&(n=!0);var i=((s=e.items)==null?void 0:s.length)&&t>=0;return X({isOpen:!1,highlightedIndex:-1},i&&X({selectedItem:e.items[t],isOpen:Se(e,"isOpen"),highlightedIndex:Se(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function Ol(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function Zt(){var e=Ee.useRef(!0);return Ee.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function Ut(e){var t=Se(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}function Ll(e){var t=We(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var ft={environment:N.shape({addEventListener:N.func.isRequired,removeEventListener:N.func.isRequired,document:N.shape({createElement:N.func.isRequired,getElementById:N.func.isRequired,activeElement:N.any.isRequired,body:N.any.isRequired}).isRequired,Node:N.func.isRequired}),itemToString:N.func,itemToKey:N.func,stateReducer:N.func},Ci=X({},ft,{getA11yStatusMessage:N.func,highlightedIndex:N.number,defaultHighlightedIndex:N.number,initialHighlightedIndex:N.number,isOpen:N.bool,defaultIsOpen:N.bool,initialIsOpen:N.bool,selectedItem:N.any,initialSelectedItem:N.any,defaultSelectedItem:N.any,id:N.string,labelId:N.string,menuId:N.string,getItemId:N.func,toggleButtonId:N.string,onSelectedItemChange:N.func,onHighlightedIndexChange:N.func,onStateChange:N.func,onIsOpenChange:N.func,scrollIntoView:N.func});function _l(e,t,n){var s=t.type,i=t.props,l;switch(s){case n.ItemMouseMove:l={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:l={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:l={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ze(i,e,0)};break;case n.FunctionOpenMenu:l={isOpen:!0,highlightedIndex:ze(i,e,0)};break;case n.FunctionCloseMenu:l={isOpen:!1};break;case n.FunctionSetHighlightedIndex:l={highlightedIndex:i.isItemDisabled(i.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case n.FunctionSetInputValue:l={inputValue:t.inputValue};break;case n.FunctionReset:l={highlightedIndex:Ut(i),isOpen:Se(i,"isOpen"),selectedItem:Se(i,"selectedItem"),inputValue:Se(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return X({},e,l)}ke(ke({},Ci),{items:N.array.isRequired,isItemDisabled:N.func});ke(ke({},He),{isItemDisabled:function(){return!1}});var Jt=0,en=1,tn=2,nn=3,sn=4,rn=5,on=6,an=7,ln=8,xt=9,cn=10,Ri=11,Ni=12,un=13,Si=14,Ai=15,wi=16,ji=17,Di=18,dn=19,Oi=20,Li=21,fn=22,_i=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:fn,FunctionCloseMenu:ji,FunctionOpenMenu:wi,FunctionReset:Li,FunctionSelectItem:dn,FunctionSetHighlightedIndex:Di,FunctionSetInputValue:Oi,FunctionToggleMenu:Ai,InputBlur:xt,InputChange:ln,InputClick:cn,InputKeyDownArrowDown:Jt,InputKeyDownArrowUp:en,InputKeyDownEnd:sn,InputKeyDownEnter:an,InputKeyDownEscape:tn,InputKeyDownHome:nn,InputKeyDownPageDown:on,InputKeyDownPageUp:rn,ItemClick:un,ItemMouseMove:Ni,MenuMouseLeave:Ri,ToggleButtonClick:Si});function $l(e){var t=Sl(e),n=t.selectedItem,s=t.inputValue;return s===""&&n&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(s=e.itemToString(n)),X({},t,{inputValue:s})}X({},Ci,{items:N.array.isRequired,isItemDisabled:N.func,inputValue:N.string,defaultInputValue:N.string,initialInputValue:N.string,inputId:N.string,onInputValueChange:N.func});function kl(e,t,n,s){var i=p.useRef(),l=Nl(e,t,n,s),r=l[0],o=l[1],a=Zt();return p.useEffect(function(){if(Ti(t,"selectedItem")){if(!a){var u=t.itemToKey(t.selectedItem)!==t.itemToKey(i.current);u&&o({type:fn,inputValue:t.itemToString(t.selectedItem)})}i.current=r.selectedItem===i.current?t.selectedItem:r.selectedItem}},[r.selectedItem,t.selectedItem]),[Gt(r,t),o]}var Vl=X({},He,{isItemDisabled:function(){return!1}});function Bl(e,t){var n,s=t.type,i=t.props,l=t.altKey,r;switch(s){case un:r={isOpen:Se(i,"isOpen"),highlightedIndex:Ut(i),selectedItem:i.items[t.index],inputValue:i.itemToString(i.items[t.index])};break;case Jt:e.isOpen?r={highlightedIndex:ct(e.highlightedIndex,1,i.items,i.isItemDisabled,!0)}:r={highlightedIndex:l&&e.selectedItem==null?-1:ze(i,e,1),isOpen:i.items.length>=0};break;case en:e.isOpen?l?r=Is(i,e.highlightedIndex):r={highlightedIndex:ct(e.highlightedIndex,-1,i.items,i.isItemDisabled,!0)}:r={highlightedIndex:ze(i,e,-1),isOpen:i.items.length>=0};break;case an:r=Is(i,e.highlightedIndex);break;case tn:r=X({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case rn:r={highlightedIndex:ct(e.highlightedIndex,-10,i.items,i.isItemDisabled,!0)};break;case on:r={highlightedIndex:ct(e.highlightedIndex,10,i.items,i.isItemDisabled,!0)};break;case nn:r={highlightedIndex:vt(0,!1,i.items,i.isItemDisabled)};break;case sn:r={highlightedIndex:vt(i.items.length-1,!0,i.items,i.isItemDisabled)};break;case xt:r=X({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=i.items)==null?void 0:n.length)&&t.selectItem&&{selectedItem:i.items[e.highlightedIndex],inputValue:i.itemToString(i.items[e.highlightedIndex])});break;case ln:r={isOpen:!0,highlightedIndex:Ut(i),inputValue:t.inputValue};break;case cn:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ze(i,e,0)};break;case dn:r={selectedItem:t.selectedItem,inputValue:i.itemToString(t.selectedItem)};break;case fn:r={inputValue:t.inputValue};break;default:return _l(e,t,_i)}return X({},e,r)}var Kl=["onMouseLeave","refKey","ref"],Fl=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],Gl=["onClick","onPress","refKey","ref"],Ul=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];$i.stateChangeTypes=_i;function $i(e){e===void 0&&(e={});var t=X({},Vl,e),n=t.items,s=t.scrollIntoView,i=t.environment,l=t.getA11yStatusMessage,r=kl(Bl,t,$l,Ol),o=r[0],a=r[1],u=o.isOpen,d=o.highlightedIndex,f=o.selectedItem,h=o.inputValue,y=p.useRef(null),v=p.useRef({}),g=p.useRef(null),m=p.useRef(null),b=Zt(),x=Cl(t),T=p.useRef(),I=Pi({state:o,props:t}),S=p.useCallback(function(D){return v.current[x.getItemId(D)]},[x]);jl(l,o,[u,d,f,h],i);var M=Dl({menuElement:y.current,highlightedIndex:d,isOpen:u,itemRefs:v,scrollIntoView:s,getItemNodeFromIndex:S});p.useEffect(function(){var D=We(t,"isOpen");D&&g.current&&g.current.focus()},[]),p.useEffect(function(){b||(T.current=n.length)});var j=Al(i,p.useCallback(function(){I.current.state.isOpen&&a({type:xt,selectItem:!1})},[a,I]),p.useMemo(function(){return[y,m,g]},[y.current,m.current,g.current])),C=wl();p.useEffect(function(){u||(v.current={})},[u]),p.useEffect(function(){var D;!u||!(i!=null&&i.document)||!(g!=null&&(D=g.current)!=null&&D.focus)||i.document.activeElement!==g.current&&g.current.focus()},[u,i]);var O=p.useMemo(function(){return{ArrowDown:function(A){A.preventDefault(),a({type:Jt,altKey:A.altKey})},ArrowUp:function(A){A.preventDefault(),a({type:en,altKey:A.altKey})},Home:function(A){I.current.state.isOpen&&(A.preventDefault(),a({type:nn}))},End:function(A){I.current.state.isOpen&&(A.preventDefault(),a({type:sn}))},Escape:function(A){var R=I.current.state;(R.isOpen||R.inputValue||R.selectedItem||R.highlightedIndex>-1)&&(A.preventDefault(),a({type:tn}))},Enter:function(A){var R=I.current.state;!R.isOpen||A.which===229||(A.preventDefault(),a({type:an}))},PageUp:function(A){I.current.state.isOpen&&(A.preventDefault(),a({type:rn}))},PageDown:function(A){I.current.state.isOpen&&(A.preventDefault(),a({type:on}))}}},[a,I]),E=p.useCallback(function(D){return X({id:x.labelId,htmlFor:x.inputId},D)},[x]),H=p.useCallback(function(D,A){var R,_=D===void 0?{}:D,se=_.onMouseLeave,ie=_.refKey,re=ie===void 0?"ref":ie,k=_.ref,G=it(_,Kl),J=A===void 0?{}:A;return J.suppressRefError,X((R={},R[re]=lt(k,function(ee){y.current=ee}),R.id=x.menuId,R.role="listbox",R["aria-labelledby"]=G&&G["aria-label"]?void 0:""+x.labelId,R.onMouseLeave=Me(se,function(){a({type:Ri})}),R),G)},[a,C,x]),W=p.useCallback(function(D){var A,R,_=D===void 0?{}:D,se=_.item,ie=_.index,re=_.refKey,k=re===void 0?"ref":re,G=_.ref,J=_.onMouseMove,ee=_.onMouseDown,be=_.onClick;_.onPress;var he=_.disabled,Pe=it(_,Fl);he!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var w=I.current,Q=w.props,Ae=w.state,je=Rl(se,ie,Q.items,"Pass either item or index to getItemProps!"),Ve=je[0],ge=je[1],Ce=Q.isItemDisabled(Ve,ge),xe="onClick",Ie=be,ye=function(){j.isTouchEnd||ge===Ae.highlightedIndex||(M.current=!1,a({type:Ni,index:ge,disabled:Ce}))},Y=function(){a({type:un,index:ge})},et=function(Ki){return Ki.preventDefault()};return X((A={},A[k]=lt(G,function(Re){Re&&(v.current[x.getItemId(ge)]=Re)}),A["aria-disabled"]=Ce,A["aria-selected"]=ge===Ae.highlightedIndex,A.id=x.getItemId(ge),A.role="option",A),!Ce&&(R={},R[xe]=Me(Ie,Y),R),{onMouseMove:Me(J,ye),onMouseDown:Me(ee,et)},Pe)},[a,x,I,j,M]),$=p.useCallback(function(D){var A,R=D===void 0?{}:D,_=R.onClick;R.onPress;var se=R.refKey,ie=se===void 0?"ref":se,re=R.ref,k=it(R,Gl),G=I.current.state,J=function(){a({type:Si})};return X((A={},A[ie]=lt(re,function(ee){m.current=ee}),A["aria-controls"]=x.menuId,A["aria-expanded"]=G.isOpen,A.id=x.toggleButtonId,A.tabIndex=-1,A),!k.disabled&&X({},{onClick:Me(_,J)}),k)},[a,I,x]),B=p.useCallback(function(D,A){var R,_=D===void 0?{}:D,se=_.onKeyDown,ie=_.onChange,re=_.onInput,k=_.onBlur;_.onChangeText;var G=_.onClick,J=_.refKey,ee=J===void 0?"ref":J,be=_.ref,he=it(_,Ul),Pe=A===void 0?{}:A;Pe.suppressRefError;var w=I.current.state,Q=function(ye){var Y=xl(ye);Y&&O[Y]&&O[Y](ye)},Ae=function(ye){a({type:ln,inputValue:ye.target.value})},je=function(ye){if(i!=null&&i.document&&w.isOpen&&!j.isMouseDown){var Y=ye.relatedTarget===null&&i.document.activeElement!==i.document.body;a({type:xt,selectItem:!Y})}},Ve=function(){a({type:cn})},ge="onChange",Ce={};if(!he.disabled){var xe;Ce=(xe={},xe[ge]=Me(ie,re,Ae),xe.onKeyDown=Me(se,Q),xe.onBlur=Me(k,je),xe.onClick=Me(G,Ve),xe)}return X((R={},R[ee]=lt(be,function(Ie){g.current=Ie}),R["aria-activedescendant"]=w.isOpen&&w.highlightedIndex>-1?x.getItemId(w.highlightedIndex):"",R["aria-autocomplete"]="list",R["aria-controls"]=x.menuId,R["aria-expanded"]=w.isOpen,R["aria-labelledby"]=he&&he["aria-label"]?void 0:x.labelId,R.autoComplete="off",R.id=x.inputId,R.role="combobox",R.value=w.inputValue,R),Ce,he)},[a,x,i,O,I,j,C]),K=p.useCallback(function(){a({type:Ai})},[a]),z=p.useCallback(function(){a({type:ji})},[a]),L=p.useCallback(function(){a({type:wi})},[a]),ue=p.useCallback(function(D){a({type:Di,highlightedIndex:D})},[a]),le=p.useCallback(function(D){a({type:dn,selectedItem:D})},[a]),F=p.useCallback(function(D){a({type:Oi,inputValue:D})},[a]),q=p.useCallback(function(){a({type:Li})},[a]);return{getItemProps:W,getLabelProps:E,getMenuProps:H,getInputProps:B,getToggleButtonProps:$,toggleMenu:K,openMenu:L,closeMenu:z,setHighlightedIndex:ue,setInputValue:F,selectItem:le,reset:q,highlightedIndex:d,isOpen:u,selectedItem:f,inputValue:h}}ft.stateReducer,ft.itemToKey,ft.environment,N.array,N.array,N.array,N.func,N.number,N.number,N.number,N.func,N.func,N.string,N.string;He.itemToKey,He.stateReducer,He.environment;function Hl({item:e,index:t,isSelected:n,getItemProps:s,getDisplayText:i,getItemKey:l,isProviderDropdown:r=!1,renderIcon:o,itemClassName:a}){const u=s({index:t,item:e,className:oe(r?"px-2 py-0 cursor-pointer text-xs rounded-md mx-0 my-0 h-6 flex items-center":"px-2 py-2 cursor-pointer text-sm rounded-md mx-0 my-0.5","text-white focus:outline-none font-normal",{"bg-[#C9B974] text-black":n,"hover:bg-[#5C5D62]":!n,"hover:bg-[#C9B974] hover:text-black":n},a)});return c.jsx("li",{...u,children:c.jsxs("div",{className:"flex items-center gap-2",children:[o&&o(e),c.jsx("span",{className:"font-medium",children:i(e)})]})},l(e))}function Wl({isOpen:e,filteredItems:t,inputValue:n,highlightedIndex:s,selectedItem:i,getMenuProps:l,getItemProps:r,onScroll:o,menuRef:a,renderItem:u,renderEmptyState:d,stickyTopItem:f,stickyFooterItem:h,testId:y,numberOfRecentItems:v=0}){if(!e)return null;const m=!(t.length>0)&&!f&&!h;return c.jsx("div",{className:"relative",children:c.jsxs("div",{className:oe("absolute z-10 w-full bg-[#454545] border border-[#727987] rounded-lg shadow-none","focus:outline-none mt-1 z-[9999]","max-h-60"),children:[c.jsx("ul",{...l({ref:a,className:oe("w-full overflow-auto p-1 custom-scrollbar-always",f||h?"max-h-[calc(15rem-3rem)]":"max-h-60"),onScroll:o,"data-testid":y}),children:m?d(n):c.jsxs(c.Fragment,{children:[f,t.map((b,x)=>c.jsxs(c.Fragment,{children:[u(b,x,s,i,r),v>0&&x===v-1&&c.jsx("div",{className:"border-b border-[#727987] bg-[#454545] pb-1 mb-1 h-[1px]"})]}))]})}),h&&c.jsx("div",{className:"border-t border-[#727987] bg-[#454545] p-1 rounded-b-lg",children:h})]})})}const zl=e=>p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3235 10.9352L11.5016 14.2111L7.67969 10.9352L8.6152 9.84375L11.5016 12.3178L14.388 9.84375L15.3235 10.9352Z",fill:"currentColor"}));function ql({isOpen:e,disabled:t,getToggleButtonProps:n,iconClassName:s}){return c.jsx("button",{...n({disabled:t,className:oe("text-[#fff]","disabled:cursor-not-allowed disabled:opacity-60")}),type:"button","aria-label":"Toggle menu",children:c.jsx(zl,{className:oe("w-4 h-4 transition-transform",e&&"rotate-180",s)})})}function Yl({hasSelection:e,testId:t="dropdown-loading"}){return c.jsx("div",{className:oe("absolute top-1/2 transform -translate-y-1/2",e?"right-11":"right-6"),children:c.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full","data-testid":t})})}function Xl({isError:e,message:t="Failed to load data",testId:n="dropdown-error"}){return e?c.jsx("div",{className:"text-red-500 text-sm mt-1","data-testid":n,children:t}):null}function Ql({inputValue:e,searchMessage:t="No items found",emptyMessage:n="No items available",testId:s="dropdown-empty"}){return c.jsx("li",{className:"px-3 py-2 text-[#B7BDC2] text-sm rounded-lg mx-0.5 my-0.5","data-testid":s,children:e?t:n})}function Zl({providers:e,value:t,placeholder:n="Select Provider",className:s,errorMessage:i,disabled:l=!1,isLoading:r=!1,onChange:o,inputClassName:a,toggleButtonClassName:u,itemClassName:d}){const[f,h]=p.useState(""),[y,v]=p.useState(t||null),g=E=>{switch(E){case"github":return"GitHub";case"gitlab":return"GitLab";case"bitbucket":return"Bitbucket";case"enterprise_sso":return"Enterprise SSO";default:return E.charAt(0).toUpperCase()+E.slice(1)}},m=p.useMemo(()=>y&&f===g(y)||!f||!f.trim()?e:e.filter(E=>g(E).toLowerCase().includes(f.toLowerCase())),[e,f,y]),{isOpen:b,getToggleButtonProps:x,getMenuProps:T,getInputProps:I,highlightedIndex:S,getItemProps:M,selectedItem:j}=$i({items:m,itemToString:E=>E?g(E):"",selectedItem:y,onSelectedItemChange:({selectedItem:E})=>{v(E||null),o?.(E||null)},onInputValueChange:({inputValue:E})=>{h(E||"")},inputValue:f});p.useEffect(()=>{t!==y&&v(t||null)},[t,y]),p.useEffect(()=>{j&&!b?h(g(j)):j||h("")},[j,b]);const C=(E,H,W,$,B)=>c.jsx(Hl,{item:E,index:H,isSelected:E===$,getItemProps:B,getDisplayText:g,getItemKey:K=>K,isProviderDropdown:!0,itemClassName:d},E),O=E=>c.jsx(Ql,{inputValue:E,searchMessage:"No providers found",emptyMessage:"No providers available",testId:"git-provider-dropdown-empty"});return c.jsxs("div",{className:oe("relative",s),children:[c.jsxs("div",{className:"relative",children:[j&&c.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10",children:c.jsx(Ps,{gitProvider:j,className:"min-w-[14px] min-h-[14px] w-[14px] h-[14px]"})}),c.jsx("input",{...I({disabled:l,placeholder:n,readOnly:!0,className:oe("w-29.5 h-6 py-0 border border-[#727987] rounded shadow-none h-6 min-h-6 max-h-6 ","bg-[#454545] text-[#A3A3A3] placeholder:text-[#A3A3A3]","focus:outline-none focus:ring-0 focus:border-[#727987]","disabled:bg-[#363636] disabled:cursor-not-allowed disabled:opacity-60","pl-1.5 pr-[1px] cursor-pointer text-xs font-normal leading-5",j&&"pl-6",a)}),"data-testid":"git-provider-dropdown"}),c.jsx("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:c.jsx(ql,{isOpen:b,disabled:l,getToggleButtonProps:x,iconClassName:oe("w-[23px] h-[23px] translate-y-[1px]",u)})}),r&&c.jsx(Yl,{hasSelection:!!j})]}),c.jsx(Wl,{isOpen:b,filteredItems:m,inputValue:f,highlightedIndex:S,selectedItem:j,getMenuProps:T,getItemProps:M,renderItem:C,renderEmptyState:O}),c.jsx(Xl,{isError:!!i,message:i})]})}function Jl(e,t){const[n,s]=p.useState(e);return p.useEffect(()=>{const i=setTimeout(()=>s(e),t);return()=>clearTimeout(i)},[e,t]),n}function Ts({isSmallerScreen:e=!1,providers:t}){const[n,s]=p.useState(t.length>0?t[0]:null),[i,l]=p.useState(""),r=Jl(i,300),{setPersonalRepositories:o,setOrganizationRepositories:a,setRepositories:u}=ae(),{t:d}=ne(),{data:f,fetchNextPage:h,hasNextPage:y,isLoading:v,isFetchingNextPage:g}=ll({provider:n,pageSize:30,enabled:!!n}),{data:m,isLoading:b}=fs(r,n,!1,500),{data:x,isLoading:T}=fs(qi(n),n,!1,500);p.useEffect(()=>{t.length>0&&!n&&s(t[0])},[t,n]);const I=C=>{s(C),l("")},S=(C,O)=>{if(!O.trim())return C;const E=pn(O);return C.filter(H=>pn(H.full_name).includes(E))},M=p.useMemo(()=>{if(r&&m&&m.length>0)return S(m,r);if(!f?.pages)return[];const C=f.pages.flatMap(O=>O.data);return S(C,r)},[f,r,m]);p.useEffect(()=>{if(!x?.length){o([]),a([]);return}const C=[],O=[];x?.length&&x.forEach(E=>{mn(E,n)&&zi(E,r)&&(E.owner_type==="user"?C.push(E):E.owner_type==="organization"&&O.push(E))}),o(C),a(O)},[x,n,r,o,a]),p.useEffect(()=>{if(!M?.length){u([]);return}const C=[];M.forEach(O=>{mn(O,n)||C.push(O)}),u(C)},[M,n,u]);const j=C=>{if(r&&m)return;const{scrollTop:O,scrollHeight:E,clientHeight:H}=C.currentTarget;O+H>=E-10&&y&&!g&&h()};return c.jsxs("div",{className:oe("w-[418px] h-full max-h-full overflow-y-auto overflow-x-hidden border-r border-[#525252] bg-[#24272E] rounded-tl-lg rounded-bl-lg py-10 px-6 flex flex-col custom-scrollbar-always",e&&"w-full border-none"),onScroll:j,children:[c.jsx(Ja,{}),t.length>1&&c.jsx("div",{className:"mt-6",children:c.jsx(Zl,{providers:t,value:n,placeholder:"Select Provider",onChange:I,className:"w-full",inputClassName:"w-full h-10 min-h-10 max-h-10 text-sm placeholder:text-tertiary-alt pl-6.5",toggleButtonClassName:"w-10 h-10 translate-y-[1px]",itemClassName:"text-sm"})}),c.jsxs("div",{className:"flex flex-col gap-2 w-full mt-6",children:[c.jsx("label",{htmlFor:"repository-search",className:"sr-only",children:d(P.COMMON$SEARCH_REPOSITORIES)}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"repository-search",name:"repository-search",type:"text",placeholder:`${d(P.COMMON$SEARCH_REPOSITORIES)}...`,value:i,onChange:C=>l(C.target.value),className:oe("bg-tertiary border border-[#717888] bg-[#454545] w-full rounded-sm p-2 placeholder:text-tertiary-alt","disabled:bg-[#2D2F36] disabled:border-[#2D2F36] disabled:cursor-not-allowed h-10 box-shadow-none outline-none","pr-10")}),b&&c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:c.jsx(Le,{size:"sm"})})]})]}),v||T?c.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 flex-1",children:[c.jsx(Le,{size:"sm"}),c.jsx("span",{className:"text-sm text-white",children:d("HOME$LOADING_REPOSITORIES")})]}):c.jsxs(c.Fragment,{children:[c.jsx(ol,{isSearchLoading:b}),g&&!r&&c.jsxs("div",{className:"flex justify-center pt-2",children:[c.jsx(Le,{size:"sm"}),c.jsx("span",{className:"text-sm text-white ml-2",children:d("HOME$LOADING_MORE_REPOSITORIES")})]})]})]})}function Ms(){const{t:e}=ne();return c.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[c.jsx("div",{className:"text-[#F9FBFE] text-xl font-bold pb-4",children:e(P.MICROAGENT_MANAGEMENT$READY_TO_ADD_MICROAGENT)}),c.jsx("div",{className:"text-white text-sm font-normal text-center max-w-[455px]",children:e(P.MICROAGENT_MANAGEMENT$OPENHANDS_CAN_LEARN_ABOUT_REPOSITORIES)})]})}function hn({size:e="medium",className:t}){const s={small:"w-3 h-3",medium:"w-4 h-4",large:"w-5 h-5"}[e];return c.jsx("div",{"data-testid":"loader",className:oe("flex items-center justify-center",t),children:c.jsx("div",{className:oe("loader rounded-full",s)})})}function ec(){const{t:e}=ne(),{selectedMicroagentItem:t}=ae(),{conversation:n}=t??{},{conversation_id:s}=n??{};return s?c.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[c.jsxs("div",{className:"text-[#ffffff99] text-[22px] font-semibold pb-2",children:[e(P.COMMON$WORKING_ON_IT),"!"]}),c.jsx("div",{className:"text-[#ffffff99] text-[18px] font-normal text-center max-w-[518px] pb-[22px]",children:e(P.MICROAGENT_MANAGEMENT$WE_ARE_WORKING_ON_IT)}),c.jsx(hn,{size:"small",className:"pb-[22px]"}),c.jsx("a",{href:`/conversations/${s}`,target:"_blank",rel:"noopener noreferrer",children:c.jsx(ve,{type:"button",variant:"secondary",testId:"view-conversation-button",children:e(P.MICROAGENT$VIEW_CONVERSATION)})})]}):null}function tc(){const{t:e}=ne(),{selectedMicroagentItem:t}=ae(),{conversation:n}=t??{},{conversation_id:s,selected_repository:i,git_provider:l,pr_number:r}=n??{};return s?c.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[c.jsx("div",{className:"text-[#ffffff99] text-[22px] font-bold pb-[22px] text-center max-w-[455px]",children:e(P.MICROAGENT_MANAGEMENT$YOUR_MICROAGENT_IS_READY)}),c.jsxs("div",{className:"flex gap-[22px]",children:[c.jsx("a",{href:`/conversations/${s}`,target:"_blank",rel:"noopener noreferrer",children:c.jsx(ve,{type:"button",variant:"secondary",testId:"view-conversation-button",children:e(P.MICROAGENT$VIEW_CONVERSATION)})}),c.jsx("a",{href:i&&l&&r&&r.length>0?Yi(r[0],l,i):"/#",target:"_blank",rel:"noopener noreferrer",children:c.jsx(ve,{type:"button",variant:"primary",testId:"view-conversation-button",children:`${e(P.COMMON$REVIEW_PR_IN)} ${yt(l)}`})})]})]}):null}function nc(){const{t:e}=ne(),{selectedMicroagentItem:t,selectedRepository:n,setUpdateMicroagentModalVisible:s}=ae(),{microagent:i}=t??{};if(!i||!n)return null;const l=Xi(n.git_provider,n.full_name,i.path),r=()=>{s(!0)};return c.jsxs("div",{className:"flex items-center justify-between pb-2",children:[c.jsx("span",{className:"text-sm text-[#ffffff99]",children:n.full_name}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",children:c.jsx(ve,{type:"button",variant:"secondary",testId:"edit-in-git-button",className:"py-1 px-2",children:`${e(P.COMMON$EDIT_IN)} ${yt(n.git_provider)}`})}),c.jsx(ve,{type:"button",variant:"primary",onClick:r,testId:"learn-button",className:"py-1 px-2",children:e(P.COMMON$LEARN_SOMETHING_NEW)})]})]})}const ki=(e,t,n,s=!1)=>Qe({queryKey:["repository","microagent","content",e,t,n],queryFn:()=>$e.getRepositoryMicroagentContent(e,t,n),enabled:!!e&&!!t&&!!n,staleTime:s?0:1e3*60*5,gcTime:s?0:1e3*60*15});function sc(){const{t:e}=ne(),{selectedMicroagentItem:t,selectedRepository:n}=ae(),{microagent:s}=t??{},{owner:i,repo:l,filePath:r}=Rs(n,s),{data:o,isLoading:a,error:u}=ki(i,l,r,!0);return!s||!n?null:c.jsxs("div",{className:"w-full h-full p-6 bg-[#ffffff1a] rounded-2xl text-white text-sm",children:[a&&c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx(Le,{size:"lg","data-testid":"loading-microagent-content-spinner"})}),u&&c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e(P.MICROAGENT_MANAGEMENT$ERROR_LOADING_MICROAGENT_CONTENT)}),o&&!a&&!u&&c.jsx(qr,{components:{code:to,ul:eo,ol:Jr,a:Zr,p:Qr},remarkPlugins:[Yr,Xr],children:o.content})]})}function ic(){const{selectedMicroagentItem:e,selectedRepository:t}=ae(),{microagent:n}=e??{};return!n||!t?null:c.jsxs("div",{className:"flex flex-col w-full h-full p-6 overflow-auto",children:[c.jsx(nc,{}),c.jsx("span",{className:"text-white text-2xl font-medium pb-2",children:n.name}),c.jsx("span",{className:"text-white text-lg font-medium pb-6",children:n.path}),c.jsx("div",{className:"flex-1",children:c.jsx(sc,{})})]})}function rc(){const{t:e}=ne(),{selectedMicroagentItem:t}=ae(),{conversation:n}=t??{},{conversation_id:s}=n??{};return s?c.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[c.jsx("div",{className:"text-[#ffffff99] text-[22px] font-bold pb-[22px] text-center max-w-[455px]",children:e(P.MICROAGENT_MANAGEMENT$ERROR)}),c.jsx(hn,{size:"small",className:"pb-[22px]"}),c.jsx("a",{href:`/conversations/${s}`,target:"_blank",rel:"noopener noreferrer",children:c.jsx(ve,{type:"button",variant:"secondary",testId:"view-conversation-button",children:e(P.MICROAGENT$VIEW_CONVERSATION)})})]}):null}function oc(){const{t:e}=ne(),{selectedMicroagentItem:t}=ae(),{conversation:n}=t??{},{conversation_id:s}=n??{};return s?c.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[c.jsx("div",{className:"text-[#ffffff99] text-[22px] font-bold pb-[22px] text-center max-w-[455px]",children:e(P.MICROAGENT_MANAGEMENT$CONVERSATION_STOPPED)}),c.jsx(hn,{size:"small",className:"pb-[22px]"}),c.jsx("a",{href:`/conversations/${s}`,target:"_blank",rel:"noopener noreferrer",children:c.jsx(ve,{type:"button",variant:"secondary",testId:"view-conversation-button",children:e(P.MICROAGENT$VIEW_CONVERSATION)})})]}):null}function Es(){const{selectedMicroagentItem:e}=ae(),{microagent:t,conversation:n}=e??{};if(t)return c.jsx(ic,{});if(n){if(n.pr_number&&n.pr_number.length>0)return c.jsx(tc,{});const s=n.status==="STARTING"||n.runtime_status==="STATUS$STARTING_RUNTIME",i=n.status==="RUNNING"&&n.runtime_status==="STATUS$READY";return s||i?c.jsx(ec,{}):n.runtime_status==="STATUS$ERROR"?c.jsx(rc,{}):n.status==="STOPPED"||n.runtime_status==="STATUS$STOPPED"?c.jsx(oc,{}):c.jsx(Ms,{})}return c.jsx(Ms,{})}function ac({onConfirm:e,onCancel:t,isLoading:n=!1,isUpdate:s=!1}){const{t:i}=ne(),[l,r]=p.useState([]),[o,a]=p.useState(""),{selectedRepository:u,selectedMicroagentItem:d}=ae(),{microagent:f}=d??{},{owner:h,repo:y,filePath:v}=Rs(u,f),{data:g,isLoading:m}=ki(h,y,v,!0);p.useEffect(()=>{s&&g&&(a(g.content),r(g.triggers||[]))},[s,g]);const b=p.useMemo(()=>s?i(P.MICROAGENT_MANAGEMENT$UPDATE_MICROAGENT):u?`${i(P.MICROAGENT_MANAGEMENT$ADD_A_MICROAGENT_TO)} ${u.full_name}`:i(P.MICROAGENT_MANAGEMENT$ADD_A_MICROAGENT),[s,u,i]),x=p.useMemo(()=>i(s?P.MICROAGENT_MANAGEMENT$UPDATE_MICROAGENT_MODAL_DESCRIPTION:P.MICROAGENT_MANAGEMENT$ADD_MICROAGENT_MODAL_DESCRIPTION),[s,i]),T=S=>{S.preventDefault(),o.trim()&&e({query:o.trim(),triggers:l,microagentPath:f?.path||""})},I=()=>{o.trim()&&e({query:o.trim(),triggers:l,microagentPath:f?.path||""})};return c.jsx(Xs,{onClose:t,children:c.jsxs(Qs,{className:"items-start rounded-[12px] p-6 min-w-[611px]",children:[c.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-white text-xl font-medium",children:b}),c.jsx("a",{href:"https://docs.all-hands.dev/usage/prompting/microagents-overview#microagents-overview",target:"_blank",rel:"noopener noreferrer",children:c.jsx(mt,{className:"text-primary"})})]}),c.jsx("button",{type:"button",onClick:t,className:"cursor-pointer",children:c.jsx(zs,{width:24,height:24,color:"#F9FBFE"})})]}),c.jsx("span",{className:"text-white text-sm font-normal",children:x})]}),c.jsxs("form",{"data-testid":"add-microagent-modal",onSubmit:T,className:"flex flex-col gap-6 w-full",children:[c.jsxs("label",{htmlFor:"query-input",className:"flex flex-col gap-2 w-full text-sm font-normal",children:[i(P.MICROAGENT_MANAGEMENT$WHAT_TO_DO),c.jsx("textarea",{required:!0,"data-testid":"query-input",name:"query-input",value:o,onChange:S=>a(S.target.value),placeholder:i(P.MICROAGENT_MANAGEMENT$DESCRIBE_WHAT_TO_DO),rows:6,className:oe("bg-tertiary border border-[#717888] bg-[#454545] w-full rounded-sm p-2 placeholder:italic placeholder:text-tertiary-alt resize-none","disabled:bg-[#2D2F36] disabled:border-[#2D2F36] disabled:cursor-not-allowed")})]}),c.jsxs("label",{htmlFor:"trigger-input",className:"flex flex-col gap-2.5 w-full text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[i(P.MICROAGENT_MANAGEMENT$ADD_TRIGGERS),c.jsx("a",{href:"https://docs.all-hands.dev/usage/prompting/microagents-keyword",target:"_blank",rel:"noopener noreferrer",children:c.jsx(mt,{className:"text-primary"})})]}),c.jsx(no,{name:"trigger-input",value:l,placeholder:i("MICROAGENT$TYPE_TRIGGER_SPACE"),onChange:r}),c.jsx("span",{className:"text-xs text-[#ffffff80] font-normal",children:i(P.MICROAGENT_MANAGEMENT$HELP_TEXT_DESCRIBING_VALID_TRIGGERS)})]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 w-full",onClick:S=>S.stopPropagation(),children:[c.jsx(ve,{type:"button",variant:"secondary",onClick:t,testId:"cancel-button",children:i(P.BUTTON$CANCEL)}),c.jsx(ve,{type:"button",variant:"primary",onClick:I,testId:"confirm-button",isDisabled:!o.trim()||n||s&&m,children:i(n||s&&m?P.HOME$LOADING:P.MICROAGENT$LAUNCH)})]})]})})}function lc({onConfirm:e,onCancel:t,isLoading:n=!1}){const{t:s}=ne(),[i,l]=p.useState(""),{selectedRepository:r}=ae(),o=u=>{u.preventDefault();const d=gn(r?.git_provider||"github",i.trim());e({query:d})},a=()=>{const u=gn(r?.git_provider||"github",i.trim());e({query:u})};return c.jsx(Xs,{onClose:t,children:c.jsxs(Qs,{className:"items-start rounded-[12px] p-6 min-w-[611px]","data-testid":"learn-this-repo-modal",children:[c.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-white text-xl font-medium","data-testid":"modal-title",children:s(P.MICROAGENT_MANAGEMENT$LEARN_THIS_REPO_MODAL_TITLE)}),c.jsx("a",{href:"https://docs.all-hands.dev/usage/prompting/microagents-overview#microagents-overview",target:"_blank",rel:"noopener noreferrer","data-testid":"modal-info-link",children:c.jsx(mt,{className:"text-primary"})})]}),c.jsx("button",{type:"button",onClick:t,className:"cursor-pointer","data-testid":"modal-close-button",children:c.jsx(zs,{width:24,height:24,color:"#F9FBFE"})})]}),c.jsx("span",{className:"text-white text-sm font-normal","data-testid":"modal-description",children:s(P.MICROAGENT_MANAGEMENT$LEARN_THIS_REPO_MODAL_DESCRIPTION)})]}),c.jsx("form",{"data-testid":"learn-this-repo-form",onSubmit:o,className:"flex flex-col gap-6 w-full",children:c.jsxs("label",{htmlFor:"query-input",className:"flex flex-col gap-2 w-full text-sm font-normal",children:[s(P.MICROAGENT_MANAGEMENT$WHAT_YOU_WOULD_LIKE_TO_KNOW_ABOUT_THIS_REPO),c.jsx("textarea",{required:!0,"data-testid":"query-input",name:"query-input",value:i,onChange:u=>l(u.target.value),placeholder:s(P.MICROAGENT_MANAGEMENT$DESCRIBE_WHAT_TO_KNOW_ABOUT_THIS_REPO),rows:6,className:oe("bg-tertiary border border-[#717888] bg-[#454545] w-full rounded-sm p-2 placeholder:italic placeholder:text-tertiary-alt resize-none","disabled:bg-[#2D2F36] disabled:border-[#2D2F36] disabled:cursor-not-allowed")})]})}),c.jsxs("div",{className:"flex items-center justify-end gap-2 w-full",onClick:u=>u.stopPropagation(),"data-testid":"modal-actions",children:[c.jsx(ve,{type:"button",variant:"secondary",onClick:t,testId:"cancel-button",children:s(P.BUTTON$CANCEL)}),c.jsx(ve,{type:"button",variant:"primary",onClick:a,testId:"confirm-button",isDisabled:n,children:s(n?P.HOME$LOADING:P.MICROAGENT$LAUNCH)})]})]})})}const Vi=e=>typeof e=="object"&&e!==null&&"error"in e&&e.error===!0,Bi=e=>Xe(e)&&Xt(e)&&e.extras.agent_state===qs.ERROR,cc=e=>{const t=Vi(e)||Bi(e),n=Xe(e)&&Xt(e),s=Xe(e)&&Ys(e);return t||n||s},uc=(e,t,n,s,i)=>`Create a microagent for the repository ${e} by following the steps below:

- Step 1: Create a markdown file inside the .openhands/microagents folder with the name of the microagent (The microagent must be created in the .openhands/microagents folder and should be able to perform the described task when triggered). This is the instructions about what the microagent should do: ${t.query}. ${t.triggers&&t.triggers.length>0?`This is the triggers of the microagent: ${t.triggers.join(", ")}`:"Please be noted that the microagent doesn't have any triggers."}

- Step 2: Create a new branch for the repository ${e}, must avoid duplicated branches.

- Step 3: Please push the changes to your branch on ${yt(i)} and create a ${n}. Please create a meaningful branch name that describes the changes. If a ${n} template exists in the repository, please follow it when creating the ${s} description.
`,dc=(e,t,n,s,i)=>`Update the microagent for the repository ${e} by following the steps below:


- Step 1: Update the microagent. This is the path of the microagent: ${t.microagentPath} (The updated microagent must be in the .openhands/microagents folder and should be able to perform the described task when triggered). This is the updated instructions about what the microagent should do: ${t.query}. ${t.triggers&&t.triggers.length>0?`This is the triggers of the microagent: ${t.triggers.join(", ")}`:"Please be noted that the microagent doesn't have any triggers."}

- Step 2: Create a new branch for the repository ${e}, must avoid duplicated branches.

- Step 3: Please push the changes to your branch on ${yt(i)} and create a ${n}. Please create a meaningful branch name that describes the changes. If a ${n} template exists in the repository, please follow it when creating the ${s} description.
`;function fc(){const[e,t]=p.useState(window.innerWidth),{addMicroagentModalVisible:n,updateMicroagentModalVisible:s,selectedRepository:i,learnThisRepoModalVisible:l,setAddMicroagentModalVisible:r,setUpdateMicroagentModalVisible:o,setLearnThisRepoModalVisible:a}=ae(),{providers:u}=Yt(),{t:d}=ne(),{createConversationAndSubscribe:f,isPending:h}=so();function y(){t(window.innerWidth)}p.useEffect(()=>(window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}),[]);const v=(M=!1)=>{M?o(!1):r(!1)},g=Ee.useCallback(M=>{ht.invalidateQueries({queryKey:["conversations","search",M,"microagent_management"]})},[]),m=Ee.useCallback(M=>{const j=i&&typeof i=="object"?i.full_name:"";Xe(M)&&Xt(M)&&M.extras.agent_state===qs.RUNNING&&En(d(P.MICROAGENT_MANAGEMENT$OPENING_PR_TO_CREATE_MICROAGENT)),Xe(M)&&Ys(M)&&(io(M.args.final_thought||"")||En(d(P.MICROAGENT_MANAGEMENT$PR_NOT_CREATED))),(Vi(M)||Bi(M))&&ao(d(P.MICROAGENT_MANAGEMENT$ERROR_CREATING_MICROAGENT)),cc(M)&&g(j)},[g,i]),b=(M,j=!1)=>{if(!i||typeof i!="object")return;const C=i,O=C.full_name,E=C.git_provider,H=E==="gitlab",W=Zi(H),$=Qi(H),B=j?dc(O,M,W,$,E):uc(O,M,W,$,E),K={repo:O,git_provider:E,title:M.query};f({query:B,conversationInstructions:B,repository:{name:O,gitProvider:E},createMicroagent:K,onSuccessCallback:()=>{g(O);const[z,L]=O.split("/");ht.invalidateQueries({queryKey:["repository-microagents",z,L]}),v(j)},onEventCallback:z=>{m(z)}})},x=()=>{a(!1)},T=M=>{if(!i||typeof i!="object")return;const j=i,C=j.full_name,O=j.git_provider,E={repo:C,git_provider:O,title:M.query};f({query:M.query,conversationInstructions:M.query,repository:{name:C,gitProvider:O},createMicroagent:E,onSuccessCallback:()=>{x()}})},I=()=>c.jsxs(c.Fragment,{children:[(n||s)&&c.jsx(ac,{onConfirm:M=>b(M,s),onCancel:()=>v(s),isLoading:h,isUpdate:s}),l&&c.jsx(lc,{onCancel:x,onConfirm:T,isLoading:h})]}),S=u.length>0;return e<1024?c.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[c.jsx("div",{className:"w-full rounded-lg border border-[#525252] bg-[#24272E] max-h-[494px] min-h-[494px]",children:S&&c.jsx(Ts,{isSmallerScreen:!0,providers:u})}),c.jsx("div",{className:"w-full rounded-lg border border-[#525252] bg-[#24272E] flex-1 min-h-[494px]",children:c.jsx(Es,{})}),I()]}):c.jsxs("div",{className:"w-full h-full flex rounded-lg border border-[#525252] bg-[#24272E] overflow-hidden",children:[S&&c.jsx(Ts,{providers:u}),c.jsx("div",{className:"flex-1",children:c.jsx(Es,{})}),I()]})}const Zc=async()=>{let e=ht.getQueryData(["config"]);return e||(e=await Ui.getConfig(),ht.setQueryData(["config"],e)),null};function hc(){return c.jsx(ro,{children:c.jsx(oo,{children:c.jsx(fc,{})})})}const Jc=Gi(hc);export{Zc as clientLoader,Jc as default};
