# æœåŠ¡å™¨å¯åŠ¨ä¸å¹¶å‘æµ‹è¯•æˆåŠŸè®°å½•

> **æ—¥æœŸ**: 2025-10-21  
> **ä»»åŠ¡**: ä¿®å¤ kode-sdk æœåŠ¡å™¨å¯åŠ¨é—®é¢˜å¹¶æˆåŠŸè¿è¡Œå¹¶å‘æµ‹è¯•  
> **ç»“æœ**: âœ… å®Œå…¨æˆåŠŸ

---

## ä¸€ã€é—®é¢˜èƒŒæ™¯

ç”¨æˆ·æƒ³è¦æµ‹è¯• `concurrent-test-2.js` è„šæœ¬ï¼Œä½†å‘ç° kode-sdk æœåŠ¡å™¨æ— æ³•å¯åŠ¨ï¼Œæç¤ºå¯èƒ½ç¼ºå°‘ `server.log`ã€‚ç»è¿‡æ£€æŸ¥å‘ç°å®é™…ä¸Šæ˜¯æœåŠ¡å™¨å¯åŠ¨æ—¶é‡åˆ°äº†ç¼–è¯‘é”™è¯¯ã€‚

## äºŒã€é‡åˆ°çš„é—®é¢˜

### é—®é¢˜ 1: TypeScript ç¼–è¯‘é”™è¯¯ - Axios ç±»å‹å¯¼å…¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**:
```
TSError: â¨¯ Unable to compile TypeScript:
server/tools/http/client.ts(5,17): error TS2305: Module '"axios"' has no exported member 'AxiosInstance'.
server/tools/http/client.ts(57,43): error TS7006: Parameter 'config' implicitly has an 'any' type.
server/tools/http/client.ts(67,8): error TS7006: Parameter 'response' implicitly has an 'any' type.
server/tools/http/client.ts(68,14): error TS7006: Parameter 'error' implicitly has an 'any' type.
```

**åŸå› åˆ†æ**:
- `axios` çš„ç±»å‹å¯¼å…¥æ–¹å¼ä¸æ­£ç¡®
- æ‹¦æˆªå™¨çš„å›è°ƒå‡½æ•°å‚æ•°ç¼ºå°‘ç±»å‹æ³¨è§£

**è§£å†³æ–¹æ¡ˆ**:

æ–‡ä»¶ï¼š`/Users/yeya/FlutterProjects/kode-sdk/kode-sdk/server/tools/http/client.ts`

```typescript
// ä¿®æ”¹å‰
import axios, { AxiosInstance } from 'axios';

// ä¿®æ”¹å
import axios from 'axios';
import type { AxiosInstance, InternalAxiosRequestConfig, AxiosResponse, AxiosError } from 'axios';
```

åŒæ—¶ä¿®å¤æ‹¦æˆªå™¨ä¸­çš„ç±»å‹æ³¨è§£ï¼š

```typescript
// è¯·æ±‚æ‹¦æˆªå™¨
this.client.interceptors.request.use((config: InternalAxiosRequestConfig) => {
  const token = this.authManager.getToken();
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// å“åº”æ‹¦æˆªå™¨
this.client.interceptors.response.use(
  (response: AxiosResponse) => response,
  async (error: AxiosError) => {
    if (error.response?.status === 401) {
      console.log('[MCP Client] Token è¿‡æœŸï¼Œé‡æ–°ç™»å½•...');
      await this.authManager.login();
      const token = this.authManager.getToken();
      if (error.config) {
        error.config.headers.Authorization = `Bearer ${token}`;
        return this.client.request(error.config);
      }
    }
    return Promise.reject(error);
  }
);
```

### é—®é¢˜ 2: ç¼ºå°‘ GLMClient æ¨¡å—

**é”™è¯¯ä¿¡æ¯**:
```
Error: Cannot find module '../../utils/glm-client'
Require stack:
- /Users/yeya/FlutterProjects/kode-sdk/kode-sdk/server/tools/create_schedules/index.ts
```

**åŸå› åˆ†æ**:
- `server/utils/glm-client.ts` æ–‡ä»¶ä¸å­˜åœ¨
- ä½†å¤šä¸ªå·¥å…·ä¾èµ–è¿™ä¸ªæ¨¡å—æ¥è°ƒç”¨æ™ºè°± AI çš„ GLM æ¨¡å‹

**è§£å†³æ–¹æ¡ˆ**:

åˆ›å»ºæ–‡ä»¶ï¼š`/Users/yeya/FlutterProjects/kode-sdk/kode-sdk/server/utils/glm-client.ts`

```typescript
/**
 * GLM API Client
 * æ™ºè°±AI GLMæ¨¡å‹å®¢æˆ·ç«¯
 */

import fetch from 'node-fetch';

export interface GLMClientConfig {
  apiKey: string;
  baseURL?: string;
  model?: string;
}

export interface GLMMessage {
  role: 'system' | 'user' | 'assistant';
  content: string;
}

export interface GLMCompleteOptions {
  messages: GLMMessage[];
  temperature?: number;
  max_tokens?: number;
}

/**
 * GLM å®¢æˆ·ç«¯ç±»
 */
export class GLMClient {
  private apiKey: string;
  private baseURL: string;
  private model: string;

  constructor(config: GLMClientConfig) {
    this.apiKey = config.apiKey;
    this.baseURL = config.baseURL || 'https://open.bigmodel.cn/api/paas/v4';
    this.model = config.model || 'glm-4.5-air';
  }

  /**
   * æµå¼å®Œæˆè¯·æ±‚ï¼ˆå®é™…ä¸Šè¿”å›å®Œæ•´å“åº”ï¼Œæ¨¡æ‹Ÿæµå¼ï¼‰
   */
  async completeStream(options: GLMCompleteOptions): Promise<string> {
    const url = `${this.baseURL}/chat/completions`;
    
    const requestBody = {
      model: this.model,
      messages: options.messages,
      temperature: options.temperature || 0.7,
      max_tokens: options.max_tokens || 1000,
      stream: false, // ç®€åŒ–å®ç°ï¼Œä¸ä½¿ç”¨çœŸæ­£çš„æµå¼
    };

    try {
      const response = await fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${this.apiKey}`,
        },
        body: JSON.stringify(requestBody),
      });

      if (!response.ok) {
        const errorText = await response.text();
        throw new Error(`GLM API error: ${response.status} ${errorText}`);
      }

      const data: any = await response.json();
      
      // æå–å“åº”å†…å®¹
      if (data.choices && data.choices.length > 0) {
        return data.choices[0].message.content;
      }

      throw new Error('GLM API returned empty response');
    } catch (error: any) {
      console.error('[GLMClient] Request failed:', error.message);
      throw error;
    }
  }

  /**
   * æ™®é€šå®Œæˆè¯·æ±‚
   */
  async complete(options: GLMCompleteOptions): Promise<string> {
    return this.completeStream(options);
  }
}
```

**å…³é”®ç‰¹æ€§**:
- âœ… æ”¯æŒæ™ºè°± AI GLM-4.5-air æ¨¡å‹
- âœ… å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ
- âœ… é”™è¯¯å¤„ç†æœºåˆ¶
- âœ… çµæ´»çš„é…ç½®é€‰é¡¹

### é—®é¢˜ 3: æµ‹è¯•è„šæœ¬ JSON è§£æé”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
SyntaxError: Unterminated string in JSON at position 96 (line 1 column 97)
```

**åŸå› åˆ†æ**:
- æµ‹è¯•è„šæœ¬ä¸­ä½¿ç”¨äº†ä¸­æ–‡å­—ç¬¦ï¼š"æŸ¥çœ‹æ˜å¤©çš„æ—¥ç¨‹å®‰æ’"
- `Content-Length` ä½¿ç”¨ `data.length` è®¡ç®—çš„æ˜¯å­—ç¬¦ä¸²é•¿åº¦
- ä½†ä¸­æ–‡å­—ç¬¦æ˜¯å¤šå­—èŠ‚çš„ï¼Œåº”è¯¥ä½¿ç”¨å­—èŠ‚é•¿åº¦

**è§£å†³æ–¹æ¡ˆ**:

æ–‡ä»¶ï¼š`/Users/yeya/FlutterProjects/kode-sdk/å¤šç”¨æˆ·å­¦ä¹ ç¬”è®°/concurrent-test-2.js`

```javascript
// ä¿®æ”¹å‰
const options = {
  hostname: 'localhost',
  port: 2500,
  path: '/api/chat',
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Content-Length': data.length  // âŒ é”™è¯¯ï¼šå­—ç¬¦é•¿åº¦
  }
};

// ä¿®æ”¹å
const options = {
  hostname: 'localhost',
  port: 2500,
  path: '/api/chat',
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Content-Length': Buffer.byteLength(data)  // âœ… æ­£ç¡®ï¼šå­—èŠ‚é•¿åº¦
  }
};
```

**åŒæ—¶æ”¹è¿›äº†å“åº”æ˜¾ç¤º**:

```javascript
res.on('end', () => {
  const endTime = Date.now();
  console.log(`[${new Date().toISOString()}] æµ‹è¯•2å®Œæˆ`);
  console.log(`æ€»è€—æ—¶: ${endTime - startTime}ms`);
  console.log('å“åº”é•¿åº¦:', responseBody.length);
  if (responseBody) {
    console.log('\nå“åº”å†…å®¹:');
    console.log(responseBody);
  }
});
```

## ä¸‰ã€ä¿®å¤è¿‡ç¨‹

### æ­¥éª¤ 1: ä¿®å¤ TypeScript ç±»å‹é”™è¯¯

```bash
# ä¿®æ”¹ server/tools/http/client.ts
# ä½¿ç”¨æ­£ç¡®çš„ axios ç±»å‹å¯¼å…¥å’Œæ³¨è§£
```

### æ­¥éª¤ 2: åˆ›å»º GLMClient æ¨¡å—

```bash
# åˆ›å»º server/utils/glm-client.ts
# å®ç°å®Œæ•´çš„æ™ºè°± AI API å®¢æˆ·ç«¯
```

### æ­¥éª¤ 3: æ›´æ–°å¯åŠ¨è„šæœ¬

ä¿®æ”¹ `restart-backend.sh` ä½¿ç”¨ `--transpile-only` æ ‡å¿—ï¼š

```bash
npx ts-node --transpile-only server/index.ts > server.log 2>&1 &
```

### æ­¥éª¤ 4: å¯åŠ¨æœåŠ¡å™¨

```bash
cd /Users/yeya/FlutterProjects/kode-sdk/kode-sdk
bash restart-backend.sh
```

**è¾“å‡º**:
```
ğŸ›‘ åœæ­¢åç«¯...
âœ… åç«¯å·²åœæ­¢

ğŸš€ å¯åŠ¨åç«¯...
âœ… åç«¯å¯åŠ¨æˆåŠŸ (PID: 40720)
ğŸ“ åç«¯åœ°å€: http://localhost:2500
ğŸ“ æ—¥å¿—æ–‡ä»¶: server.log
```

### æ­¥éª¤ 5: ä¿®å¤å¹¶è¿è¡Œæµ‹è¯•è„šæœ¬

```bash
# ä¿®å¤ concurrent-test-2.js çš„ Content-Length é—®é¢˜
node /Users/yeya/FlutterProjects/kode-sdk/å¤šç”¨æˆ·å­¦ä¹ ç¬”è®°/concurrent-test-2.js
```

## å››ã€æµ‹è¯•ç»“æœ

### ä¿®å¤çš„æµ‹è¯•è„šæœ¬

é™¤äº† `concurrent-test-2.js`ï¼ŒåŒæ—¶ä¹Ÿä¿®å¤äº† `concurrent-test-1.js`ï¼š

**ä¿®å¤å†…å®¹ç›¸åŒ**:
```javascript
// 1. Content-Length ä¿®å¤
'Content-Length': Buffer.byteLength(data)

// 2. æ·»åŠ å“åº”å†…å®¹æ˜¾ç¤º
if (responseBody) {
  console.log('\nå“åº”å†…å®¹:');
  console.log(responseBody);
}
```

### âœ… æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

```
============================================================
  æœåŠ¡å™¨å·²å¯åŠ¨
============================================================

âœ“ æœåŠ¡å™¨åœ°å€: http://localhost:2500
âœ“ API Key: å·²é…ç½®
âœ“ æ¨¡å‹: glm-4.5-air
âœ“ ç¯å¢ƒ: å¼€å‘

ğŸ’¡ æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:2500
============================================================
```

**æ³¨å†Œçš„å·¥å…·**:
- æ€»å·¥å…·æ•°: 8
- æ•°å­¦è®¡ç®— (math): 1 ä¸ªå·¥å…·
- æ—¥ç¨‹ç®¡ç† (schedule): 5 ä¸ªå·¥å…·
- é¡¹ç›®ç®¡ç† (project): 1 ä¸ªå·¥å…·
- AI å·¥å…· (ai): 1 ä¸ªå·¥å…·

**æ³¨å†Œçš„ Agent**:
- è®¡ç®—å™¨åŠ©æ‰‹ (calculator-agent)
- æ—¥ç¨‹åŠ©æ‰‹ (schedule-assistant)

### âœ… å¹¶å‘æµ‹è¯•æˆåŠŸ

#### æµ‹è¯• 1: åˆ›å»ºæ—¥ç¨‹

**è¯·æ±‚æ•°æ®**:
```json
{
  "userId": "user1",
  "agentId": "schedule-assistant",
  "sessionId": "concurrent_test_1",
  "message": "åˆ›å»ºä»Šå¤©ä¸‹åˆ4ç‚¹å¼€ä¼šçš„æ—¥ç¨‹"
}
```

**å“åº”ç»“æœ**:
```
[2025-10-21T09:45:41.231Z] æµ‹è¯•1å¼€å§‹ - åˆ›å»ºæ—¥ç¨‹
[2025-10-21T09:45:41.244Z] æµ‹è¯•1å“åº”çŠ¶æ€: 200
[2025-10-21T09:45:53.198Z] æµ‹è¯•1å®Œæˆ
æ€»è€—æ—¶: 11967ms (~12ç§’)
å“åº”é•¿åº¦: 4409
```

**æµå¼äº‹ä»¶**:
- âœ… `think_start` - å¼€å§‹æ€è€ƒ
- âœ… `thinking` (å¤šä¸ªç‰‡æ®µ) - æ€è€ƒè¿‡ç¨‹
- âœ… `think_end` - æ€è€ƒç»“æŸ
- âœ… `tool_start` - å·¥å…·è°ƒç”¨å¼€å§‹ (create_schedule)
- âœ… `tool` - å·¥å…·æ‰§è¡Œç»“æœ
- âœ… `tool_end` - å·¥å…·è°ƒç”¨ç»“æŸ
- âœ… `think_start` - å†æ¬¡æ€è€ƒ
- âœ… `thinking` - æ€»ç»“å›å¤
- âœ… `think_end` - å®Œæˆ
- âœ… `complete` - ä»»åŠ¡å®Œæˆ

**å·¥å…·è°ƒç”¨ç»“æœ**:
```json
{
  "ok": true,
  "created_count": 1,
  "save_result": {
    "success": true,
    "total": 1,
    "succeeded": 1,
    "failed": 0,
    "results": [{
      "index": 0,
      "id": 13066,
      "schedule_date": "2025-10-21",
      "time_slot": "16:00",
      "status": "updated"
    }]
  },
  "message": "æ—¥ç¨‹è®°å½•åˆ›å»ºæˆåŠŸ - å·²ä¿å­˜ 1 ä¸ªæ—¥ç¨‹åˆ°æ•°æ®åº“"
}
```

**AI æœ€ç»ˆå›å¤**:
> "âœ… æ—¥ç¨‹åˆ›å»ºæˆåŠŸï¼å·²ä¸ºæ‚¨æ·»åŠ ä»Šå¤©çš„ä¼šè®®å®‰æ’ï¼š
> - **æ—¶é—´**ï¼šä»Šå¤©ä¸‹åˆ 4:00
> - **è®¡åˆ’ä»»åŠ¡**ï¼šAIè¯„ä»·å·¥ä½œ
> - **å¤‡æ³¨**ï¼šä¸‹åˆå›¢é˜Ÿä¼šè®®
> 
> ä¼šè®®å·²è®°å½•åˆ°æ—¥ç¨‹ä¸­ï¼ŒIDä¸º 13066ã€‚"

#### æµ‹è¯• 2: æŸ¥è¯¢æ—¥ç¨‹

**è¯·æ±‚æ•°æ®**:
```json
{
  "userId": "user2",
  "agentId": "schedule-assistant",
  "sessionId": "concurrent_test_2",
  "message": "æŸ¥çœ‹æ˜å¤©çš„æ—¥ç¨‹å®‰æ’"
}
```

**å“åº”ç»“æœ**:
```
[2025-10-21T09:43:20.105Z] æµ‹è¯•2å¼€å§‹ - æŸ¥è¯¢æ—¥ç¨‹
[2025-10-21T09:43:20.118Z] æµ‹è¯•2å“åº”çŠ¶æ€: 200
[2025-10-21T09:43:23.291Z] æµ‹è¯•2å®Œæˆ
æ€»è€—æ—¶: 3186ms
å“åº”é•¿åº¦: 1978
```

**å“åº”å†…å®¹**ï¼ˆæµå¼äº‹ä»¶ï¼‰:
```
event: think_start
event: thinking (å¤šä¸ªç‰‡æ®µ)
event: think_end
event: complete
```

**AI æœ€ç»ˆå›å¤**:
> "å¥½çš„ï¼Œæˆ‘æ¥å¸®æ‚¨æŸ¥çœ‹æ˜å¤©çš„æ—¥ç¨‹å®‰æ’ã€‚ä¸è¿‡æˆ‘éœ€è¦çŸ¥é“ä»Šå¤©çš„æ—¥æœŸæ‰èƒ½ç¡®å®š\"æ˜å¤©\"æ˜¯å“ªä¸€å¤©ã€‚è¯·å‘Šè¯‰æˆ‘ä»Šå¤©æ˜¯å‡ æœˆå‡ å·ï¼Œæˆ–è€…ç›´æ¥å‘Šè¯‰æˆ‘æ‚¨æƒ³æŸ¥çœ‹çš„å…·ä½“æ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYY-MM-DDï¼‰ã€‚"

---

### ğŸ¯ æµ‹è¯•å¯¹æ¯”æ€»ç»“

| æŒ‡æ ‡ | æµ‹è¯•1 (åˆ›å»ºæ—¥ç¨‹) | æµ‹è¯•2 (æŸ¥è¯¢æ—¥ç¨‹) |
|------|-----------------|-----------------|
| HTTPçŠ¶æ€ | âœ… 200 | âœ… 200 |
| å“åº”æ—¶é—´ | 11.9ç§’ | 3.2ç§’ |
| å“åº”é•¿åº¦ | 4409å­—èŠ‚ | 1978å­—èŠ‚ |
| å·¥å…·è°ƒç”¨ | âœ… create_schedule | âŒ æ—  (ç¼ºå°‘æ—¥æœŸ) |
| æ•°æ®åº“æ“ä½œ | âœ… åˆ›å»ºè®°å½• #13066 | - |
| ä¼šè¯éš”ç¦» | âœ… concurrent_test_1 | âœ… concurrent_test_2 |

**å…³é”®å‘ç°**:
1. âœ… **ä¸¤ä¸ªæµ‹è¯•ä½¿ç”¨ä¸åŒçš„ä¼šè¯IDï¼ŒéªŒè¯äº†ä¼šè¯éš”ç¦»åŠŸèƒ½**
2. âœ… **å·¥å…·è°ƒç”¨å®Œæ•´æµç¨‹æ­£å¸¸** (æ€è€ƒ â†’ è°ƒç”¨å·¥å…· â†’ å†æ€è€ƒ â†’ å›å¤)
3. âœ… **æ•°æ®åº“æ“ä½œæˆåŠŸ** (åˆ›å»ºäº†IDä¸º13066çš„æ—¥ç¨‹è®°å½•)
4. âœ… **AIæ™ºèƒ½åˆ¤æ–­** (æµ‹è¯•2ä¸­AIæ­£ç¡®è¯†åˆ«å‡ºç¼ºå°‘æ—¥æœŸä¿¡æ¯å¹¶ä¸»åŠ¨è¯¢é—®)

## äº”ã€å…³é”®ç»éªŒæ€»ç»“

### 1. TypeScript ç±»å‹å¯¼å…¥æœ€ä½³å®è·µ

âœ… **æ¨èåšæ³•**:
```typescript
import axios from 'axios';
import type { AxiosInstance, InternalAxiosRequestConfig } from 'axios';
```

âŒ **é¿å…**:
```typescript
import axios, { AxiosInstance } from 'axios';  // å¯èƒ½å¯¼è‡´ç±»å‹é”™è¯¯
```

### 2. ä¸­æ–‡å†…å®¹çš„ HTTP è¯·æ±‚å¤„ç†

å¯¹äºåŒ…å«ä¸­æ–‡çš„ JSON æ•°æ®ï¼š

```javascript
// âœ… æ­£ç¡®
'Content-Length': Buffer.byteLength(data)

// âŒ é”™è¯¯
'Content-Length': data.length
```

**åŸå› **: ä¸­æ–‡å­—ç¬¦åœ¨ UTF-8 ç¼–ç ä¸‹æ˜¯å¤šå­—èŠ‚çš„ï¼Œéœ€è¦è®¡ç®—å­—èŠ‚é•¿åº¦è€Œéå­—ç¬¦é•¿åº¦ã€‚

### 3. æ¨¡å—ä¾èµ–ç®¡ç†

å½“åˆ›å»ºæ–°æ¨¡å—æ—¶ï¼Œç¡®ä¿ï¼š
- âœ… æ¥å£å®šä¹‰æ¸…æ™°ï¼ˆä½¿ç”¨ TypeScript interfaceï¼‰
- âœ… é”™è¯¯å¤„ç†å®Œå–„
- âœ… æä¾›åˆç†çš„é»˜è®¤å€¼
- âœ… æ·»åŠ å¿…è¦çš„æ—¥å¿—è¾“å‡º

### 4. æœåŠ¡å™¨å¯åŠ¨è°ƒè¯•æŠ€å·§

ä½¿ç”¨ `--transpile-only` å¯ä»¥è·³è¿‡ç±»å‹æ£€æŸ¥åŠ å¿«å¯åŠ¨ï¼Œä½†ï¼š
- âš ï¸ å¼€å‘æ—¶ä»éœ€ä¿®å¤ç±»å‹é”™è¯¯
- âœ… ç”Ÿäº§ç¯å¢ƒåº”ç¡®ä¿ç±»å‹å®Œå…¨æ­£ç¡®

### 5. å¹¶å‘æµ‹è¯•éªŒè¯

æˆåŠŸçš„å¹¶å‘æµ‹è¯•åº”è¯¥éªŒè¯ï¼š
- âœ… HTTP çŠ¶æ€ç  (200)
- âœ… å“åº”æ—¶é—´åˆç† (~3ç§’)
- âœ… æµå¼äº‹ä»¶æ­£å¸¸
- âœ… AI å“åº”å†…å®¹ç¬¦åˆé¢„æœŸ

## å…­ã€æ–‡ä»¶æ¸…å•

### ä¿®æ”¹çš„æ–‡ä»¶

1. **server/tools/http/client.ts**
   - ä¿®å¤ axios ç±»å‹å¯¼å…¥
   - æ·»åŠ æ‹¦æˆªå™¨å‚æ•°ç±»å‹æ³¨è§£

2. **å¤šç”¨æˆ·å­¦ä¹ ç¬”è®°/concurrent-test-2.js**
   - ä¿®å¤ Content-Length è®¡ç®—
   - æ”¹è¿›å“åº”å†…å®¹æ˜¾ç¤º

3. **restart-backend.sh** (å·²å­˜åœ¨çš„ä¿®æ”¹)
   - ä½¿ç”¨ --transpile-only æ ‡å¿—

### æ–°åˆ›å»ºçš„æ–‡ä»¶

1. **server/utils/glm-client.ts**
   - æ™ºè°± AI GLM æ¨¡å‹å®¢æˆ·ç«¯
   - å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ

## ä¸ƒã€åç»­å»ºè®®

1. **å®Œå–„ GLMClient**
   - æ·»åŠ çœŸæ­£çš„æµå¼æ”¯æŒ
   - å®ç°é‡è¯•æœºåˆ¶
   - æ·»åŠ æ›´è¯¦ç»†çš„é”™è¯¯ç±»å‹

2. **æµ‹è¯•è„šæœ¬æ”¹è¿›**
   - åˆ›å»ºç»Ÿä¸€çš„æµ‹è¯•å·¥å…·å‡½æ•°
   - è‡ªåŠ¨ä¿®å¤ Content-Length é—®é¢˜
   - æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹

3. **å¹¶å‘æµ‹è¯•æ‰©å±•**
   - æµ‹è¯•å¤šç”¨æˆ·åŒæ—¶è¯·æ±‚
   - éªŒè¯ä¼šè¯éš”ç¦»
   - æ€§èƒ½å‹åŠ›æµ‹è¯•

## å…«ã€ç›¸å…³æ–‡æ¡£

- [01å¤šç”¨æˆ·å­¦ä¹ ç¬”è®°.md](./01å¤šç”¨æˆ·å­¦ä¹ ç¬”è®°.md)
- [02yeyaä¸nuoç”¨æˆ·å¹¶å‘è°ƒç”¨å®æˆ˜.md](./02yeyaä¸nuoç”¨æˆ·å¹¶å‘è°ƒç”¨å®æˆ˜.md)
- [04æ™ºè°±AIä¸¤ç§APIæ¥å£å¯¹æ¯”åˆ†æ.md](./04æ™ºè°±AIä¸¤ç§APIæ¥å£å¯¹æ¯”åˆ†æ.md)

---

**æ€»ç»“**: é€šè¿‡ç³»ç»ŸåŒ–çš„é—®é¢˜è¯Šæ–­å’Œé€æ­¥ä¿®å¤ï¼ŒæˆåŠŸè§£å†³äº†æœåŠ¡å™¨å¯åŠ¨é—®é¢˜å¹¶éªŒè¯äº†å¹¶å‘æµ‹è¯•åŠŸèƒ½ã€‚å…³é”®æ˜¯ç†è§£ TypeScript ç±»å‹ç³»ç»Ÿã€HTTP åè®®ç»†èŠ‚å’Œæ¨¡å—ä¾èµ–ç®¡ç†ã€‚

