# task_run å·¥å…·åŠ¨æ€é…ç½®åœºæ™¯è¯¦è§£

## æ ¸å¿ƒé—®é¢˜

**ä¸ºä»€ä¹ˆåŒä¸€ä¸ª task_run å·¥å…·ï¼Œéœ€è¦ä¸åŒé…ç½®æ¥åˆ›å»ºä¸åŒèƒ½åŠ›çš„å­ Agentï¼Ÿ**

---

## 1. ç°å®ä¸–ç•Œç±»æ¯” ğŸ‘”

### åœºæ™¯ï¼šå…¬å¸é¡¹ç›®ç»ç†

ä½ æ˜¯ä¸€ä¸ªé¡¹ç›®ç»ç†ï¼ˆä¸» Agentï¼‰ï¼Œéœ€è¦æŠŠä»»åŠ¡å§”æ‰˜ç»™ä¸åŒçš„å‘˜å·¥ï¼ˆå­ Agentï¼‰ï¼š

#### æƒ…å†µ Aï¼šè½¯ä»¶å¼€å‘é¡¹ç›®

```
é¡¹ç›®ç»ç†ï¼ˆä¸» Agentï¼‰
  â”œâ”€ éœ€è¦çš„å‘˜å·¥ç±»å‹ï¼š
  â”‚   â”œâ”€ å‰ç«¯å·¥ç¨‹å¸ˆï¼ˆèƒ½ç”¨ï¼šReact, CSS, HTMLï¼‰
  â”‚   â”œâ”€ åç«¯å·¥ç¨‹å¸ˆï¼ˆèƒ½ç”¨ï¼šNode.js, Database, APIï¼‰
  â”‚   â””â”€ æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆèƒ½ç”¨ï¼šJest, Selenium, æµ‹è¯•å·¥å…·ï¼‰
  â”‚
  â””â”€ ä¸éœ€è¦çš„å‘˜å·¥ï¼š
      âœ— ä¼šè®¡ï¼ˆä¸éœ€è¦è´¢åŠ¡å·¥å…·ï¼‰
      âœ— è®¾è®¡å¸ˆï¼ˆä¸éœ€è¦è®¾è®¡å·¥å…·ï¼‰
```

#### æƒ…å†µ Bï¼šè´¢åŠ¡å®¡è®¡é¡¹ç›®

```
é¡¹ç›®ç»ç†ï¼ˆä¸» Agentï¼‰
  â”œâ”€ éœ€è¦çš„å‘˜å·¥ç±»å‹ï¼š
  â”‚   â”œâ”€ ä¼šè®¡å¸ˆï¼ˆèƒ½ç”¨ï¼šExcel, è´¢åŠ¡è½¯ä»¶, æŠ¥è¡¨å·¥å…·ï¼‰
  â”‚   â”œâ”€ å®¡è®¡å‘˜ï¼ˆèƒ½ç”¨ï¼šå®¡è®¡å·¥å…·, æ•°æ®åˆ†æï¼‰
  â”‚   â””â”€ ç¨åŠ¡ä¸“å®¶ï¼ˆèƒ½ç”¨ï¼šç¨åŠ¡ç³»ç»Ÿ, æ³•è§„æŸ¥è¯¢ï¼‰
  â”‚
  â””â”€ ä¸éœ€è¦çš„å‘˜å·¥ï¼š
      âœ— å‰ç«¯å·¥ç¨‹å¸ˆï¼ˆä¸éœ€è¦å†™ä»£ç ï¼‰
      âœ— æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆä¸éœ€è¦æµ‹è¯•è½¯ä»¶ï¼‰
```

**å…³é”®é—®é¢˜**ï¼šåŒä¸€ä¸ª"å§”æ´¾ä»»åŠ¡"çš„èƒ½åŠ›ï¼Œä½†åœ¨ä¸åŒé¡¹ç›®ä¸­èƒ½å§”æ´¾çš„å‘˜å·¥ç±»å‹å®Œå…¨ä¸åŒï¼

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€é…ç½®ã€‚

---

## 2. Kode SDK å®é™…åœºæ™¯

### åœºæ™¯ 1ï¼šä»£ç é‡æ„é¡¹ç›® ğŸ’»

#### ä¸šåŠ¡éœ€æ±‚

ç”¨æˆ·è¯´ï¼š"å¸®æˆ‘é‡æ„è¿™ä¸ª Node.js é¡¹ç›®ï¼Œæ”¹è¿›ä»£ç è´¨é‡"

#### ä¸» Agent çš„å·¥ä½œæµç¨‹

```typescript
ä¸» Agent æ¥æ”¶ä»»åŠ¡ï¼š"é‡æ„ Node.js é¡¹ç›®"
  â†“
åˆ†æï¼šè¿™æ˜¯ä¸ªå¤§ä»»åŠ¡ï¼Œéœ€è¦å§”æ´¾ç»™å­ Agent
  â†“
è°ƒç”¨ task_run åˆ›å»ºå­ Agent
  â†“
é—®é¢˜ï¼šå­ Agent åº”è¯¥æœ‰ä»€ä¹ˆèƒ½åŠ›ï¼Ÿ
  â†“
éœ€è¦çš„èƒ½åŠ›ï¼š
  âœ… fs_read  - è¯»å–ä»£ç æ–‡ä»¶
  âœ… fs_write - å†™å…¥é‡æ„åçš„ä»£ç 
  âœ… fs_edit  - ç¼–è¾‘ä»£ç 
  âœ… grep     - æœç´¢ä»£ç æ¨¡å¼
  âœ… run_test - è¿è¡Œæµ‹è¯•ç¡®ä¿é‡æ„æ­£ç¡®
  
ä¸éœ€è¦çš„èƒ½åŠ›ï¼š
  âŒ sql_query      - ä¸éœ€è¦æŸ¥è¯¢æ•°æ®åº“
  âŒ send_email     - ä¸éœ€è¦å‘é‚®ä»¶
  âŒ create_chart   - ä¸éœ€è¦åšå›¾è¡¨
  âŒ web_scraping   - ä¸éœ€è¦çˆ¬ç½‘é¡µ
```

#### é…ç½®

```typescript
const codeProjectTaskRun = createTaskRunTool({
  templates: [
    {
      id: 'code-refactor',
      tools: ['fs_read', 'fs_write', 'fs_edit', 'grep', 'run_test'],
      whenToUse: 'å½“éœ€è¦é‡æ„æˆ–ä¿®æ”¹ä»£ç æ—¶ä½¿ç”¨',
    },
    {
      id: 'code-review',
      tools: ['fs_read', 'grep', 'lint'],
      whenToUse: 'å½“éœ€è¦å®¡æŸ¥ä»£ç è´¨é‡æ—¶ä½¿ç”¨',
    },
  ],
});

// ä¸» Agent ä½¿ç”¨
const codeAgent = new Agent({
  tools: [codeProjectTaskRun, 'fs_read', 'terminal'],
});

await codeAgent.run('é‡æ„ user.ts æ–‡ä»¶');

// å†…éƒ¨æ‰§è¡Œï¼š
// 1. ä¸» Agent ç†è§£ä»»åŠ¡
// 2. è°ƒç”¨ task_run({
//      agentTemplateId: 'code-refactor',  // é€‰æ‹©ä»£ç é‡æ„ä¸“å®¶
//      prompt: 'é‡æ„ user.tsï¼Œæ”¹è¿›ä»£ç è´¨é‡'
//    })
// 3. åˆ›å»ºå­ Agentï¼Œåªæœ‰æ–‡ä»¶æ“ä½œèƒ½åŠ›
// 4. å­ Agent å®Œæˆé‡æ„
// 5. è¿”å›ç»“æœç»™ä¸» Agent
```

---

### åœºæ™¯ 2ï¼šæ•°æ®åˆ†æé¡¹ç›® ğŸ“Š

#### ä¸šåŠ¡éœ€æ±‚

ç”¨æˆ·è¯´ï¼š"åˆ†ææœ€è¿‘ 30 å¤©çš„ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Š"

#### ä¸» Agent çš„å·¥ä½œæµç¨‹

```typescript
ä¸» Agent æ¥æ”¶ä»»åŠ¡ï¼š"åˆ†æç”¨æˆ·è¡Œä¸ºæ•°æ®"
  â†“
åˆ†æï¼šéœ€è¦å¤„ç†æ•°æ®åº“å’Œç”Ÿæˆå›¾è¡¨
  â†“
è°ƒç”¨ task_run åˆ›å»ºå­ Agent
  â†“
é—®é¢˜ï¼šå­ Agent åº”è¯¥æœ‰ä»€ä¹ˆèƒ½åŠ›ï¼Ÿ
  â†“
éœ€è¦çš„èƒ½åŠ›ï¼š
  âœ… sql_query      - æŸ¥è¯¢ç”¨æˆ·æ•°æ®
  âœ… data_analysis  - ç»Ÿè®¡åˆ†æ
  âœ… create_chart   - ç”Ÿæˆå›¾è¡¨
  âœ… export_pdf     - å¯¼å‡ºæŠ¥å‘Š
  
ä¸éœ€è¦çš„èƒ½åŠ›ï¼š
  âŒ fs_write       - ä¸éœ€è¦å†™ä»£ç æ–‡ä»¶
  âŒ fs_edit        - ä¸éœ€è¦ç¼–è¾‘ä»£ç 
  âŒ run_test       - ä¸éœ€è¦è¿è¡Œæµ‹è¯•
  âŒ grep           - ä¸éœ€è¦æœç´¢ä»£ç 
```

#### é…ç½®

```typescript
const dataProjectTaskRun = createTaskRunTool({
  templates: [
    {
      id: 'data-analyst',
      tools: ['sql_query', 'data_analysis', 'create_chart', 'export_pdf'],
      whenToUse: 'å½“éœ€è¦åˆ†ææ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Šæ—¶ä½¿ç”¨',
    },
    {
      id: 'ml-engineer',
      tools: ['sql_query', 'train_model', 'predict', 'evaluate'],
      whenToUse: 'å½“éœ€è¦è®­ç»ƒæœºå™¨å­¦ä¹ æ¨¡å‹æ—¶ä½¿ç”¨',
    },
  ],
});

// ä¸» Agent ä½¿ç”¨
const dataAgent = new Agent({
  tools: [dataProjectTaskRun, 'sql_query'],
});

await dataAgent.run('åˆ†æç”¨æˆ·è¡Œä¸ºå¹¶ç”ŸæˆæŠ¥å‘Š');

// å†…éƒ¨æ‰§è¡Œï¼š
// 1. ä¸» Agent ç†è§£ä»»åŠ¡
// 2. è°ƒç”¨ task_run({
//      agentTemplateId: 'data-analyst',  // é€‰æ‹©æ•°æ®åˆ†æä¸“å®¶
//      prompt: 'åˆ†ææœ€è¿‘30å¤©ç”¨æˆ·è¡Œä¸ºï¼Œç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Š'
//    })
// 3. åˆ›å»ºå­ Agentï¼Œåªæœ‰æ•°æ®åˆ†æèƒ½åŠ›
// 4. å­ Agent æŸ¥è¯¢æ•°æ®åº“ã€åˆ†æã€ç”Ÿæˆå›¾è¡¨
// 5. è¿”å›æŠ¥å‘Šç»™ä¸» Agent
```

---

## 3. å®Œæ•´å¯¹è¯æµç¨‹ç¤ºä¾‹

### åœºæ™¯ï¼šå…¨æ ˆå¼€å‘é¡¹ç›® ğŸš€

ç”¨æˆ·ï¼š"å¸®æˆ‘å¼€å‘ä¸€ä¸ªç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…æ‹¬å‰ç«¯ç•Œé¢ã€åç«¯ API å’Œæ•°æ®åº“"

#### ç¬¬ä¸€æ­¥ï¼šä¸» Agent åˆ†æä»»åŠ¡

```typescript
ä¸» Agent æ€è€ƒï¼š
"è¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„å…¨æ ˆé¡¹ç›®ï¼Œéœ€è¦åˆ†æˆå¤šä¸ªå­ä»»åŠ¡ï¼š
1. è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„
2. å¼€å‘åç«¯ API
3. å¼€å‘å‰ç«¯ç•Œé¢
4. ç¼–å†™æµ‹è¯•
æˆ‘éœ€è¦å§”æ´¾ç»™ä¸åŒçš„ä¸“å®¶å­ Agent"
```

#### ç¬¬äºŒæ­¥ï¼šä¸» Agent é…ç½®äº†ä¸åŒçš„å­ Agent æ¨¡æ¿

```typescript
const fullStackTaskRun = createTaskRunTool({
  templates: [
    {
      id: 'database-designer',
      tools: ['sql_query', 'create_table', 'create_migration'],
      whenToUse: 'è®¾è®¡æ•°æ®åº“æ¶æ„æ—¶ä½¿ç”¨',
    },
    {
      id: 'backend-developer',
      tools: ['fs_read', 'fs_write', 'fs_edit', 'run_test'],
      whenToUse: 'å¼€å‘åç«¯ API æ—¶ä½¿ç”¨',
    },
    {
      id: 'frontend-developer',
      tools: ['fs_read', 'fs_write', 'fs_edit', 'browser_preview'],
      whenToUse: 'å¼€å‘å‰ç«¯ç•Œé¢æ—¶ä½¿ç”¨',
    },
    {
      id: 'tester',
      tools: ['run_test', 'integration_test', 'performance_test'],
      whenToUse: 'ç¼–å†™å’Œè¿è¡Œæµ‹è¯•æ—¶ä½¿ç”¨',
    },
  ],
});
```

#### ç¬¬ä¸‰æ­¥ï¼šä¸» Agent ä¾æ¬¡å§”æ´¾ä»»åŠ¡

```typescript
// ä»»åŠ¡ 1: è®¾è®¡æ•°æ®åº“
await taskRun({
  agentTemplateId: 'database-designer',  // æ•°æ®åº“ä¸“å®¶
  prompt: 'è®¾è®¡ç”¨æˆ·ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“è¡¨ç»“æ„ï¼ŒåŒ…æ‹¬ç”¨æˆ·è¡¨ã€è§’è‰²è¡¨ã€æƒé™è¡¨'
});
// â†’ åˆ›å»ºçš„å­ Agent åªèƒ½ç”¨ sql_query, create_table, create_migration
// â†’ å­ Agent è®¾è®¡å¹¶åˆ›å»ºæ•°æ®åº“è¡¨

// ä»»åŠ¡ 2: å¼€å‘åç«¯ API
await taskRun({
  agentTemplateId: 'backend-developer',  // åç«¯å¼€å‘ä¸“å®¶
  prompt: 'åŸºäºæ•°æ®åº“è¡¨ç»“æ„ï¼Œå¼€å‘ RESTful APIï¼ŒåŒ…æ‹¬ç”¨æˆ· CRUDã€è®¤è¯ã€æƒé™æ§åˆ¶'
});
// â†’ åˆ›å»ºçš„å­ Agent åªèƒ½ç”¨ fs_read, fs_write, fs_edit, run_test
// â†’ å­ Agent ç¼–å†™åç«¯ä»£ç å’Œå•å…ƒæµ‹è¯•

// ä»»åŠ¡ 3: å¼€å‘å‰ç«¯ç•Œé¢
await taskRun({
  agentTemplateId: 'frontend-developer',  // å‰ç«¯å¼€å‘ä¸“å®¶
  prompt: 'å¼€å‘ç”¨æˆ·ç®¡ç†çš„å‰ç«¯ç•Œé¢ï¼ŒåŒ…æ‹¬ç™»å½•é¡µã€ç”¨æˆ·åˆ—è¡¨ã€ç”¨æˆ·è¯¦æƒ…ã€æƒé™è®¾ç½®'
});
// â†’ åˆ›å»ºçš„å­ Agent åªèƒ½ç”¨ fs_read, fs_write, fs_edit, browser_preview
// â†’ å­ Agent ç¼–å†™å‰ç«¯ä»£ç å¹¶é¢„è§ˆ

// ä»»åŠ¡ 4: é›†æˆæµ‹è¯•
await taskRun({
  agentTemplateId: 'tester',  // æµ‹è¯•ä¸“å®¶
  prompt: 'ç¼–å†™é›†æˆæµ‹è¯•ï¼Œæµ‹è¯•å‰åç«¯å®Œæ•´æµç¨‹'
});
// â†’ åˆ›å»ºçš„å­ Agent åªèƒ½ç”¨ run_test, integration_test, performance_test
// â†’ å­ Agent ç¼–å†™å¹¶è¿è¡Œæµ‹è¯•
```

---

## 4. ä¸ºä»€ä¹ˆä¸èƒ½æ‰€æœ‰å­ Agent éƒ½æœ‰å…¨éƒ¨å·¥å…·ï¼Ÿ

### é—®é¢˜ï¼šå¦‚æœæ‰€æœ‰å­ Agent éƒ½èƒ½ç”¨æ‰€æœ‰å·¥å…·

```typescript
// é”™è¯¯åšæ³•ï¼šæ‰€æœ‰å­ Agent éƒ½æœ‰å…¨éƒ¨å·¥å…·
const badTaskRun = createTaskRunTool({
  templates: [
    {
      id: 'all-powerful',
      tools: [
        'fs_read', 'fs_write', 'fs_edit',      // æ–‡ä»¶æ“ä½œ
        'sql_query', 'create_table',           // æ•°æ®åº“
        'send_email', 'web_scraping',          // ç½‘ç»œæ“ä½œ
        'train_model', 'predict',              // æœºå™¨å­¦ä¹ 
        'create_chart', 'export_pdf',          // æ•°æ®å¯è§†åŒ–
        // ... è¿˜æœ‰å‡ åä¸ªå·¥å…·
      ],
      whenToUse: 'ä»»ä½•æ—¶å€™éƒ½ç”¨è¿™ä¸ª',
    },
  ],
});
```

#### å¯¼è‡´çš„é—®é¢˜ï¼š

**1. å®‰å…¨é£é™© ğŸš¨**

```typescript
// åœºæ™¯ï¼šåªæ˜¯æƒ³åˆ†ææ•°æ®
await taskRun({
  agentTemplateId: 'all-powerful',
  prompt: 'åˆ†æç”¨æˆ·æ•°æ®'
});

// å±é™©ï¼šå­ Agent æœ‰æ‰€æœ‰æƒé™
// - å¯ä»¥åˆ é™¤æ–‡ä»¶ï¼ˆfs_writeï¼‰
// - å¯ä»¥ä¿®æ”¹æ•°æ®åº“ï¼ˆcreate_tableï¼‰
// - å¯ä»¥å‘é€é‚®ä»¶ï¼ˆsend_emailï¼‰
// - å¯ä»¥çˆ¬å–ç½‘é¡µï¼ˆweb_scrapingï¼‰
// 
// å¦‚æœ Agent çŠ¯é”™æˆ–è¢«æ”»å‡»ï¼Œåæœä¸¥é‡ï¼
```

**2. æ•ˆç‡ä½ä¸‹ ğŸŒ**

```typescript
// é—®é¢˜ï¼šAgent éœ€è¦åœ¨å‡ åä¸ªå·¥å…·ä¸­é€‰æ‹©
ä¸» Agent: "å¸®æˆ‘è¯»å– user.ts æ–‡ä»¶"

å­ Agent æ€è€ƒï¼š
"æˆ‘æœ‰ 50 ä¸ªå·¥å…·å¯ä»¥ç”¨ï¼š
- fs_readï¼Ÿ
- fs_writeï¼Ÿ
- sql_queryï¼Ÿ
- send_emailï¼Ÿ
- ... è¿˜æ˜¯ä»€ä¹ˆï¼Ÿ"

// å·¥å…·å¤ªå¤šï¼Œé€‰æ‹©å›°éš¾ï¼Œæ•ˆç‡ä½
// å°±åƒç»™ä¸€ä¸ªåªéœ€è¦é”¤å­çš„äººä¸€ä¸ªè£…æ»¡å·¥å…·çš„å·¥å…·ç®±
```

**3. æˆæœ¬é«˜ ğŸ’°**

```typescript
// æ¯æ¬¡è°ƒç”¨ AI æ¨¡å‹éƒ½è¦ä¼ æ‰€æœ‰å·¥å…·çš„å®šä¹‰
ç³»ç»Ÿæç¤ºï¼ˆsystem promptï¼‰ï¼š
"ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ 50 ä¸ªå·¥å…·ï¼š
1. fs_read: ...ï¼ˆ200 å­—è¯´æ˜ï¼‰
2. fs_write: ...ï¼ˆ200 å­—è¯´æ˜ï¼‰
3. sql_query: ...ï¼ˆ200 å­—è¯´æ˜ï¼‰
...
50. export_pdf: ...ï¼ˆ200 å­—è¯´æ˜ï¼‰"

æ€»è®¡ï¼š50 Ã— 200 = 10,000 å­—çš„å·¥å…·è¯´æ˜
æ¯æ¬¡è°ƒç”¨éƒ½è¦ä¼ è¿™ä¹ˆå¤š tokensï¼Œæˆæœ¬é«˜ï¼
```

**4. å®¹æ˜“å‡ºé”™ âŒ**

```typescript
// åœºæ™¯ï¼šè®©å­ Agent åˆ†ææ•°æ®
await taskRun({
  agentTemplateId: 'all-powerful',
  prompt: 'åˆ†æé”€å”®æ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Š'
});

// é¢„æœŸï¼š
// - æŸ¥è¯¢æ•°æ®åº“
// - åˆ†ææ•°æ®
// - ç”Ÿæˆå›¾è¡¨
// - å¯¼å‡º PDF

// å®é™…å¯èƒ½å‘ç”Ÿï¼š
// - æŸ¥è¯¢æ•°æ®åº“ âœ“
// - åˆ†ææ•°æ® âœ“
// - ç”Ÿæˆå›¾è¡¨ âœ“
// - ç„¶åçªç„¶å¼€å§‹ä¿®æ”¹ä»£ç æ–‡ä»¶ï¼ˆå› ä¸ºå®ƒä¹Ÿèƒ½ç”¨ fs_editï¼‰âŒ
// - æˆ–è€…å‘é€é‚®ä»¶ï¼ˆå› ä¸ºå®ƒä¹Ÿèƒ½ç”¨ send_emailï¼‰âŒ
// 
// å·¥å…·å¤ªå¤šï¼Œå®¹æ˜“è¯¯ç”¨ï¼
```

---

### æ­£ç¡®åšæ³•ï¼šæŒ‰éœ€åˆ†é…å·¥å…· âœ…

```typescript
const smartTaskRun = createTaskRunTool({
  templates: [
    {
      id: 'data-analyst',
      tools: ['sql_query', 'data_analysis', 'create_chart', 'export_pdf'],
      whenToUse: 'åˆ†ææ•°æ®æ—¶ä½¿ç”¨',
    },
    {
      id: 'code-developer',
      tools: ['fs_read', 'fs_write', 'fs_edit', 'run_test'],
      whenToUse: 'å¼€å‘ä»£ç æ—¶ä½¿ç”¨',
    },
  ],
});

// åœºæ™¯ï¼šåˆ†ææ•°æ®
await taskRun({
  agentTemplateId: 'data-analyst',
  prompt: 'åˆ†æé”€å”®æ•°æ®'
});
// âœ… å­ Agent åªæœ‰ 4 ä¸ªå·¥å…·ï¼Œä¸“æ³¨äºæ•°æ®åˆ†æ
// âœ… ä¸ä¼šè¯¯æ“ä½œæ–‡ä»¶ç³»ç»Ÿ
// âœ… ç³»ç»Ÿæç¤ºæ›´çŸ­ï¼Œæˆæœ¬æ›´ä½
// âœ… é€‰æ‹©æ›´ç®€å•ï¼Œæ•ˆç‡æ›´é«˜
```

---

## 5. çœŸå®ä¸šåŠ¡åœºæ™¯å¯¹æ¯”

### åœºæ™¯ï¼šç”µå•†ç½‘ç«™ç»´æŠ¤

#### ä»»åŠ¡ Aï¼šä¿®å¤å•†å“è¯¦æƒ…é¡µ bug

```typescript
// éœ€è¦çš„èƒ½åŠ›ï¼š
- é˜…è¯»ä»£ç 
- ç¼–è¾‘ä»£ç 
- è¿è¡Œæµ‹è¯•

// ä¸éœ€è¦çš„èƒ½åŠ›ï¼š
- æŸ¥è¯¢æ•°æ®åº“
- å‘é€é‚®ä»¶
- ç”ŸæˆæŠ¥è¡¨

// é…ç½®
const bugFixAgent = createTaskRunTool({
  templates: [{
    id: 'bug-fixer',
    tools: ['fs_read', 'fs_edit', 'run_test'],
  }],
});
```

#### ä»»åŠ¡ Bï¼šåˆ†æç”¨æˆ·è´­ä¹°è¡Œä¸º

```typescript
// éœ€è¦çš„èƒ½åŠ›ï¼š
- æŸ¥è¯¢æ•°æ®åº“
- æ•°æ®åˆ†æ
- ç”Ÿæˆå›¾è¡¨

// ä¸éœ€è¦çš„èƒ½åŠ›ï¼š
- ç¼–è¾‘ä»£ç 
- è¿è¡Œæµ‹è¯•
- ä¿®æ”¹æ–‡ä»¶

// é…ç½®
const dataAnalysisAgent = createTaskRunTool({
  templates: [{
    id: 'data-analyst',
    tools: ['sql_query', 'data_analysis', 'create_chart'],
  }],
});
```

#### ä»»åŠ¡ Cï¼šå‘é€è¥é”€é‚®ä»¶

```typescript
// éœ€è¦çš„èƒ½åŠ›ï¼š
- æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
- å‘é€é‚®ä»¶
- è®°å½•æ—¥å¿—

// ä¸éœ€è¦çš„èƒ½åŠ›ï¼š
- ç¼–è¾‘ä»£ç 
- æ•°æ®åˆ†æ
- ç”Ÿæˆå›¾è¡¨

// é…ç½®
const marketingAgent = createTaskRunTool({
  templates: [{
    id: 'email-marketer',
    tools: ['sql_query', 'send_email', 'log'],
  }],
});
```

**å…³é”®ç‚¹**ï¼š
- åŒä¸€ä¸ªç½‘ç«™é¡¹ç›®
- ä¸åŒçš„ä»»åŠ¡
- éœ€è¦ä¸åŒèƒ½åŠ›çš„ Agent
- å¦‚æœéƒ½ç»™å…¨éƒ¨å·¥å…·ï¼Œæ—¢ä¸å®‰å…¨ä¹Ÿä¸é«˜æ•ˆ

---

## 6. ç±»æ¯”æ€»ç»“ ğŸ“

### å°±åƒå­¦æ ¡é‡Œçš„è€å¸ˆ

```
æ ¡é•¿ï¼ˆä¸» Agentï¼‰éœ€è¦å®‰æ’è€å¸ˆï¼ˆå­ Agentï¼‰ä¸Šè¯¾

æ•°å­¦è¯¾ï¼š
  âœ… éœ€è¦ï¼šæ•°å­¦è€å¸ˆï¼ˆèƒ½ç”¨æ•°å­¦å·¥å…·ï¼‰
  âŒ ä¸ç»™ï¼šä½“è‚²å™¨æã€åŒ–å­¦å®éªŒå®¤ã€ç”»ç¬”

ä½“è‚²è¯¾ï¼š
  âœ… éœ€è¦ï¼šä½“è‚²è€å¸ˆï¼ˆèƒ½ç”¨ä½“è‚²å™¨æï¼‰
  âŒ ä¸ç»™ï¼šæ•°å­¦å…¬å¼ã€åŒ–å­¦è¯å“ã€ç”»ç¬”

ç¾æœ¯è¯¾ï¼š
  âœ… éœ€è¦ï¼šç¾æœ¯è€å¸ˆï¼ˆèƒ½ç”¨ç”»ç¬”ã€é¢œæ–™ï¼‰
  âŒ ä¸ç»™ï¼šæ•°å­¦å…¬å¼ã€ä½“è‚²å™¨æã€åŒ–å­¦è¯å“
```

**ä¸ºä»€ä¹ˆä¸èƒ½æ¯ä¸ªè€å¸ˆéƒ½æœ‰æ‰€æœ‰å·¥å…·ï¼Ÿ**
- âŒ æµªè´¹èµ„æº
- âŒ ä¸å®‰å…¨ï¼ˆåŒ–å­¦è€å¸ˆä¸éœ€è¦ä½“è‚²å™¨æï¼‰
- âŒ æ•ˆç‡ä½ï¼ˆé€‰æ‹©å›°éš¾ï¼‰
- âœ… æŒ‰éœ€åˆ†é…ï¼Œä¸“ä¸šçš„äººåšä¸“ä¸šçš„äº‹

---

## 7. æ ¸å¿ƒè¦ç‚¹

### ä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€é…ç½®ï¼Ÿ

```
åŒä¸€ä¸ªé¡¹ç›®ï¼Œä¸åŒé˜¶æ®µï¼Œéœ€è¦ä¸åŒèƒ½åŠ›çš„å­ Agent

å¼€å‘é˜¶æ®µ â†’ å­ Agent éœ€è¦ï¼šä»£ç ç¼–è¾‘å·¥å…·
æµ‹è¯•é˜¶æ®µ â†’ å­ Agent éœ€è¦ï¼šæµ‹è¯•å·¥å…·
éƒ¨ç½²é˜¶æ®µ â†’ å­ Agent éœ€è¦ï¼šéƒ¨ç½²å·¥å…·
ç›‘æ§é˜¶æ®µ â†’ å­ Agent éœ€è¦ï¼šç›‘æ§å·¥å…·
```

### å¥½å¤„

1. **å®‰å…¨æ€§** ğŸ”’ï¼šæœ€å°æƒé™åŸåˆ™
2. **æ•ˆç‡** âš¡ï¼šå·¥å…·å°‘ï¼Œé€‰æ‹©å¿«
3. **æˆæœ¬** ğŸ’°ï¼štokens å°‘ï¼Œè´¹ç”¨ä½
4. **å‡†ç¡®æ€§** ğŸ¯ï¼šä¸“æ³¨ä»»åŠ¡ï¼Œä¸æ˜“å‡ºé”™
5. **å¯ç»´æŠ¤** ğŸ”§ï¼šé…ç½®æ¸…æ™°ï¼Œæ˜“äºç®¡ç†

---

## æ€»ç»“

**ä¸ºä»€ä¹ˆåŒä¸€ä¸ª task_run å·¥å…·éœ€è¦ä¸åŒé…ç½®ï¼Ÿ**

å› ä¸ºï¼š
- âœ… ä¸åŒä»»åŠ¡éœ€è¦ä¸åŒèƒ½åŠ›
- âœ… ä¸åŒé¡¹ç›®éœ€è¦ä¸åŒå·¥å…·é›†
- âœ… å®‰å…¨ã€æ•ˆç‡ã€æˆæœ¬çš„è€ƒè™‘
- âœ… ä¸“ä¸šçš„ Agent åšä¸“ä¸šçš„äº‹

**å°±åƒ**ï¼š
- é¡¹ç›®ç»ç†æ ¹æ®é¡¹ç›®ç±»å‹é…ç½®ä¸åŒçš„å›¢é˜Ÿæˆå‘˜
- æ ¡é•¿æ ¹æ®è¯¾ç¨‹ç±»å‹å®‰æ’ä¸åŒçš„è€å¸ˆ
- å¨å¸ˆé•¿æ ¹æ®èœå“ç±»å‹é…ç½®ä¸åŒçš„å¨å¸ˆ

**æ ¸å¿ƒæ€æƒ³**ï¼šæŒ‰éœ€åˆ†é…ï¼Œä¸“ä¸šåŒ–ï¼Œé¿å…"å¤§è€Œå…¨"å¸¦æ¥çš„é—®é¢˜ã€‚

